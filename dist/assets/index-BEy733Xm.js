(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function yv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var lm={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function EE(){if(Q_)return lc;Q_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var _ in l)_!=="key"&&(h[_]=l[_])}else h=l;return l=h.ref,{$$typeof:a,type:r,key:m,ref:l!==void 0?l:null,props:h}}return lc.Fragment=e,lc.jsx=i,lc.jsxs=i,lc}var Y_;function TE(){return Y_||(Y_=1,lm.exports=EE()),lm.exports}var R=TE(),um={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function AE(){if($_)return $t;$_=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.iterator;function D(L){return L===null||typeof L!="object"?null:(L=I&&L[I]||L["@@iterator"],typeof L=="function"?L:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,ot={};function et(L,U,mt){this.props=L,this.context=U,this.refs=ot,this.updater=mt||Q}et.prototype.isReactComponent={},et.prototype.setState=function(L,U){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,U,"setState")},et.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function bt(){}bt.prototype=et.prototype;function lt(L,U,mt){this.props=L,this.context=U,this.refs=ot,this.updater=mt||Q}var ut=lt.prototype=new bt;ut.constructor=lt,X(ut,et.prototype),ut.isPureReactComponent=!0;var vt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function V(L,U,mt,ct,Dt,qt){return mt=qt.ref,{$$typeof:a,type:L,key:U,ref:mt!==void 0?mt:null,props:qt}}function x(L,U){return V(L.type,U,void 0,void 0,void 0,L.props)}function N(L){return typeof L=="object"&&L!==null&&L.$$typeof===a}function j(L){var U={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(mt){return U[mt]})}var P=/\/+/g;function q(L,U){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):U.toString(36)}function M(){}function Je(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(U){L.status==="pending"&&(L.status="fulfilled",L.value=U)},function(U){L.status==="pending"&&(L.status="rejected",L.reason=U)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Le(L,U,mt,ct,Dt){var qt=typeof L;(qt==="undefined"||qt==="boolean")&&(L=null);var jt=!1;if(L===null)jt=!0;else switch(qt){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(L.$$typeof){case a:case e:jt=!0;break;case S:return jt=L._init,Le(jt(L._payload),U,mt,ct,Dt)}}if(jt)return Dt=Dt(L),jt=ct===""?"."+q(L,0):ct,vt(Dt)?(mt="",jt!=null&&(mt=jt.replace(P,"$&/")+"/"),Le(Dt,U,mt,"",function(St){return St})):Dt!=null&&(N(Dt)&&(Dt=x(Dt,mt+(Dt.key==null||L&&L.key===Dt.key?"":(""+Dt.key).replace(P,"$&/")+"/")+jt)),U.push(Dt)),1;jt=0;var Ee=ct===""?".":ct+":";if(vt(L))for(var Te=0;Te<L.length;Te++)ct=L[Te],qt=Ee+q(ct,Te),jt+=Le(ct,U,mt,qt,Dt);else if(Te=D(L),typeof Te=="function")for(L=Te.call(L),Te=0;!(ct=L.next()).done;)ct=ct.value,qt=Ee+q(ct,Te++),jt+=Le(ct,U,mt,qt,Dt);else if(qt==="object"){if(typeof L.then=="function")return Le(Je(L),U,mt,ct,Dt);throw U=String(L),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return jt}function W(L,U,mt){if(L==null)return L;var ct=[],Dt=0;return Le(L,ct,"","",function(qt){return U.call(mt,qt,Dt++)}),ct}function dt(L){if(L._status===-1){var U=L._result;U=U(),U.then(function(mt){(L._status===0||L._status===-1)&&(L._status=1,L._result=mt)},function(mt){(L._status===0||L._status===-1)&&(L._status=2,L._result=mt)}),L._status===-1&&(L._status=0,L._result=U)}if(L._status===1)return L._result.default;throw L._result}var Ct=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function fe(){}return $t.Children={map:W,forEach:function(L,U,mt){W(L,function(){U.apply(this,arguments)},mt)},count:function(L){var U=0;return W(L,function(){U++}),U},toArray:function(L){return W(L,function(U){return U})||[]},only:function(L){if(!N(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},$t.Component=et,$t.Fragment=i,$t.Profiler=l,$t.PureComponent=lt,$t.StrictMode=r,$t.Suspense=v,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,$t.__COMPILER_RUNTIME={__proto__:null,c:function(L){return gt.H.useMemoCache(L)}},$t.cache=function(L){return function(){return L.apply(null,arguments)}},$t.cloneElement=function(L,U,mt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ct=X({},L.props),Dt=L.key,qt=void 0;if(U!=null)for(jt in U.ref!==void 0&&(qt=void 0),U.key!==void 0&&(Dt=""+U.key),U)!xt.call(U,jt)||jt==="key"||jt==="__self"||jt==="__source"||jt==="ref"&&U.ref===void 0||(ct[jt]=U[jt]);var jt=arguments.length-2;if(jt===1)ct.children=mt;else if(1<jt){for(var Ee=Array(jt),Te=0;Te<jt;Te++)Ee[Te]=arguments[Te+2];ct.children=Ee}return V(L.type,Dt,void 0,void 0,qt,ct)},$t.createContext=function(L){return L={$$typeof:m,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:h,_context:L},L},$t.createElement=function(L,U,mt){var ct,Dt={},qt=null;if(U!=null)for(ct in U.key!==void 0&&(qt=""+U.key),U)xt.call(U,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Dt[ct]=U[ct]);var jt=arguments.length-2;if(jt===1)Dt.children=mt;else if(1<jt){for(var Ee=Array(jt),Te=0;Te<jt;Te++)Ee[Te]=arguments[Te+2];Dt.children=Ee}if(L&&L.defaultProps)for(ct in jt=L.defaultProps,jt)Dt[ct]===void 0&&(Dt[ct]=jt[ct]);return V(L,qt,void 0,void 0,null,Dt)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(L){return{$$typeof:_,render:L}},$t.isValidElement=N,$t.lazy=function(L){return{$$typeof:S,_payload:{_status:-1,_result:L},_init:dt}},$t.memo=function(L,U){return{$$typeof:b,type:L,compare:U===void 0?null:U}},$t.startTransition=function(L){var U=gt.T,mt={};gt.T=mt;try{var ct=L(),Dt=gt.S;Dt!==null&&Dt(mt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(fe,Ct)}catch(qt){Ct(qt)}finally{gt.T=U}},$t.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},$t.use=function(L){return gt.H.use(L)},$t.useActionState=function(L,U,mt){return gt.H.useActionState(L,U,mt)},$t.useCallback=function(L,U){return gt.H.useCallback(L,U)},$t.useContext=function(L){return gt.H.useContext(L)},$t.useDebugValue=function(){},$t.useDeferredValue=function(L,U){return gt.H.useDeferredValue(L,U)},$t.useEffect=function(L,U,mt){var ct=gt.H;if(typeof mt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ct.useEffect(L,U)},$t.useId=function(){return gt.H.useId()},$t.useImperativeHandle=function(L,U,mt){return gt.H.useImperativeHandle(L,U,mt)},$t.useInsertionEffect=function(L,U){return gt.H.useInsertionEffect(L,U)},$t.useLayoutEffect=function(L,U){return gt.H.useLayoutEffect(L,U)},$t.useMemo=function(L,U){return gt.H.useMemo(L,U)},$t.useOptimistic=function(L,U){return gt.H.useOptimistic(L,U)},$t.useReducer=function(L,U,mt){return gt.H.useReducer(L,U,mt)},$t.useRef=function(L){return gt.H.useRef(L)},$t.useState=function(L){return gt.H.useState(L)},$t.useSyncExternalStore=function(L,U,mt){return gt.H.useSyncExternalStore(L,U,mt)},$t.useTransition=function(){return gt.H.useTransition()},$t.version="19.1.1",$t}var K_;function Gm(){return K_||(K_=1,um.exports=AE()),um.exports}var Ot=Gm();const Ja=yv(Ot);var cm={exports:{}},uc={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function SE(){return X_||(X_=1,(function(a){function e(W,dt){var Ct=W.length;W.push(dt);t:for(;0<Ct;){var fe=Ct-1>>>1,L=W[fe];if(0<l(L,dt))W[fe]=dt,W[Ct]=L,Ct=fe;else break t}}function i(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var dt=W[0],Ct=W.pop();if(Ct!==dt){W[0]=Ct;t:for(var fe=0,L=W.length,U=L>>>1;fe<U;){var mt=2*(fe+1)-1,ct=W[mt],Dt=mt+1,qt=W[Dt];if(0>l(ct,Ct))Dt<L&&0>l(qt,ct)?(W[fe]=qt,W[Dt]=Ct,fe=Dt):(W[fe]=ct,W[mt]=Ct,fe=mt);else if(Dt<L&&0>l(qt,Ct))W[fe]=qt,W[Dt]=Ct,fe=Dt;else break t}}return dt}function l(W,dt){var Ct=W.sortIndex-dt.sortIndex;return Ct!==0?Ct:W.id-dt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var m=Date,_=m.now();a.unstable_now=function(){return m.now()-_}}var v=[],b=[],S=1,I=null,D=3,Q=!1,X=!1,ot=!1,et=!1,bt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function vt(W){for(var dt=i(b);dt!==null;){if(dt.callback===null)r(b);else if(dt.startTime<=W)r(b),dt.sortIndex=dt.expirationTime,e(v,dt);else break;dt=i(b)}}function gt(W){if(ot=!1,vt(W),!X)if(i(v)!==null)X=!0,xt||(xt=!0,q());else{var dt=i(b);dt!==null&&Le(gt,dt.startTime-W)}}var xt=!1,V=-1,x=5,N=-1;function j(){return et?!0:!(a.unstable_now()-N<x)}function P(){if(et=!1,xt){var W=a.unstable_now();N=W;var dt=!0;try{t:{X=!1,ot&&(ot=!1,lt(V),V=-1),Q=!0;var Ct=D;try{e:{for(vt(W),I=i(v);I!==null&&!(I.expirationTime>W&&j());){var fe=I.callback;if(typeof fe=="function"){I.callback=null,D=I.priorityLevel;var L=fe(I.expirationTime<=W);if(W=a.unstable_now(),typeof L=="function"){I.callback=L,vt(W),dt=!0;break e}I===i(v)&&r(v),vt(W)}else r(v);I=i(v)}if(I!==null)dt=!0;else{var U=i(b);U!==null&&Le(gt,U.startTime-W),dt=!1}}break t}finally{I=null,D=Ct,Q=!1}dt=void 0}}finally{dt?q():xt=!1}}}var q;if(typeof ut=="function")q=function(){ut(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Je=M.port2;M.port1.onmessage=P,q=function(){Je.postMessage(null)}}else q=function(){bt(P,0)};function Le(W,dt){V=bt(function(){W(a.unstable_now())},dt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(W){W.callback=null},a.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},a.unstable_getCurrentPriorityLevel=function(){return D},a.unstable_next=function(W){switch(D){case 1:case 2:case 3:var dt=3;break;default:dt=D}var Ct=D;D=dt;try{return W()}finally{D=Ct}},a.unstable_requestPaint=function(){et=!0},a.unstable_runWithPriority=function(W,dt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Ct=D;D=W;try{return dt()}finally{D=Ct}},a.unstable_scheduleCallback=function(W,dt,Ct){var fe=a.unstable_now();switch(typeof Ct=="object"&&Ct!==null?(Ct=Ct.delay,Ct=typeof Ct=="number"&&0<Ct?fe+Ct:fe):Ct=fe,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Ct+L,W={id:S++,callback:dt,priorityLevel:W,startTime:Ct,expirationTime:L,sortIndex:-1},Ct>fe?(W.sortIndex=Ct,e(b,W),i(v)===null&&W===i(b)&&(ot?(lt(V),V=-1):ot=!0,Le(gt,Ct-fe))):(W.sortIndex=L,e(v,W),X||Q||(X=!0,xt||(xt=!0,q()))),W},a.unstable_shouldYield=j,a.unstable_wrapCallback=function(W){var dt=D;return function(){var Ct=D;D=dt;try{return W.apply(this,arguments)}finally{D=Ct}}}})(fm)),fm}var Z_;function wE(){return Z_||(Z_=1,hm.exports=SE()),hm.exports}var dm={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function RE(){if(J_)return Qn;J_=1;var a=Gm();function e(v){var b="https://react.dev/errors/"+v;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)b+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,b,S){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:v,containerInfo:b,implementation:S}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(v,b){if(v==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qn.createPortal=function(v,b){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(e(299));return h(v,b,null,S)},Qn.flushSync=function(v){var b=m.T,S=r.p;try{if(m.T=null,r.p=2,v)return v()}finally{m.T=b,r.p=S,r.d.f()}},Qn.preconnect=function(v,b){typeof v=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(v,b))},Qn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},Qn.preinit=function(v,b){if(typeof v=="string"&&b&&typeof b.as=="string"){var S=b.as,I=_(S,b.crossOrigin),D=typeof b.integrity=="string"?b.integrity:void 0,Q=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;S==="style"?r.d.S(v,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:Q}):S==="script"&&r.d.X(v,{crossOrigin:I,integrity:D,fetchPriority:Q,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Qn.preinitModule=function(v,b){if(typeof v=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var S=_(b.as,b.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(v)},Qn.preload=function(v,b){if(typeof v=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var S=b.as,I=_(S,b.crossOrigin);r.d.L(v,S,{crossOrigin:I,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Qn.preloadModule=function(v,b){if(typeof v=="string")if(b){var S=_(b.as,b.crossOrigin);r.d.m(v,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:S,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(v)},Qn.requestFormReset=function(v){r.d.r(v)},Qn.unstable_batchedUpdates=function(v,b){return v(b)},Qn.useFormState=function(v,b,S){return m.H.useFormState(v,b,S)},Qn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Qn.version="19.1.1",Qn}var W_;function CE(){if(W_)return dm.exports;W_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),dm.exports=RE(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function xE(){if(ty)return uc;ty=1;var a=wE(),e=Gm(),i=CE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,o=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return _(c),t;if(d===o)return _(c),n;d=d.sibling}throw Error(r(188))}if(s.return!==o.return)s=c,o=d;else{for(var E=!1,A=c.child;A;){if(A===s){E=!0,s=c,o=d;break}if(A===o){E=!0,o=c,s=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===s){E=!0,s=d,o=c;break}if(A===o){E=!0,o=d,s=c;break}A=A.sibling}if(!E)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case et:return"Profiler";case ot:return"StrictMode";case gt:return"Suspense";case xt:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return n=t.displayName||null,n!==null?n:Je(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Je(t(n))}catch{}}return null}var Le=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},fe=[],L=-1;function U(t){return{current:t}}function mt(t){0>L||(t.current=fe[L],fe[L]=null,L--)}function ct(t,n){L++,fe[L]=t.current,t.current=n}var Dt=U(null),qt=U(null),jt=U(null),Ee=U(null);function Te(t,n){switch(ct(jt,n),ct(qt,t),ct(Dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b_(n),t=E_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}mt(Dt),ct(Dt,t)}function St(){mt(Dt),mt(qt),mt(jt)}function xi(t){t.memoizedState!==null&&ct(Ee,t);var n=Dt.current,s=E_(n,t.type);n!==s&&(ct(qt,t),ct(Dt,s))}function Ki(t){qt.current===t&&(mt(Dt),mt(qt)),Ee.current===t&&(mt(Ee),ic._currentValue=Ct)}var pr=Object.prototype.hasOwnProperty,gr=a.unstable_scheduleCallback,Di=a.unstable_cancelCallback,na=a.unstable_shouldYield,Vs=a.unstable_requestPaint,pn=a.unstable_now,uu=a.unstable_getCurrentPriorityLevel,go=a.unstable_ImmediatePriority,ia=a.unstable_UserBlockingPriority,_r=a.unstable_NormalPriority,cu=a.unstable_LowPriority,sa=a.unstable_IdlePriority,_o=a.log,yr=a.unstable_setDisableYieldValue,_e=null,pe=null;function Kn(t){if(typeof _o=="function"&&yr(t),pe&&typeof pe.setStrictMode=="function")try{pe.setStrictMode(_e,t)}catch{}}var vn=Math.clz32?Math.clz32:oi,Ms=Math.log,js=Math.LN2;function oi(t){return t>>>=0,t===0?32:31-(Ms(t)/js|0)|0}var Xi=256,vr=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ra(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~d,o!==0?c=Xn(o):(E&=A,E!==0?c=Xn(E):s||(s=A&~t,s!==0&&(c=Xn(s))))):(A=o&~d,A!==0?c=Xn(A):E!==0?c=Xn(E):s||(s=o&~t,s!==0&&(c=Xn(s)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:c}function br(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function yo(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=Xi;return Xi<<=1,(Xi&4194048)===0&&(Xi=256),t}function bo(){var t=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),t}function hs(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Zi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ls(t,n,s,o,c,d){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,Y=t.hiddenUpdates;for(s=E&~s;0<s;){var tt=31-vn(s),rt=1<<tt;A[tt]=0,O[tt]=-1;var $=Y[tt];if($!==null)for(Y[tt]=null,tt=0;tt<$.length;tt++){var K=$[tt];K!==null&&(K.lane&=-536870913)}s&=~rt}o!==0&&Ni(t,o,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~n))}function Ni(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-vn(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function aa(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-vn(s),c=1<<o;c&n|t[o]&n&&(t[o]|=n),s&=~c}}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Us(){var t=dt.p;return t!==0?t:(t=window.event,t===void 0?32:k_(t.type))}function Wo(t,n){var s=dt.p;try{return dt.p=t,n()}finally{dt.p=s}}var ye=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ye,Ke="__reactProps$"+ye,li="__reactContainer$"+ye,Eo="__reactEvents$"+ye,hu="__reactListeners$"+ye,zs="__reactHandles$"+ye,la="__reactResources$"+ye,ui="__reactMarker$"+ye;function Ii(t){delete t[Pe],delete t[Ke],delete t[Eo],delete t[hu],delete t[zs]}function fs(t){var n=t[Pe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[li]||s[Pe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=w_(t);t!==null;){if(s=t[Pe])return s;t=w_(t)}return n}t=s,s=t.parentNode}return null}function ci(t){if(t=t[Pe]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ji(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Nn(t){var n=t[la];return n||(n=t[la]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(t){t[ui]=!0}var We=new Set,on={};function Ue(t,n){ze(t,n),ze(t+"Capture",n)}function ze(t,n){for(on[t]=n,t=0;t<n.length;t++)We.add(n[t])}var Er=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ds={},Zn={};function ms(t){return pr.call(Zn,t)?!0:pr.call(ds,t)?!1:Er.test(t)?Zn[t]=!0:(ds[t]=!0,!1)}function ps(t,n,s){if(ms(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function hi(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function qe(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var ks,ua;function Oi(t){if(ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ks=n&&n[1]||"",ua=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+ua}var Tr=!1;function Ar(t,n){if(!t||Tr)return"";Tr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(K){var $=K}Reflect.construct(t,[],rt)}else{try{rt.call()}catch(K){$=K}t.call(rt.prototype)}}else{try{throw Error()}catch(K){$=K}(rt=t())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var O=E.split(`
`),Y=A.split(`
`);for(c=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;if(o===O.length||c===Y.length)for(o=O.length-1,c=Y.length-1;1<=o&&0<=c&&O[o]!==Y[c];)c--;for(;1<=o&&0<=c;o--,c--)if(O[o]!==Y[c]){if(o!==1||c!==1)do if(o--,c--,0>c||O[o]!==Y[c]){var tt=`
`+O[o].replace(" at new "," at ");return t.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",t.displayName)),tt}while(1<=o&&0<=c);break}}}finally{Tr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Oi(s):""}function ca(t){switch(t.tag){case 26:case 27:case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return Ar(t.type,!1);case 11:return Ar(t.type.render,!1);case 1:return Ar(t.type,!0);case 31:return Oi("Activity");default:return""}}function Sr(t){try{var n="";do n+=ca(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function bn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ha(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function tl(t){var n=ha(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(E){o=""+E,d.call(this,E)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function wr(t){t._valueTracker||(t._valueTracker=tl(t))}function fa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=ha(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fi=/[\n"\\]/g;function ae(t){return t.replace(fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function tn(t,n,s,o,c,d,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+bn(n)):t.value!==""+bn(n)&&(t.value=""+bn(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?Wi(t,E,bn(n)):s!=null?Wi(t,E,bn(s)):o!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+bn(A):t.removeAttribute("name")}function ln(t,n,s,o,c,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+bn(s):"",n=n!=null?""+bn(n):s,A||n===t.value||(t.value=n),t.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Wi(t,n,s){n==="number"&&Bs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Vi(t,n,s,o){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&o&&(t[s].defaultSelected=!0)}else{for(s=""+bn(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Xt(t,n,s){if(n!=null&&(n=""+bn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+bn(s):""}function Jn(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Le(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=bn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function In(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function da(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||di.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ma(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&da(t,c,o)}else for(var d in n)n.hasOwnProperty(d)&&da(t,d,n[d])}function ts(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),el=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return el.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gs=null;function en(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,es=null;function _s(t){var n=ci(t);if(n&&(t=n.stateNode)){var s=t[Ke]||null;t:switch(t=n.stateNode,n.type){case"input":if(tn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ae(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var c=o[Ke]||null;if(!c)throw Error(r(90));tn(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&fa(o)}break t;case"textarea":Xt(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Vi(t,!!s.multiple,n,!1)}}}var pi=!1;function qs(t,n,s){if(pi)return t(n,s);pi=!0;try{var o=t(n);return o}finally{if(pi=!1,(mi!==null||es!==null)&&(Vh(),mi&&(n=mi,t=es,es=mi=null,_s(n),t)))for(n=0;n<t.length;n++)_s(t[n])}}function Hs(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wn=!1;if(gi)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Wn=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Wn=!1}var ns=null,ys=null,Mi=null;function Fs(){if(Mi)return Mi;var t,n=ys,s=n.length,o,c="value"in ns?ns.value:ns.textContent,d=c.length;for(t=0;t<s&&n[t]===c[t];t++);var E=s-t;for(o=1;o<=E&&n[s-o]===c[d-o];o++);return Mi=c.slice(t,1<o?1-o:void 0)}function yi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function is(){return!0}function Gs(){return!1}function un(t){function n(s,o,c,d,E){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?is:Gs,this.isPropagationStopped=Gs,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),n}var de={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=un(de),vs=S({},de,{view:0,detail:0}),pa=un(vs),Rr,ss,vi,Ys=S({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Rr=t.screenX-vi.screenX,ss=t.screenY-vi.screenY):ss=Rr=0,vi=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:ss}}),ti=un(Ys),bs=S({},Ys,{dataTransfer:0}),fu=un(bs),$s=S({},vs,{relatedTarget:0}),Cr=un($s),ga=S({},de,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=un(ga),Ao=S({},de,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ks=un(Ao),nl=S({},de,{data:0}),So=un(nl),Dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ro[t])?!!n[t]:!1}function Nr(){return Xs}var il=S({},vs,{key:function(t){if(t.key){var n=Dr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zs=un(il),Co=S({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_a=un(Co),On=S({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),ya=un(On),sl=S({},de,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=un(sl),rl=S({},Ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=un(rl),Vn=S({},de,{newState:0,oldState:0}),al=un(Vn),Do=[9,13,27,32],ji=gi&&"CompositionEvent"in window,u=null;gi&&"documentMode"in document&&(u=document.documentMode);var p=gi&&"TextEvent"in window&&!u,y=gi&&(!ji||u&&8<u&&11>=u),C=" ",F=!1;function J(t,n){switch(t){case"keyup":return Do.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var te=!1;function nn(t,n){switch(t){case"compositionend":return ft(n);case"keypress":return n.which!==32?null:(F=!0,C);case"textInput":return t=n.data,t===C&&F?null:t;default:return null}}function ee(t,n){if(te)return t==="compositionend"||!ji&&J(t,n)?(t=Fs(),Mi=ys=ns=null,te=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!cn[t.type]:n==="textarea"}function Es(t,n,s,o){mi?es?es.push(o):es=[o]:mi=o,n=zh(n,"onChange"),0<n.length&&(s=new Qs("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Se=null,Li=null;function ba(t){p_(t,0)}function No(t){var n=Ji(t);if(fa(n))return t}function Bc(t,n){if(t==="change")return n}var qc=!1;if(gi){var ol;if(gi){var Ea="oninput"in document;if(!Ea){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),Ea=typeof Hc.oninput=="function"}ol=Ea}else ol=!1;qc=ol&&(!document.documentMode||9<document.documentMode)}function Fc(){Se&&(Se.detachEvent("onpropertychange",du),Li=Se=null)}function du(t){if(t.propertyName==="value"&&No(Li)){var n=[];Es(n,Li,t,en(t)),qs(ba,n)}}function Jf(t,n,s){t==="focusin"?(Fc(),Se=n,Li=s,Se.attachEvent("onpropertychange",du)):t==="focusout"&&Fc()}function Wf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return No(Li)}function Gc(t,n){if(t==="click")return No(n)}function Qc(t,n){if(t==="input"||t==="change")return No(n)}function Yc(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var En=typeof Object.is=="function"?Object.is:Yc;function Ta(t,n){if(En(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!pr.call(n,c)||!En(t[c],n[c]))return!1}return!0}function ll(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ei(t,n){var s=ll(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ll(s)}}function $c(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?$c(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Bs(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Bs(t.document)}return n}function ul(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Xc=gi&&"documentMode"in document&&11>=document.documentMode,Aa=null,mu=null,Io=null,pu=!1;function Zc(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pu||Aa==null||Aa!==Bs(o)||(o=Aa,"selectionStart"in o&&ul(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ta(Io,o)||(Io=o,o=zh(mu,"onSelect"),0<o.length&&(n=new Qs("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=Aa)))}function Ir(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Or={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},cl={},hl={};gi&&(hl=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Vr(t){if(cl[t])return cl[t];if(!Or[t])return t;var n=Or[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in hl)return cl[t]=n[s];return t}var Jc=Vr("animationend"),Js=Vr("animationiteration"),rs=Vr("animationstart"),Wc=Vr("transitionrun"),td=Vr("transitionstart"),th=Vr("transitioncancel"),gu=Vr("transitionend"),_u=new Map,fl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fl.push("scrollEnd");function Pi(t,n){_u.set(t,n),Ue(n,[t])}var eh=new WeakMap;function bi(t,n){if(typeof t=="object"&&t!==null){var s=eh.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Sr(n)},eh.set(t,n),n)}return{value:t,source:n,stack:Sr(n)}}var ni=[],Mr=0,yu=0;function dl(){for(var t=Mr,n=yu=Mr=0;n<t;){var s=ni[n];ni[n++]=null;var o=ni[n];ni[n++]=null;var c=ni[n];ni[n++]=null;var d=ni[n];if(ni[n++]=null,o!==null&&c!==null){var E=o.pending;E===null?c.next=c:(c.next=E.next,E.next=c),o.pending=c}d!==0&&as(s,c,d)}}function ml(t,n,s,o){ni[Mr++]=t,ni[Mr++]=n,ni[Mr++]=s,ni[Mr++]=o,yu|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function vu(t,n,s,o){return ml(t,n,s,o),Oo(t)}function Sa(t,n){return ml(t,null,null,n),Oo(t)}function as(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var c=!1,d=t.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&n!==null&&(c=31-vn(s),t=d.hiddenUpdates,o=t[c],o===null?t[c]=[n]:o.push(n),n.lane=s|536870912),d):null}function Oo(t){if(50<Ku)throw Ku=0,Od=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function ed(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(t,n,s,o){return new ed(t,n,s,o)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ts(t,n){var s=t.alternate;return s===null?(s=ii(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function nh(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function pl(t,n,s,o,c,d){var E=0;if(o=t,typeof t=="function")bu(t)&&(E=1);else if(typeof t=="string")E=lE(t,s,Dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case N:return t=ii(31,s,n,c),t.elementType=N,t.lanes=d,t;case X:return jr(s.children,c,d,n);case ot:E=8,c|=24;break;case et:return t=ii(12,s,n,c|2),t.elementType=et,t.lanes=d,t;case gt:return t=ii(13,s,n,c),t.elementType=gt,t.lanes=d,t;case xt:return t=ii(19,s,n,c),t.elementType=xt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case ut:E=10;break t;case lt:E=9;break t;case vt:E=11;break t;case V:E=14;break t;case x:E=16,o=null;break t}E=29,s=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=ii(E,s,n,c),n.elementType=t,n.type=o,n.lanes=d,n}function jr(t,n,s,o){return t=ii(7,t,o,n),t.lanes=s,t}function Vo(t,n,s){return t=ii(6,t,null,n),t.lanes=s,t}function Ra(t,n,s){return n=ii(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ca=[],Lr=0,Mo=null,Ws=0,Hn=[],Fn=0,Pr=null,As=1,Ss="";function si(t,n){Ca[Lr++]=Ws,Ca[Lr++]=Mo,Mo=t,Ws=n}function ih(t,n,s){Hn[Fn++]=As,Hn[Fn++]=Ss,Hn[Fn++]=Pr,Pr=t;var o=As;t=Ss;var c=32-vn(o)-1;o&=~(1<<c),s+=1;var d=32-vn(n)+c;if(30<d){var E=c-c%5;d=(o&(1<<E)-1).toString(32),o>>=E,c-=E,As=1<<32-vn(n)+c|s<<c|o,Ss=d+t}else As=1<<d|s<<c|o,Ss=t}function Eu(t){t.return!==null&&(si(t,1),ih(t,1,0))}function Tu(t){for(;t===Mo;)Mo=Ca[--Lr],Ca[Lr]=null,Ws=Ca[--Lr],Ca[Lr]=null;for(;t===Pr;)Pr=Hn[--Fn],Hn[Fn]=null,Ss=Hn[--Fn],Hn[Fn]=null,As=Hn[--Fn],Hn[Fn]=null}var Mn=null,Oe=null,re=!1,Ur=null,Ui=!1,Au=Error(r(519));function Ei(t){var n=Error(r(418,""));throw ws(bi(n,t)),Au}function gl(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Pe]=t,n[Ke]=o,s){case"dialog":Wt("cancel",n),Wt("close",n);break;case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(s=0;s<Zu.length;s++)Wt(Zu[s],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"details":Wt("toggle",n);break;case"input":Wt("invalid",n),ln(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),wr(n);break;case"select":Wt("invalid",n);break;case"textarea":Wt("invalid",n),Jn(n,o.value,o.defaultValue,o.children),wr(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||v_(n.textContent,s)?(o.popover!=null&&(Wt("beforetoggle",n),Wt("toggle",n)),o.onScroll!=null&&Wt("scroll",n),o.onScrollEnd!=null&&Wt("scrollend",n),o.onClick!=null&&(n.onclick=kh),n=!0):n=!1,n||Ei(t)}function Su(t){for(Mn=t.return;Mn;)switch(Mn.tag){case 5:case 13:Ui=!1;return;case 27:case 3:Ui=!0;return;default:Mn=Mn.return}}function jo(t){if(t!==Mn)return!1;if(!re)return Su(t),re=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||$d(t.type,t.memoizedProps)),s=!s),s&&Oe&&Ei(t),Su(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){Oe=Is(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}Oe=null}}else n===27?(n=Oe,Ga(t.type)?(t=Jd,Jd=null,Oe=t):Oe=n):Oe=Mn?Is(t.stateNode.nextSibling):null;return!0}function Lo(){Oe=Mn=null,re=!1}function sh(){var t=Ur;return t!==null&&(Ri===null?Ri=t:Ri.push.apply(Ri,t),Ur=null),t}function ws(t){Ur===null?Ur=[t]:Ur.push(t)}var Rs=U(null),zr=null,Cs=null;function tr(t,n,s){ct(Rs,n._currentValue),n._currentValue=s}function xs(t){t._currentValue=Rs.current,mt(Rs)}function wu(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Ru(t,n,s,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var E=c.child;d=d.firstContext;t:for(;d!==null;){var A=d;d=c;for(var O=0;O<n.length;O++)if(A.context===n[O]){d.lanes|=s,A=d.alternate,A!==null&&(A.lanes|=s),wu(d.return,s,t),o||(E=null);break t}d=A.next}}else if(c.tag===18){if(E=c.return,E===null)throw Error(r(341));E.lanes|=s,d=E.alternate,d!==null&&(d.lanes|=s),wu(E,s,t),E=null}else E=c.child;if(E!==null)E.return=c;else for(E=c;E!==null;){if(E===t){E=null;break}if(c=E.sibling,c!==null){c.return=E.return,E=c;break}E=E.return}c=E}}function Po(t,n,s,o){t=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var E=c.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=c.type;En(c.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(c===Ee.current){if(E=c.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(ic):t=[ic])}c=c.return}t!==null&&Ru(n,t,s,o),n.flags|=262144}function _l(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){zr=t,Cs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Tn(t){return yl(zr,t)}function Uo(t,n){return zr===null&&er(t),yl(t,n)}function yl(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Cs===null){if(t===null)throw Error(r(308));Cs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Cs=Cs.next=n;return s}var rh=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},kr=a.unstable_scheduleCallback,ah=a.unstable_NormalPriority,Fe={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vl(){return{controller:new rh,data:new Map,refCount:0}}function Br(t){t.refCount--,t.refCount===0&&kr(ah,function(){t.controller.abort()})}var xa=null,zo=0,Da=0,Ti=null;function nr(t,n){if(xa===null){var s=xa=[];zo=0,Da=zd(),Ti={status:"pending",value:void 0,then:function(o){s.push(o)}}}return zo++,n.then(oh,oh),n}function oh(){if(--zo===0&&xa!==null){Ti!==null&&(Ti.status="fulfilled");var t=xa;xa=null,Da=0,Ti=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nd(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var lh=W.S;W.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&nr(t,n),lh!==null&&lh(t,n)};var qr=U(null);function Cu(){var t=qr.current;return t!==null?t:je.pooledCache}function bl(t,n){n===null?ct(qr,qr.current):ct(qr,n.pool)}function uh(){var t=Cu();return t===null?null:{parent:Fe._currentValue,pool:t}}var ko=Error(r(460)),xu=Error(r(474)),Hr=Error(r(542)),Na={then:function(){}};function ch(t){return t=t.status,t==="fulfilled"||t==="rejected"}function El(){}function Ia(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(El,El),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,g(t),t;default:if(typeof n.status=="string")n.then(El,El);else{if(t=je,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,g(t),t}throw T=n,ko}}var T=null;function f(){if(T===null)throw Error(r(459));var t=T;return T=null,t}function g(t){if(t===ko||t===Hr)throw Error(r(483))}var w=!1;function k(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function B(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Z(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function st(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Re&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Oo(t),as(t,null,s),n}return ml(t,o,n,s),Oo(t)}function ht(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,aa(t,s)}}function Et(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=E:d=d.next=E,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Tt=!1;function _t(){if(Tt){var t=Ti;if(t!==null)throw t}}function Ft(t,n,s,o){Tt=!1;var c=t.updateQueue;w=!1;var d=c.firstBaseUpdate,E=c.lastBaseUpdate,A=c.shared.pending;if(A!==null){c.shared.pending=null;var O=A,Y=O.next;O.next=null,E===null?d=Y:E.next=Y,E=O;var tt=t.alternate;tt!==null&&(tt=tt.updateQueue,A=tt.lastBaseUpdate,A!==E&&(A===null?tt.firstBaseUpdate=Y:A.next=Y,tt.lastBaseUpdate=O))}if(d!==null){var rt=c.baseState;E=0,tt=Y=O=null,A=d;do{var $=A.lane&-536870913,K=$!==A.lane;if(K?(le&$)===$:(o&$)===$){$!==0&&$===Da&&(Tt=!0),tt!==null&&(tt=tt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Ht=t,Pt=A;$=n;var Ne=s;switch(Pt.tag){case 1:if(Ht=Pt.payload,typeof Ht=="function"){rt=Ht.call(Ne,rt,$);break t}rt=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Pt.payload,$=typeof Ht=="function"?Ht.call(Ne,rt,$):Ht,$==null)break t;rt=S({},rt,$);break t;case 2:w=!0}}$=A.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=c.callbacks,K===null?c.callbacks=[$]:K.push($))}else K={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},tt===null?(Y=tt=K,O=rt):tt=tt.next=K,E|=$;if(A=A.next,A===null){if(A=c.shared.pending,A===null)break;K=A,A=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);tt===null&&(O=rt),c.baseState=O,c.firstBaseUpdate=Y,c.lastBaseUpdate=tt,d===null&&(c.shared.lanes=0),Ba|=E,t.lanes=E,t.memoizedState=rt}}function Lt(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Gt(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Lt(s[t],n)}var Vt=U(null),kt=U(0);function ve(t,n){t=Zr,ct(kt,t),ct(Vt,n),Zr=t|n.baseLanes}function Ae(){ct(kt,Zr),ct(Vt,Vt.current)}function Yt(){Zr=kt.current,mt(Vt),mt(kt)}var Kt=0,pt=null,wt=null,Ut=null,me=!1,ne=!1,we=!1,An=0,jn=0,Xe=null,Ai=0;function oe(){throw Error(r(321))}function Me(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!En(t[s],n[s]))return!1;return!0}function Si(t,n,s,o,c,d){return Kt=d,pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=t===null||t.memoizedState===null?Wp:tg,we=!1,d=s(o,c),we=!1,ne&&(d=Fr(n,s,o,c)),zi(t),d}function zi(t){W.H=bh;var n=wt!==null&&wt.next!==null;if(Kt=0,Ut=wt=pt=null,me=!1,jn=0,Xe=null,n)throw Error(r(300));t===null||Sn||(t=t.dependencies,t!==null&&_l(t)&&(Sn=!0))}function Fr(t,n,s,o){pt=t;var c=0;do{if(ne&&(Xe=null),jn=0,ne=!1,25<=c)throw Error(r(301));if(c+=1,Ut=wt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=vb,d=n(s,o)}while(ne);return d}function hn(){var t=W.H,n=t.useState()[0];return n=typeof n.then=="function"?Oa(n):n,t=t.useState()[0],(wt!==null?wt.memoizedState:null)!==t&&(pt.flags|=1024),n}function be(){var t=An!==0;return An=0,t}function gn(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Gn(t){if(me){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}me=!1}Kt=0,Ut=wt=pt=null,ne=!1,jn=An=0,Xe=null}function Ge(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?pt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function ke(){if(wt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var n=Ut===null?pt.memoizedState:Ut.next;if(n!==null)Ut=n,wt=t;else{if(t===null)throw pt.alternate===null?Error(r(467)):Error(r(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Ut===null?pt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oa(t){var n=jn;return jn+=1,Xe===null&&(Xe=[]),t=Ia(Xe,t,n),n=pt,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?Wp:tg),t}function Gr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oa(t);if(t.$$typeof===ut)return Tn(t)}throw Error(r(438,String(t)))}function Du(t){var n=null,s=pt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=pt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Tl(),pt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=j;return n.index++,s}function Ds(t,n){return typeof n=="function"?n(t):n}function Va(t){var n=ke();return Nu(n,wt,t)}function Nu(t,n,s){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var c=t.baseQueue,d=o.pending;if(d!==null){if(c!==null){var E=c.next;c.next=d.next,d.next=E}n.baseQueue=c=d,o.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var A=E=null,O=null,Y=n,tt=!1;do{var rt=Y.lane&-536870913;if(rt!==Y.lane?(le&rt)===rt:(Kt&rt)===rt){var $=Y.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),rt===Da&&(tt=!0);else if((Kt&$)===$){Y=Y.next,$===Da&&(tt=!0);continue}else rt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(A=O=rt,E=d):O=O.next=rt,pt.lanes|=$,Ba|=$;rt=Y.action,we&&s(d,rt),d=Y.hasEagerState?Y.eagerState:s(d,rt)}else $={lane:rt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(A=O=$,E=d):O=O.next=$,pt.lanes|=rt,Ba|=rt;Y=Y.next}while(Y!==null&&Y!==n);if(O===null?E=d:O.next=A,!En(d,t.memoizedState)&&(Sn=!0,tt&&(s=Ti,s!==null)))throw s;t.memoizedState=d,t.baseState=E,t.baseQueue=O,o.lastRenderedState=d}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Al(t){var n=ke(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var o=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var E=c=c.next;do d=t(d,E.action),E=E.next;while(E!==c);En(d,n.memoizedState)||(Sn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function hh(t,n,s){var o=pt,c=ke(),d=re;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=n();var E=!En((wt||c).memoizedState,s);E&&(c.memoizedState=s,Sn=!0),c=c.queue;var A=fh.bind(null,o,c,t);if(Uu(2048,8,A,[t]),c.getSnapshot!==n||E||Ut!==null&&Ut.memoizedState.tag&1){if(o.flags|=2048,Cl(9,_h(),Ou.bind(null,o,c,s,n),null),je===null)throw Error(r(349));d||(Kt&124)!==0||Iu(o,n,s)}return s}function Iu(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=pt.updateQueue,n===null?(n=Tl(),pt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Ou(t,n,s,o){n.value=s,n.getSnapshot=o,dh(n)&&ir(t)}function fh(t,n,s){return s(function(){dh(n)&&ir(t)})}function dh(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!En(t,s)}catch{return!0}}function ir(t){var n=Sa(t,2);n!==null&&Fi(n,t,2)}function Ma(t){var n=Ge();if(typeof t=="function"){var s=t;if(t=s(),we){Kn(!0);try{s()}finally{Kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:t},n}function Vu(t,n,s,o){return t.baseState=s,Nu(t,wt,typeof o=="function"?o:Ds)}function mh(t,n,s,o,c){if(vh(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};W.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,Sl(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Sl(t,n){var s=n.action,o=n.payload,c=t.state;if(n.isTransition){var d=W.T,E={};W.T=E;try{var A=s(c,o),O=W.S;O!==null&&O(E,A),Mu(t,n,A)}catch(Y){wl(t,n,Y)}finally{W.T=d}}else try{d=s(c,o),Mu(t,n,d)}catch(Y){wl(t,n,Y)}}function Mu(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ju(t,n,o)},function(o){return wl(t,n,o)}):ju(t,n,s)}function ju(t,n,s){n.status="fulfilled",n.value=s,Lu(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Sl(t,s)))}function wl(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Lu(n),n=n.next;while(n!==o)}t.action=null}function Lu(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ph(t,n){return n}function gh(t,n){if(re){var s=je.formState;if(s!==null){t:{var o=pt;if(re){if(Oe){e:{for(var c=Oe,d=Ui;c.nodeType!==8;){if(!d){c=null;break e}if(c=Is(c.nextSibling),c===null){c=null;break e}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Oe=Is(c.nextSibling),o=c.data==="F!";break t}}Ei(o)}o=!1}o&&(n=s[0])}}return s=Ge(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ph,lastRenderedState:n},s.queue=o,s=Xp.bind(null,pt,o),o.dispatch=s,o=Ma(!1),d=od.bind(null,pt,!1,o.queue),o=Ge(),c={state:n,dispatch:null,action:t,pending:null},o.queue=c,s=mh.bind(null,pt,c,d,s),c.dispatch=s,o.memoizedState=t,[n,s,!1]}function Rl(t){var n=ke();return Pu(n,wt,t)}function Pu(t,n,s){if(n=Nu(t,n,ph)[0],t=Va(Ds)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Oa(n)}catch(E){throw E===ko?Hr:E}else o=n;n=ke();var c=n.queue,d=c.dispatch;return s!==n.memoizedState&&(pt.flags|=2048,Cl(9,_h(),pb.bind(null,c,s),null)),[o,d,t]}function pb(t,n){t.action=n}function Mp(t){var n=ke(),s=wt;if(s!==null)return Pu(n,s,t);ke(),n=n.memoizedState,s=ke();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Cl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=pt.updateQueue,n===null&&(n=Tl(),pt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function _h(){return{destroy:void 0,resource:void 0}}function jp(){return ke().memoizedState}function yh(t,n,s,o){var c=Ge();o=o===void 0?null:o,pt.flags|=t,c.memoizedState=Cl(1|n,_h(),s,o)}function Uu(t,n,s,o){var c=ke();o=o===void 0?null:o;var d=c.memoizedState.inst;wt!==null&&o!==null&&Me(o,wt.memoizedState.deps)?c.memoizedState=Cl(n,d,s,o):(pt.flags|=t,c.memoizedState=Cl(1|n,d,s,o))}function Lp(t,n){yh(8390656,8,t,n)}function Pp(t,n){Uu(2048,8,t,n)}function Up(t,n){return Uu(4,2,t,n)}function zp(t,n){return Uu(4,4,t,n)}function kp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bp(t,n,s){s=s!=null?s.concat([t]):null,Uu(4,4,kp.bind(null,n,t),s)}function id(){}function qp(t,n){var s=ke();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Me(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Hp(t,n){var s=ke();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Me(n,o[1]))return o[0];if(o=t(),we){Kn(!0);try{t()}finally{Kn(!1)}}return s.memoizedState=[o,n],o}function sd(t,n,s){return s===void 0||(Kt&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=Qg(),pt.lanes|=t,Ba|=t,s)}function Fp(t,n,s,o){return En(s,n)?s:Vt.current!==null?(t=sd(t,s,o),En(t,n)||(Sn=!0),t):(Kt&42)===0?(Sn=!0,t.memoizedState=s):(t=Qg(),pt.lanes|=t,Ba|=t,n)}function Gp(t,n,s,o,c){var d=dt.p;dt.p=d!==0&&8>d?d:8;var E=W.T,A={};W.T=A,od(t,!1,n,s);try{var O=c(),Y=W.S;if(Y!==null&&Y(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var tt=nd(O,o);zu(t,n,tt,Hi(t))}else zu(t,n,o,Hi(t))}catch(rt){zu(t,n,{then:function(){},status:"rejected",reason:rt},Hi())}finally{dt.p=d,W.T=E}}function gb(){}function rd(t,n,s,o){if(t.tag!==5)throw Error(r(476));var c=Qp(t).queue;Gp(t,c,n,Ct,s===null?gb:function(){return Yp(t),s(o)})}function Qp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:Ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Yp(t){var n=Qp(t).next.queue;zu(t,n,{},Hi())}function ad(){return Tn(ic)}function $p(){return ke().memoizedState}function Kp(){return ke().memoizedState}function _b(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Hi();t=Z(s);var o=st(n,t,s);o!==null&&(Fi(o,n,s),ht(o,n,s)),n={cache:vl()},t.payload=n;return}n=n.return}}function yb(t,n,s){var o=Hi();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},vh(t)?Zp(n,s):(s=vu(t,n,s,o),s!==null&&(Fi(s,t,o),Jp(s,n,o)))}function Xp(t,n,s){var o=Hi();zu(t,n,s,o)}function zu(t,n,s,o){var c={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(vh(t))Zp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var E=n.lastRenderedState,A=d(E,s);if(c.hasEagerState=!0,c.eagerState=A,En(A,E))return ml(t,n,c,0),je===null&&dl(),!1}catch{}finally{}if(s=vu(t,n,c,o),s!==null)return Fi(s,t,o),Jp(s,n,o),!0}return!1}function od(t,n,s,o){if(o={lane:2,revertLane:zd(),action:o,hasEagerState:!1,eagerState:null,next:null},vh(t)){if(n)throw Error(r(479))}else n=vu(t,s,o,2),n!==null&&Fi(n,t,2)}function vh(t){var n=t.alternate;return t===pt||n!==null&&n===pt}function Zp(t,n){ne=me=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Jp(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,aa(t,s)}}var bh={readContext:Tn,use:Gr,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Wp={readContext:Tn,use:Gr,useCallback:function(t,n){return Ge().memoizedState=[t,n===void 0?null:n],t},useContext:Tn,useEffect:Lp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,yh(4194308,4,kp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return yh(4194308,4,t,n)},useInsertionEffect:function(t,n){yh(4,2,t,n)},useMemo:function(t,n){var s=Ge();n=n===void 0?null:n;var o=t();if(we){Kn(!0);try{t()}finally{Kn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Ge();if(s!==void 0){var c=s(n);if(we){Kn(!0);try{s(n)}finally{Kn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=yb.bind(null,pt,t),[o.memoizedState,t]},useRef:function(t){var n=Ge();return t={current:t},n.memoizedState=t},useState:function(t){t=Ma(t);var n=t.queue,s=Xp.bind(null,pt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:id,useDeferredValue:function(t,n){var s=Ge();return sd(s,t,n)},useTransition:function(){var t=Ma(!1);return t=Gp.bind(null,pt,t.queue,!0,!1),Ge().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=pt,c=Ge();if(re){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),je===null)throw Error(r(349));(le&124)!==0||Iu(o,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,Lp(fh.bind(null,o,d,t),[t]),o.flags|=2048,Cl(9,_h(),Ou.bind(null,o,d,s,n),null),s},useId:function(){var t=Ge(),n=je.identifierPrefix;if(re){var s=Ss,o=As;s=(o&~(1<<32-vn(o)-1)).toString(32)+s,n=""+n+"R"+s,s=An++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=Ai++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:ad,useFormState:gh,useActionState:gh,useOptimistic:function(t){var n=Ge();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=od.bind(null,pt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Du,useCacheRefresh:function(){return Ge().memoizedState=_b.bind(null,pt)}},tg={readContext:Tn,use:Gr,useCallback:qp,useContext:Tn,useEffect:Pp,useImperativeHandle:Bp,useInsertionEffect:Up,useLayoutEffect:zp,useMemo:Hp,useReducer:Va,useRef:jp,useState:function(){return Va(Ds)},useDebugValue:id,useDeferredValue:function(t,n){var s=ke();return Fp(s,wt.memoizedState,t,n)},useTransition:function(){var t=Va(Ds)[0],n=ke().memoizedState;return[typeof t=="boolean"?t:Oa(t),n]},useSyncExternalStore:hh,useId:$p,useHostTransitionStatus:ad,useFormState:Rl,useActionState:Rl,useOptimistic:function(t,n){var s=ke();return Vu(s,wt,t,n)},useMemoCache:Du,useCacheRefresh:Kp},vb={readContext:Tn,use:Gr,useCallback:qp,useContext:Tn,useEffect:Pp,useImperativeHandle:Bp,useInsertionEffect:Up,useLayoutEffect:zp,useMemo:Hp,useReducer:Al,useRef:jp,useState:function(){return Al(Ds)},useDebugValue:id,useDeferredValue:function(t,n){var s=ke();return wt===null?sd(s,t,n):Fp(s,wt.memoizedState,t,n)},useTransition:function(){var t=Al(Ds)[0],n=ke().memoizedState;return[typeof t=="boolean"?t:Oa(t),n]},useSyncExternalStore:hh,useId:$p,useHostTransitionStatus:ad,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,n){var s=ke();return wt!==null?Vu(s,wt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Kp},xl=null,ku=0;function Eh(t){var n=ku;return ku+=1,xl===null&&(xl=[]),Ia(xl,t,n)}function Bu(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Th(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function eg(t){var n=t._init;return n(t._payload)}function ng(t){function n(H,z){if(t){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function s(H,z){if(!t)return null;for(;z!==null;)n(H,z),z=z.sibling;return null}function o(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function c(H,z){return H=Ts(H,z),H.index=0,H.sibling=null,H}function d(H,z,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function E(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,z,G,it){return z===null||z.tag!==6?(z=Vo(G,H.mode,it),z.return=H,z):(z=c(z,G),z.return=H,z)}function O(H,z,G,it){var Rt=G.type;return Rt===X?tt(H,z,G.props.children,it,G.key):z!==null&&(z.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===x&&eg(Rt)===z.type)?(z=c(z,G.props),Bu(z,G),z.return=H,z):(z=pl(G.type,G.key,G.props,null,H.mode,it),Bu(z,G),z.return=H,z)}function Y(H,z,G,it){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Ra(G,H.mode,it),z.return=H,z):(z=c(z,G.children||[]),z.return=H,z)}function tt(H,z,G,it,Rt){return z===null||z.tag!==7?(z=jr(G,H.mode,it,Rt),z.return=H,z):(z=c(z,G),z.return=H,z)}function rt(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Vo(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return G=pl(z.type,z.key,z.props,null,H.mode,G),Bu(G,z),G.return=H,G;case Q:return z=Ra(z,H.mode,G),z.return=H,z;case x:var it=z._init;return z=it(z._payload),rt(H,z,G)}if(Le(z)||q(z))return z=jr(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return rt(H,Eh(z),G);if(z.$$typeof===ut)return rt(H,Uo(H,z),G);Th(H,z)}return null}function $(H,z,G,it){var Rt=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Rt!==null?null:A(H,z,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return G.key===Rt?O(H,z,G,it):null;case Q:return G.key===Rt?Y(H,z,G,it):null;case x:return Rt=G._init,G=Rt(G._payload),$(H,z,G,it)}if(Le(G)||q(G))return Rt!==null?null:tt(H,z,G,it,null);if(typeof G.then=="function")return $(H,z,Eh(G),it);if(G.$$typeof===ut)return $(H,z,Uo(H,G),it);Th(H,G)}return null}function K(H,z,G,it,Rt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return H=H.get(G)||null,A(z,H,""+it,Rt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case D:return H=H.get(it.key===null?G:it.key)||null,O(z,H,it,Rt);case Q:return H=H.get(it.key===null?G:it.key)||null,Y(z,H,it,Rt);case x:var Zt=it._init;return it=Zt(it._payload),K(H,z,G,it,Rt)}if(Le(it)||q(it))return H=H.get(G)||null,tt(z,H,it,Rt,null);if(typeof it.then=="function")return K(H,z,G,Eh(it),Rt);if(it.$$typeof===ut)return K(H,z,G,Uo(z,it),Rt);Th(z,it)}return null}function Ht(H,z,G,it){for(var Rt=null,Zt=null,Nt=z,zt=z=0,Rn=null;Nt!==null&&zt<G.length;zt++){Nt.index>zt?(Rn=Nt,Nt=null):Rn=Nt.sibling;var ge=$(H,Nt,G[zt],it);if(ge===null){Nt===null&&(Nt=Rn);break}t&&Nt&&ge.alternate===null&&n(H,Nt),z=d(ge,z,zt),Zt===null?Rt=ge:Zt.sibling=ge,Zt=ge,Nt=Rn}if(zt===G.length)return s(H,Nt),re&&si(H,zt),Rt;if(Nt===null){for(;zt<G.length;zt++)Nt=rt(H,G[zt],it),Nt!==null&&(z=d(Nt,z,zt),Zt===null?Rt=Nt:Zt.sibling=Nt,Zt=Nt);return re&&si(H,zt),Rt}for(Nt=o(Nt);zt<G.length;zt++)Rn=K(Nt,H,zt,G[zt],it),Rn!==null&&(t&&Rn.alternate!==null&&Nt.delete(Rn.key===null?zt:Rn.key),z=d(Rn,z,zt),Zt===null?Rt=Rn:Zt.sibling=Rn,Zt=Rn);return t&&Nt.forEach(function(Xa){return n(H,Xa)}),re&&si(H,zt),Rt}function Pt(H,z,G,it){if(G==null)throw Error(r(151));for(var Rt=null,Zt=null,Nt=z,zt=z=0,Rn=null,ge=G.next();Nt!==null&&!ge.done;zt++,ge=G.next()){Nt.index>zt?(Rn=Nt,Nt=null):Rn=Nt.sibling;var Xa=$(H,Nt,ge.value,it);if(Xa===null){Nt===null&&(Nt=Rn);break}t&&Nt&&Xa.alternate===null&&n(H,Nt),z=d(Xa,z,zt),Zt===null?Rt=Xa:Zt.sibling=Xa,Zt=Xa,Nt=Rn}if(ge.done)return s(H,Nt),re&&si(H,zt),Rt;if(Nt===null){for(;!ge.done;zt++,ge=G.next())ge=rt(H,ge.value,it),ge!==null&&(z=d(ge,z,zt),Zt===null?Rt=ge:Zt.sibling=ge,Zt=ge);return re&&si(H,zt),Rt}for(Nt=o(Nt);!ge.done;zt++,ge=G.next())ge=K(Nt,H,zt,ge.value,it),ge!==null&&(t&&ge.alternate!==null&&Nt.delete(ge.key===null?zt:ge.key),z=d(ge,z,zt),Zt===null?Rt=ge:Zt.sibling=ge,Zt=ge);return t&&Nt.forEach(function(bE){return n(H,bE)}),re&&si(H,zt),Rt}function Ne(H,z,G,it){if(typeof G=="object"&&G!==null&&G.type===X&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case D:t:{for(var Rt=G.key;z!==null;){if(z.key===Rt){if(Rt=G.type,Rt===X){if(z.tag===7){s(H,z.sibling),it=c(z,G.props.children),it.return=H,H=it;break t}}else if(z.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===x&&eg(Rt)===z.type){s(H,z.sibling),it=c(z,G.props),Bu(it,G),it.return=H,H=it;break t}s(H,z);break}else n(H,z);z=z.sibling}G.type===X?(it=jr(G.props.children,H.mode,it,G.key),it.return=H,H=it):(it=pl(G.type,G.key,G.props,null,H.mode,it),Bu(it,G),it.return=H,H=it)}return E(H);case Q:t:{for(Rt=G.key;z!==null;){if(z.key===Rt)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){s(H,z.sibling),it=c(z,G.children||[]),it.return=H,H=it;break t}else{s(H,z);break}else n(H,z);z=z.sibling}it=Ra(G,H.mode,it),it.return=H,H=it}return E(H);case x:return Rt=G._init,G=Rt(G._payload),Ne(H,z,G,it)}if(Le(G))return Ht(H,z,G,it);if(q(G)){if(Rt=q(G),typeof Rt!="function")throw Error(r(150));return G=Rt.call(G),Pt(H,z,G,it)}if(typeof G.then=="function")return Ne(H,z,Eh(G),it);if(G.$$typeof===ut)return Ne(H,z,Uo(H,G),it);Th(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(s(H,z.sibling),it=c(z,G),it.return=H,H=it):(s(H,z),it=Vo(G,H.mode,it),it.return=H,H=it),E(H)):s(H,z)}return function(H,z,G,it){try{ku=0;var Rt=Ne(H,z,G,it);return xl=null,Rt}catch(Nt){if(Nt===ko||Nt===Hr)throw Nt;var Zt=ii(29,Nt,null,H.mode);return Zt.lanes=it,Zt.return=H,Zt}finally{}}}var Dl=ng(!0),ig=ng(!1),os=U(null),sr=null;function ja(t){var n=t.alternate;ct(_n,_n.current&1),ct(os,t),sr===null&&(n===null||Vt.current!==null||n.memoizedState!==null)&&(sr=t)}function sg(t){if(t.tag===22){if(ct(_n,_n.current),ct(os,t),sr===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(sr=t)}}else La()}function La(){ct(_n,_n.current),ct(os,os.current)}function Qr(t){mt(os),sr===t&&(sr=null),mt(_n)}var _n=U(0);function Ah(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Zd(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ld(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var ud={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Hi(),c=Z(o);c.payload=n,s!=null&&(c.callback=s),n=st(t,c,o),n!==null&&(Fi(n,t,o),ht(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Hi(),c=Z(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=st(t,c,o),n!==null&&(Fi(n,t,o),ht(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Hi(),o=Z(s);o.tag=2,n!=null&&(o.callback=n),n=st(t,o,s),n!==null&&(Fi(n,t,s),ht(n,t,s))}};function rg(t,n,s,o,c,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,E):n.prototype&&n.prototype.isPureReactComponent?!Ta(s,o)||!Ta(c,d):!0}function ag(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&ud.enqueueReplaceState(n,n.state,null)}function Bo(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=S({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var Sh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function og(t){Sh(t)}function lg(t){console.error(t)}function ug(t){Sh(t)}function wh(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function cg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function cd(t,n,s){return s=Z(s),s.tag=3,s.payload={element:null},s.callback=function(){wh(t,n)},s}function hg(t){return t=Z(t),t.tag=3,t}function fg(t,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;t.payload=function(){return c(d)},t.callback=function(){cg(n,s,o)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){cg(n,s,o),typeof c!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function bb(t,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Po(n,s,c,!0),s=os.current,s!==null){switch(s.tag){case 13:return sr===null?Md():s.alternate===null&&Ze===0&&(Ze=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Na?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Ld(t,o,c)),!1;case 22:return s.flags|=65536,o===Na?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Ld(t,o,c)),!1}throw Error(r(435,s.tag))}return Ld(t,o,c),Md(),!1}if(re)return n=os.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Au&&(t=Error(r(422),{cause:o}),ws(bi(t,s)))):(o!==Au&&(n=Error(r(423),{cause:o}),ws(bi(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=bi(o,s),c=cd(t.stateNode,o,c),Et(t,c),Ze!==4&&(Ze=2)),!1;var d=Error(r(520),{cause:o});if(d=bi(d,s),$u===null?$u=[d]:$u.push(d),Ze!==4&&(Ze=2),n===null)return!0;o=bi(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=cd(s.stateNode,o,t),Et(s,t),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qa===null||!qa.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=hg(c),fg(c,t,s,o),Et(s,c),!1}s=s.return}while(s!==null);return!1}var dg=Error(r(461)),Sn=!1;function Ln(t,n,s,o){n.child=t===null?ig(n,null,s,o):Dl(n,t.child,s,o)}function mg(t,n,s,o,c){s=s.render;var d=n.ref;if("ref"in o){var E={};for(var A in o)A!=="ref"&&(E[A]=o[A])}else E=o;return er(n),o=Si(t,n,s,E,d,c),A=be(),t!==null&&!Sn?(gn(t,n,c),Yr(t,n,c)):(re&&A&&Eu(n),n.flags|=1,Ln(t,n,o,c),n.child)}function pg(t,n,s,o,c){if(t===null){var d=s.type;return typeof d=="function"&&!bu(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,gg(t,n,d,o,c)):(t=pl(s.type,null,o,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!yd(t,c)){var E=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ta,s(E,o)&&t.ref===n.ref)return Yr(t,n,c)}return n.flags|=1,t=Ts(d,o),t.ref=n.ref,t.return=n,n.child=t}function gg(t,n,s,o,c){if(t!==null){var d=t.memoizedProps;if(Ta(d,o)&&t.ref===n.ref)if(Sn=!1,n.pendingProps=o=d,yd(t,c))(t.flags&131072)!==0&&(Sn=!0);else return n.lanes=t.lanes,Yr(t,n,c)}return hd(t,n,s,o,c)}function _g(t,n,s){var o=n.pendingProps,c=o.children,d=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|s:s,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return yg(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&bl(n,d!==null?d.cachePool:null),d!==null?ve(n,d):Ae(),sg(n);else return n.lanes=n.childLanes=536870912,yg(t,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(bl(n,d.cachePool),ve(n,d),La(),n.memoizedState=null):(t!==null&&bl(n,null),Ae(),La());return Ln(t,n,c,s),n.child}function yg(t,n,s,o){var c=Cu();return c=c===null?null:{parent:Fe._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&bl(n,null),Ae(),sg(n),t!==null&&Po(t,n,o,!0),null}function Rh(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function hd(t,n,s,o,c){return er(n),s=Si(t,n,s,o,void 0,c),o=be(),t!==null&&!Sn?(gn(t,n,c),Yr(t,n,c)):(re&&o&&Eu(n),n.flags|=1,Ln(t,n,s,c),n.child)}function vg(t,n,s,o,c,d){return er(n),n.updateQueue=null,s=Fr(n,o,s,c),zi(t),o=be(),t!==null&&!Sn?(gn(t,n,d),Yr(t,n,d)):(re&&o&&Eu(n),n.flags|=1,Ln(t,n,s,d),n.child)}function bg(t,n,s,o,c){if(er(n),n.stateNode===null){var d=wa,E=s.contextType;typeof E=="object"&&E!==null&&(d=Tn(E)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ud,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},k(n),E=s.contextType,d.context=typeof E=="object"&&E!==null?Tn(E):wa,d.state=n.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(ld(n,s,E,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&ud.enqueueReplaceState(d,d.state,null),Ft(n,o,d,c),_t(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var A=n.memoizedProps,O=Bo(s,A);d.props=O;var Y=d.context,tt=s.contextType;E=wa,typeof tt=="object"&&tt!==null&&(E=Tn(tt));var rt=s.getDerivedStateFromProps;tt=typeof rt=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=n.pendingProps!==A,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||Y!==E)&&ag(n,d,o,E),w=!1;var $=n.memoizedState;d.state=$,Ft(n,o,d,c),_t(),Y=n.memoizedState,A||$!==Y||w?(typeof rt=="function"&&(ld(n,s,rt,o),Y=n.memoizedState),(O=w||rg(n,s,O,o,$,Y,E))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Y),d.props=o,d.state=Y,d.context=E,o=O):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,B(t,n),E=n.memoizedProps,tt=Bo(s,E),d.props=tt,rt=n.pendingProps,$=d.context,Y=s.contextType,O=wa,typeof Y=="object"&&Y!==null&&(O=Tn(Y)),A=s.getDerivedStateFromProps,(Y=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==rt||$!==O)&&ag(n,d,o,O),w=!1,$=n.memoizedState,d.state=$,Ft(n,o,d,c),_t();var K=n.memoizedState;E!==rt||$!==K||w||t!==null&&t.dependencies!==null&&_l(t.dependencies)?(typeof A=="function"&&(ld(n,s,A,o),K=n.memoizedState),(tt=w||rg(n,s,tt,o,$,K,O)||t!==null&&t.dependencies!==null&&_l(t.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,K,O)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=K),d.props=o,d.state=K,d.context=O,o=tt):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Rh(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=Dl(n,t.child,null,c),n.child=Dl(n,null,s,c)):Ln(t,n,s,c),n.memoizedState=d.state,t=n.child):t=Yr(t,n,c),t}function Eg(t,n,s,o){return Lo(),n.flags|=256,Ln(t,n,s,o),n.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:uh()}}function md(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=ls),t}function Tg(t,n,s){var o=n.pendingProps,c=!1,d=(n.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(_n.current&2)!==0),E&&(c=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(re){if(c?ja(n):La(),re){var A=Oe,O;if(O=A){t:{for(O=A,A=Ui;O.nodeType!==8;){if(!A){A=null;break t}if(O=Is(O.nextSibling),O===null){A=null;break t}}A=O}A!==null?(n.memoizedState={dehydrated:A,treeContext:Pr!==null?{id:As,overflow:Ss}:null,retryLane:536870912,hydrationErrors:null},O=ii(18,null,null,0),O.stateNode=A,O.return=n,n.child=O,Mn=n,Oe=null,O=!0):O=!1}O||Ei(n)}if(A=n.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Zd(A)?n.lanes=32:n.lanes=536870912,null;Qr(n)}return A=o.children,o=o.fallback,c?(La(),c=n.mode,A=Ch({mode:"hidden",children:A},c),o=jr(o,c,s,null),A.return=n,o.return=n,A.sibling=o,n.child=A,c=n.child,c.memoizedState=dd(s),c.childLanes=md(t,E,s),n.memoizedState=fd,o):(ja(n),pd(n,A))}if(O=t.memoizedState,O!==null&&(A=O.dehydrated,A!==null)){if(d)n.flags&256?(ja(n),n.flags&=-257,n=gd(t,n,s)):n.memoizedState!==null?(La(),n.child=t.child,n.flags|=128,n=null):(La(),c=o.fallback,A=n.mode,o=Ch({mode:"visible",children:o.children},A),c=jr(c,A,s,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,Dl(n,t.child,null,s),o=n.child,o.memoizedState=dd(s),o.childLanes=md(t,E,s),n.memoizedState=fd,n=c);else if(ja(n),Zd(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,o=Error(r(419)),o.stack="",o.digest=E,ws({value:o,source:null,stack:null}),n=gd(t,n,s)}else if(Sn||Po(t,n,s,!1),E=(s&t.childLanes)!==0,Sn||E){if(E=je,E!==null&&(o=s&-s,o=(o&42)!==0?1:Ps(o),o=(o&(E.suspendedLanes|s))!==0?0:o,o!==0&&o!==O.retryLane))throw O.retryLane=o,Sa(t,o),Fi(E,t,o),dg;A.data==="$?"||Md(),n=gd(t,n,s)}else A.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,Oe=Is(A.nextSibling),Mn=n,re=!0,Ur=null,Ui=!1,t!==null&&(Hn[Fn++]=As,Hn[Fn++]=Ss,Hn[Fn++]=Pr,As=t.id,Ss=t.overflow,Pr=n),n=pd(n,o.children),n.flags|=4096);return n}return c?(La(),c=o.fallback,A=n.mode,O=t.child,Y=O.sibling,o=Ts(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,Y!==null?c=Ts(Y,c):(c=jr(c,A,s,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,A=t.child.memoizedState,A===null?A=dd(s):(O=A.cachePool,O!==null?(Y=Fe._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=uh(),A={baseLanes:A.baseLanes|s,cachePool:O}),c.memoizedState=A,c.childLanes=md(t,E,s),n.memoizedState=fd,o):(ja(n),s=t.child,t=s.sibling,s=Ts(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=s,n.memoizedState=null,s)}function pd(t,n){return n=Ch({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ch(t,n){return t=ii(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gd(t,n,s){return Dl(n,t.child,null,s),t=pd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ag(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),wu(t.return,n,s)}function _d(t,n,s,o,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=c)}function Sg(t,n,s){var o=n.pendingProps,c=o.revealOrder,d=o.tail;if(Ln(t,n,o.children,s),o=_n.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,s,n);else if(t.tag===19)Ag(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(ct(_n,o),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Ah(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),_d(n,!1,c,s,d);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ah(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}_d(n,!0,s,null,d);break;case"together":_d(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Yr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ba|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Po(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=Ts(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=Ts(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function yd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&_l(t)))}function Eb(t,n,s){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),tr(n,Fe,t.memoizedState.cache),Lo();break;case 27:case 5:xi(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ja(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Tg(t,n,s):(ja(n),t=Yr(t,n,s),t!==null?t.sibling:null);ja(n);break;case 19:var c=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Po(t,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Sg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ct(_n,_n.current),o)break;return null;case 22:case 23:return n.lanes=0,_g(t,n,s);case 24:tr(n,Fe,t.memoizedState.cache)}return Yr(t,n,s)}function wg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Sn=!0;else{if(!yd(t,s)&&(n.flags&128)===0)return Sn=!1,Eb(t,n,s);Sn=(t.flags&131072)!==0}else Sn=!1,re&&(n.flags&1048576)!==0&&ih(n,Ws,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")bu(o)?(t=Bo(o,t),n.tag=1,n=bg(null,n,o,t,s)):(n.tag=0,n=hd(null,n,o,t,s));else{if(o!=null){if(c=o.$$typeof,c===vt){n.tag=11,n=mg(null,n,o,t,s);break t}else if(c===V){n.tag=14,n=pg(null,n,o,t,s);break t}}throw n=Je(o)||o,Error(r(306,n,""))}}return n;case 0:return hd(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Bo(o,n.pendingProps),bg(t,n,o,c,s);case 3:t:{if(Te(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;c=d.element,B(t,n),Ft(n,o,null,s);var E=n.memoizedState;if(o=E.cache,tr(n,Fe,o),o!==d.cache&&Ru(n,[Fe],s,!0),_t(),o=E.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Eg(t,n,o,s);break t}else if(o!==c){c=bi(Error(r(424)),n),ws(c),n=Eg(t,n,o,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=Is(t.firstChild),Mn=n,re=!0,Ur=null,Ui=!0,s=ig(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Lo(),o===c){n=Yr(t,n,s);break t}Ln(t,n,o,s)}n=n.child}return n;case 26:return Rh(t,n),t===null?(s=D_(n.type,null,n.pendingProps,null))?n.memoizedState=s:re||(s=n.type,t=n.pendingProps,o=Bh(jt.current).createElement(s),o[Pe]=n,o[Ke]=t,Un(o,s,t),xe(o),n.stateNode=o):n.memoizedState=D_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xi(n),t===null&&re&&(o=n.stateNode=R_(n.type,n.pendingProps,jt.current),Mn=n,Ui=!0,c=Oe,Ga(n.type)?(Jd=c,Oe=Is(o.firstChild)):Oe=c),Ln(t,n,n.pendingProps.children,s),Rh(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&re&&((c=o=Oe)&&(o=Kb(o,n.type,n.pendingProps,Ui),o!==null?(n.stateNode=o,Mn=n,Oe=Is(o.firstChild),Ui=!1,c=!0):c=!1),c||Ei(n)),xi(n),c=n.type,d=n.pendingProps,E=t!==null?t.memoizedProps:null,o=d.children,$d(c,d)?o=null:E!==null&&$d(c,E)&&(n.flags|=32),n.memoizedState!==null&&(c=Si(t,n,hn,null,null,s),ic._currentValue=c),Rh(t,n),Ln(t,n,o,s),n.child;case 6:return t===null&&re&&((t=s=Oe)&&(s=Xb(s,n.pendingProps,Ui),s!==null?(n.stateNode=s,Mn=n,Oe=null,t=!0):t=!1),t||Ei(n)),null;case 13:return Tg(t,n,s);case 4:return Te(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Dl(n,null,o,s):Ln(t,n,o,s),n.child;case 11:return mg(t,n,n.type,n.pendingProps,s);case 7:return Ln(t,n,n.pendingProps,s),n.child;case 8:return Ln(t,n,n.pendingProps.children,s),n.child;case 12:return Ln(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,tr(n,n.type,o.value),Ln(t,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,er(n),c=Tn(c),o=o(c),n.flags|=1,Ln(t,n,o,s),n.child;case 14:return pg(t,n,n.type,n.pendingProps,s);case 15:return gg(t,n,n.type,n.pendingProps,s);case 19:return Sg(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=Ch(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ts(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return _g(t,n,s);case 24:return er(n),o=Tn(Fe),t===null?(c=Cu(),c===null&&(c=je,d=vl(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),n.memoizedState={parent:o,cache:c},k(n),tr(n,Fe,c)):((t.lanes&s)!==0&&(B(t,n),Ft(n,null,null,s),_t()),c=t.memoizedState,d=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),tr(n,Fe,o)):(o=d.cache,tr(n,Fe,o),o!==c.cache&&Ru(n,[Fe],s,!0))),Ln(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function $r(t){t.flags|=4}function Rg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M_(n)){if(n=os.current,n!==null&&((le&4194048)===le?sr!==null:(le&62914560)!==le&&(le&536870912)===0||n!==sr))throw T=Na,xu;t.flags|=8192}}function xh(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bo():536870912,t.lanes|=n,Vl|=n)}function qu(t,n){if(!re)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Qe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Tb(t,n,s){var o=n.pendingProps;switch(Tu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(n),null;case 1:return Qe(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xs(Fe),St(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(jo(n)?$r(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),Qe(n),null;case 26:return s=n.memoizedState,t===null?($r(n),s!==null?(Qe(n),Rg(n,s)):(Qe(n),n.flags&=-16777217)):s?s!==t.memoizedState?($r(n),Qe(n),Rg(n,s)):(Qe(n),n.flags&=-16777217):(t.memoizedProps!==o&&$r(n),Qe(n),n.flags&=-16777217),null;case 27:Ki(n),s=jt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&$r(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Qe(n),null}t=Dt.current,jo(n)?gl(n):(t=R_(c,o,s),n.stateNode=t,$r(n))}return Qe(n),null;case 5:if(Ki(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&$r(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Qe(n),null}if(t=Dt.current,jo(n))gl(n);else{switch(c=Bh(jt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?c.createElement(s,{is:o.is}):c.createElement(s)}}t[Pe]=n,t[Ke]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Un(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&$r(n)}}return Qe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&$r(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=jt.current,jo(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,c=Mn,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[Pe]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||v_(t.nodeValue,s)),t||Ei(n)}else t=Bh(t).createTextNode(o),t[Pe]=n,n.stateNode=t}return Qe(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=jo(n),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Pe]=n}else Lo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Qe(n),c=!1}else c=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Qr(n),n):(Qr(n),null)}if(Qr(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),xh(n,n.updateQueue),Qe(n),null;case 4:return St(),t===null&&Hd(n.stateNode.containerInfo),Qe(n),null;case 10:return xs(n.type),Qe(n),null;case 19:if(mt(_n),c=n.memoizedState,c===null)return Qe(n),null;if(o=(n.flags&128)!==0,d=c.rendering,d===null)if(o)qu(c,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Ah(t),d!==null){for(n.flags|=128,qu(c,!1),t=d.updateQueue,n.updateQueue=t,xh(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)nh(s,t),s=s.sibling;return ct(_n,_n.current&1|2),n.child}t=t.sibling}c.tail!==null&&pn()>Ih&&(n.flags|=128,o=!0,qu(c,!1),n.lanes=4194304)}else{if(!o)if(t=Ah(d),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,xh(n,t),qu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!re)return Qe(n),null}else 2*pn()-c.renderingStartTime>Ih&&s!==536870912&&(n.flags|=128,o=!0,qu(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,t=_n.current,ct(_n,o?t&1|2:t&1),n):(Qe(n),null);case 22:case 23:return Qr(n),Yt(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Qe(n),n.subtreeFlags&6&&(n.flags|=8192)):Qe(n),s=n.updateQueue,s!==null&&xh(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&mt(qr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),xs(Fe),Qe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Ab(t,n){switch(Tu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xs(Fe),St(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ki(n),null;case 13:if(Qr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Lo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return mt(_n),null;case 4:return St(),null;case 10:return xs(n.type),null;case 22:case 23:return Qr(n),Yt(),t!==null&&mt(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xs(Fe),null;case 25:return null;default:return null}}function Cg(t,n){switch(Tu(n),n.tag){case 3:xs(Fe),St();break;case 26:case 27:case 5:Ki(n);break;case 4:St();break;case 13:Qr(n);break;case 19:mt(_n);break;case 10:xs(n.type);break;case 22:case 23:Qr(n),Yt(),t!==null&&mt(qr);break;case 24:xs(Fe)}}function Hu(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&t)===t){o=void 0;var d=s.create,E=s.inst;o=d(),E.destroy=o}s=s.next}while(s!==c)}}catch(A){Ve(n,n.return,A)}}function Pa(t,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&t)===t){var E=o.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,c=n;var O=s,Y=A;try{Y()}catch(tt){Ve(c,O,tt)}}}o=o.next}while(o!==d)}}catch(tt){Ve(n,n.return,tt)}}function xg(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Gt(n,s)}catch(o){Ve(t,t.return,o)}}}function Dg(t,n,s){s.props=Bo(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){Ve(t,n,o)}}function Fu(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(c){Ve(t,n,c)}}function rr(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){Ve(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ve(t,n,c)}else s.current=null}function Ng(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){Ve(t,t.return,c)}}function vd(t,n,s){try{var o=t.stateNode;Fb(o,t.type,s,n),o[Ke]=n}catch(c){Ve(t,t.return,c)}}function Ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ga(t.type)||t.tag===4}function bd(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ga(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=kh));else if(o!==4&&(o===27&&Ga(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ed(t,n,s),t=t.sibling;t!==null;)Ed(t,n,s),t=t.sibling}function Dh(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ga(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Dh(t,n,s),t=t.sibling;t!==null;)Dh(t,n,s),t=t.sibling}function Og(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Un(n,o,s),n[Pe]=t,n[Ke]=s}catch(d){Ve(t,t.return,d)}}var Kr=!1,rn=!1,Td=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,wn=null;function Sb(t,n){if(t=t.containerInfo,Qd=Yh,t=Kc(t),ul(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var E=0,A=-1,O=-1,Y=0,tt=0,rt=t,$=null;e:for(;;){for(var K;rt!==s||c!==0&&rt.nodeType!==3||(A=E+c),rt!==d||o!==0&&rt.nodeType!==3||(O=E+o),rt.nodeType===3&&(E+=rt.nodeValue.length),(K=rt.firstChild)!==null;)$=rt,rt=K;for(;;){if(rt===t)break e;if($===s&&++Y===c&&(A=E),$===d&&++tt===o&&(O=E),(K=rt.nextSibling)!==null)break;rt=$,$=rt.parentNode}rt=K}s=A===-1||O===-1?null:{start:A,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(Yd={focusedElem:t,selectionRange:s},Yh=!1,wn=n;wn!==null;)if(n=wn,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,wn=t;else for(;wn!==null;){switch(n=wn,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=n,c=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var Ht=Bo(s.type,c,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(Ht,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Pt){Ve(s,s.return,Pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)Xd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,wn=t;break}wn=n.return}}function Mg(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ua(t,s),o&4&&Hu(5,s);break;case 1:if(Ua(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(E){Ve(s,s.return,E)}else{var c=Bo(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ve(s,s.return,E)}}o&64&&xg(s),o&512&&Fu(s,s.return);break;case 3:if(Ua(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Gt(t,n)}catch(E){Ve(s,s.return,E)}}break;case 27:n===null&&o&4&&Og(s);case 26:case 5:Ua(t,s),n===null&&o&4&&Ng(s),o&512&&Fu(s,s.return);break;case 12:Ua(t,s);break;case 13:Ua(t,s),o&4&&Pg(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Vb.bind(null,s),Zb(t,s))));break;case 22:if(o=s.memoizedState!==null||Kr,!o){n=n!==null&&n.memoizedState!==null||rn,c=Kr;var d=rn;Kr=o,(rn=n)&&!d?za(t,s,(s.subtreeFlags&8772)!==0):Ua(t,s),Kr=c,rn=d}break;case 30:break;default:Ua(t,s)}}function jg(t){var n=t.alternate;n!==null&&(t.alternate=null,jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ii(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var He=null,wi=!1;function Xr(t,n,s){for(s=s.child;s!==null;)Lg(t,n,s),s=s.sibling}function Lg(t,n,s){if(pe&&typeof pe.onCommitFiberUnmount=="function")try{pe.onCommitFiberUnmount(_e,s)}catch{}switch(s.tag){case 26:rn||rr(s,n),Xr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rn||rr(s,n);var o=He,c=wi;Ga(s.type)&&(He=s.stateNode,wi=!1),Xr(t,n,s),Wu(s.stateNode),He=o,wi=c;break;case 5:rn||rr(s,n);case 6:if(o=He,c=wi,He=null,Xr(t,n,s),He=o,wi=c,He!==null)if(wi)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(s.stateNode)}catch(d){Ve(s,n,d)}else try{He.removeChild(s.stateNode)}catch(d){Ve(s,n,d)}break;case 18:He!==null&&(wi?(t=He,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),oc(t)):S_(He,s.stateNode));break;case 4:o=He,c=wi,He=s.stateNode.containerInfo,wi=!0,Xr(t,n,s),He=o,wi=c;break;case 0:case 11:case 14:case 15:rn||Pa(2,s,n),rn||Pa(4,s,n),Xr(t,n,s);break;case 1:rn||(rr(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Dg(s,n,o)),Xr(t,n,s);break;case 21:Xr(t,n,s);break;case 22:rn=(o=rn)||s.memoizedState!==null,Xr(t,n,s),rn=o;break;default:Xr(t,n,s)}}function Pg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oc(t)}catch(s){Ve(n,n.return,s)}}function wb(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Vg),n;default:throw Error(r(435,t.tag))}}function Ad(t,n){var s=wb(t);n.forEach(function(o){var c=Mb.bind(null,t,o);s.has(o)||(s.add(o),o.then(c,c))})}function ki(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],d=t,E=n,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(Ga(A.type)){He=A.stateNode,wi=!1;break t}break;case 5:He=A.stateNode,wi=!1;break t;case 3:case 4:He=A.stateNode.containerInfo,wi=!0;break t}A=A.return}if(He===null)throw Error(r(160));Lg(d,E,c),He=null,wi=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ug(n,t),n=n.sibling}var Ns=null;function Ug(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ki(n,t),Bi(t),o&4&&(Pa(3,t,t.return),Hu(3,t),Pa(5,t,t.return));break;case 1:ki(n,t),Bi(t),o&512&&(rn||s===null||rr(s,s.return)),o&64&&Kr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=Ns;if(ki(n,t),Bi(t),o&512&&(rn||s===null||rr(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){t:{o=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[ui]||d[Pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),Un(d,o,s),d[Pe]=t,xe(d),o=d;break t;case"link":var E=O_("link","href",c).get(o+(s.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(A,1);break e}}d=c.createElement(o),Un(d,o,s),c.head.appendChild(d);break;case"meta":if(E=O_("meta","content",c).get(o+(s.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(A,1);break e}}d=c.createElement(o),Un(d,o,s),c.head.appendChild(d);break;default:throw Error(r(468,o))}d[Pe]=t,xe(d),o=d}t.stateNode=o}else V_(c,t.type,t.stateNode);else t.stateNode=I_(c,o,t.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?V_(c,t.type,t.stateNode):I_(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&vd(t,t.memoizedProps,s.memoizedProps)}break;case 27:ki(n,t),Bi(t),o&512&&(rn||s===null||rr(s,s.return)),s!==null&&o&4&&vd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ki(n,t),Bi(t),o&512&&(rn||s===null||rr(s,s.return)),t.flags&32){c=t.stateNode;try{In(c,"")}catch(K){Ve(t,t.return,K)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,vd(t,c,s!==null?s.memoizedProps:c)),o&1024&&(Td=!0);break;case 6:if(ki(n,t),Bi(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(K){Ve(t,t.return,K)}}break;case 3:if(Fh=null,c=Ns,Ns=qh(n.containerInfo),ki(n,t),Ns=c,Bi(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{oc(n.containerInfo)}catch(K){Ve(t,t.return,K)}Td&&(Td=!1,zg(t));break;case 4:o=Ns,Ns=qh(t.stateNode.containerInfo),ki(n,t),Bi(t),Ns=o;break;case 12:ki(n,t),Bi(t);break;case 13:ki(n,t),Bi(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Dd=pn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ad(t,o)));break;case 22:c=t.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,Y=Kr,tt=rn;if(Kr=Y||c,rn=tt||O,ki(n,t),rn=tt,Kr=Y,Bi(t),o&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||O||Kr||rn||qo(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){O=s=n;try{if(d=O.stateNode,c)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=O.stateNode;var rt=O.memoizedProps.style,$=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){Ve(O,O.return,K)}}}else if(n.tag===6){if(s===null){O=n;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(K){Ve(O,O.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ad(t,s))));break;case 19:ki(n,t),Bi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ad(t,o)));break;case 30:break;case 21:break;default:ki(n,t),Bi(t)}}function Bi(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(Ig(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,d=bd(t);Dh(t,d,c);break;case 5:var E=s.stateNode;s.flags&32&&(In(E,""),s.flags&=-33);var A=bd(t);Dh(t,A,E);break;case 3:case 4:var O=s.stateNode.containerInfo,Y=bd(t);Ed(t,Y,O);break;default:throw Error(r(161))}}catch(tt){Ve(t,t.return,tt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function zg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;zg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ua(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Mg(t,n.alternate,n),n=n.sibling}function qo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Pa(4,n,n.return),qo(n);break;case 1:rr(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Dg(n,n.return,s),qo(n);break;case 27:Wu(n.stateNode);case 26:case 5:rr(n,n.return),qo(n);break;case 22:n.memoizedState===null&&qo(n);break;case 30:qo(n);break;default:qo(n)}t=t.sibling}}function za(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=t,d=n,E=d.flags;switch(d.tag){case 0:case 11:case 15:za(c,d,s),Hu(4,d);break;case 1:if(za(c,d,s),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Y){Ve(o,o.return,Y)}if(o=d,c=o.updateQueue,c!==null){var A=o.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Lt(O[c],A)}catch(Y){Ve(o,o.return,Y)}}s&&E&64&&xg(d),Fu(d,d.return);break;case 27:Og(d);case 26:case 5:za(c,d,s),s&&o===null&&E&4&&Ng(d),Fu(d,d.return);break;case 12:za(c,d,s);break;case 13:za(c,d,s),s&&E&4&&Pg(c,d);break;case 22:d.memoizedState===null&&za(c,d,s),Fu(d,d.return);break;case 30:break;default:za(c,d,s)}n=n.sibling}}function Sd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Br(s))}function wd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Br(t))}function ar(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(t,n,s,o),n=n.sibling}function kg(t,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ar(t,n,s,o),c&2048&&Hu(9,n);break;case 1:ar(t,n,s,o);break;case 3:ar(t,n,s,o),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Br(t)));break;case 12:if(c&2048){ar(t,n,s,o),t=n.stateNode;try{var d=n.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ve(n,n.return,O)}}else ar(t,n,s,o);break;case 13:ar(t,n,s,o);break;case 23:break;case 22:d=n.stateNode,E=n.alternate,n.memoizedState!==null?d._visibility&2?ar(t,n,s,o):Gu(t,n):d._visibility&2?ar(t,n,s,o):(d._visibility|=2,Nl(t,n,s,o,(n.subtreeFlags&10256)!==0)),c&2048&&Sd(E,n);break;case 24:ar(t,n,s,o),c&2048&&wd(n.alternate,n);break;default:ar(t,n,s,o)}}function Nl(t,n,s,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,E=n,A=s,O=o,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Nl(d,E,A,O,c),Hu(8,E);break;case 23:break;case 22:var tt=E.stateNode;E.memoizedState!==null?tt._visibility&2?Nl(d,E,A,O,c):Gu(d,E):(tt._visibility|=2,Nl(d,E,A,O,c)),c&&Y&2048&&Sd(E.alternate,E);break;case 24:Nl(d,E,A,O,c),c&&Y&2048&&wd(E.alternate,E);break;default:Nl(d,E,A,O,c)}n=n.sibling}}function Gu(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,c=o.flags;switch(o.tag){case 22:Gu(s,o),c&2048&&Sd(o.alternate,o);break;case 24:Gu(s,o),c&2048&&wd(o.alternate,o);break;default:Gu(s,o)}n=n.sibling}}var Qu=8192;function Il(t){if(t.subtreeFlags&Qu)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 26:Il(t),t.flags&Qu&&t.memoizedState!==null&&cE(Ns,t.memoizedState,t.memoizedProps);break;case 5:Il(t);break;case 3:case 4:var n=Ns;Ns=qh(t.stateNode.containerInfo),Il(t),Ns=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Qu,Qu=16777216,Il(t),Qu=n):Il(t));break;default:Il(t)}}function qg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Yu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];wn=o,Fg(o,t)}qg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 0:case 11:case 15:Yu(t),t.flags&2048&&Pa(9,t,t.return);break;case 3:Yu(t);break;case 12:Yu(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Nh(t)):Yu(t);break;default:Yu(t)}}function Nh(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];wn=o,Fg(o,t)}qg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Pa(8,n,n.return),Nh(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Nh(n));break;default:Nh(n)}t=t.sibling}}function Fg(t,n){for(;wn!==null;){var s=wn;switch(s.tag){case 0:case 11:case 15:Pa(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Br(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,wn=o;else t:for(s=t;wn!==null;){o=wn;var c=o.sibling,d=o.return;if(jg(o),o===s){wn=null;break t}if(c!==null){c.return=d,wn=c;break t}wn=d}}}var Rb={getCacheForType:function(t){var n=Tn(Fe),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},Cb=typeof WeakMap=="function"?WeakMap:Map,Re=0,je=null,Jt=null,le=0,Ce=0,qi=null,ka=!1,Ol=!1,Rd=!1,Zr=0,Ze=0,Ba=0,Ho=0,Cd=0,ls=0,Vl=0,$u=null,Ri=null,xd=!1,Dd=0,Ih=1/0,Oh=null,qa=null,Pn=0,Ha=null,Ml=null,jl=0,Nd=0,Id=null,Gg=null,Ku=0,Od=null;function Hi(){if((Re&2)!==0&&le!==0)return le&-le;if(W.T!==null){var t=Da;return t!==0?t:zd()}return Us()}function Qg(){ls===0&&(ls=(le&536870912)===0||re?vo():536870912);var t=os.current;return t!==null&&(t.flags|=32),ls}function Fi(t,n,s){(t===je&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(Ll(t,0),Fa(t,le,ls,!1)),Zi(t,s),((Re&2)===0||t!==je)&&(t===je&&((Re&2)===0&&(Ho|=s),Ze===4&&Fa(t,le,ls,!1)),or(t))}function Yg(t,n,s){if((Re&6)!==0)throw Error(r(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||br(t,n),c=o?Nb(t,n):jd(t,n,!0),d=o;do{if(c===0){Ol&&!o&&Fa(t,n,0,!1);break}else{if(s=t.current.alternate,d&&!xb(s)){c=jd(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var A=t;c=$u;var O=A.current.memoizedState.isDehydrated;if(O&&(Ll(A,E).flags|=256),E=jd(A,E,!1),E!==2){if(Rd&&!O){A.errorRecoveryDisabledLanes|=d,Ho|=d,c=4;break t}d=Ri,Ri=c,d!==null&&(Ri===null?Ri=d:Ri.push.apply(Ri,d))}c=E}if(d=!1,c!==2)continue}}if(c===1){Ll(t,0),Fa(t,n,0,!0);break}t:{switch(o=t,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Fa(o,n,ls,!ka);break t;case 2:Ri=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Dd+300-pn(),10<c)){if(Fa(o,n,ls,!ka),ra(o,0,!0)!==0)break t;o.timeoutHandle=T_($g.bind(null,o,s,Ri,Oh,xd,n,ls,Ho,Vl,ka,d,2,-0,0),c);break t}$g(o,s,Ri,Oh,xd,n,ls,Ho,Vl,ka,d,0,-0,0)}}break}while(!0);or(t)}function $g(t,n,s,o,c,d,E,A,O,Y,tt,rt,$,K){if(t.timeoutHandle=-1,rt=n.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:uE},Bg(n),rt=hE(),rt!==null)){t.cancelPendingCommit=rt(e_.bind(null,t,n,d,s,o,c,E,A,O,tt,1,$,K)),Fa(t,d,E,!Y);return}e_(t,n,d,s,o,c,E,A,O)}function xb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],d=c.getSnapshot;c=c.value;try{if(!En(d(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fa(t,n,s,o){n&=~Cd,n&=~Ho,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var c=n;0<c;){var d=31-vn(c),E=1<<d;o[d]=-1,c&=~E}s!==0&&Ni(t,s,n)}function Vh(){return(Re&6)===0?(Xu(0),!1):!0}function Vd(){if(Jt!==null){if(Ce===0)var t=Jt.return;else t=Jt,Cs=zr=null,Gn(t),xl=null,ku=0,t=Jt;for(;t!==null;)Cg(t.alternate,t),t=t.return;Jt=null}}function Ll(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Qb(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Vd(),je=t,Jt=s=Ts(t.current,null),le=n,Ce=0,qi=null,ka=!1,Ol=br(t,n),Rd=!1,Vl=ls=Cd=Ho=Ba=Ze=0,Ri=$u=null,xd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var c=31-vn(o),d=1<<c;n|=t[c],o&=~d}return Zr=n,dl(),s}function Kg(t,n){pt=null,W.H=bh,n===ko||n===Hr?(n=f(),Ce=3):n===xu?(n=f(),Ce=4):Ce=n===dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qi=n,Jt===null&&(Ze=1,wh(t,bi(n,t.current)))}function Xg(){var t=W.H;return W.H=bh,t===null?bh:t}function Zg(){var t=W.A;return W.A=Rb,t}function Md(){Ze=4,ka||(le&4194048)!==le&&os.current!==null||(Ol=!0),(Ba&134217727)===0&&(Ho&134217727)===0||je===null||Fa(je,le,ls,!1)}function jd(t,n,s){var o=Re;Re|=2;var c=Xg(),d=Zg();(je!==t||le!==n)&&(Oh=null,Ll(t,n)),n=!1;var E=Ze;t:do try{if(Ce!==0&&Jt!==null){var A=Jt,O=qi;switch(Ce){case 8:Vd(),E=6;break t;case 3:case 2:case 9:case 6:os.current===null&&(n=!0);var Y=Ce;if(Ce=0,qi=null,Pl(t,A,O,Y),s&&Ol){E=0;break t}break;default:Y=Ce,Ce=0,qi=null,Pl(t,A,O,Y)}}Db(),E=Ze;break}catch(tt){Kg(t,tt)}while(!0);return n&&t.shellSuspendCounter++,Cs=zr=null,Re=o,W.H=c,W.A=d,Jt===null&&(je=null,le=0,dl()),E}function Db(){for(;Jt!==null;)Jg(Jt)}function Nb(t,n){var s=Re;Re|=2;var o=Xg(),c=Zg();je!==t||le!==n?(Oh=null,Ih=pn()+500,Ll(t,n)):Ol=br(t,n);t:do try{if(Ce!==0&&Jt!==null){n=Jt;var d=qi;e:switch(Ce){case 1:Ce=0,qi=null,Pl(t,n,d,1);break;case 2:case 9:if(ch(d)){Ce=0,qi=null,Wg(n);break}n=function(){Ce!==2&&Ce!==9||je!==t||(Ce=7),or(t)},d.then(n,n);break t;case 3:Ce=7;break t;case 4:Ce=5;break t;case 7:ch(d)?(Ce=0,qi=null,Wg(n)):(Ce=0,qi=null,Pl(t,n,d,7));break;case 5:var E=null;switch(Jt.tag){case 26:E=Jt.memoizedState;case 5:case 27:var A=Jt;if(!E||M_(E)){Ce=0,qi=null;var O=A.sibling;if(O!==null)Jt=O;else{var Y=A.return;Y!==null?(Jt=Y,Mh(Y)):Jt=null}break e}}Ce=0,qi=null,Pl(t,n,d,5);break;case 6:Ce=0,qi=null,Pl(t,n,d,6);break;case 8:Vd(),Ze=6;break t;default:throw Error(r(462))}}Ib();break}catch(tt){Kg(t,tt)}while(!0);return Cs=zr=null,W.H=o,W.A=c,Re=s,Jt!==null?0:(je=null,le=0,dl(),Ze)}function Ib(){for(;Jt!==null&&!na();)Jg(Jt)}function Jg(t){var n=wg(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,n===null?Mh(t):Jt=n}function Wg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=vg(s,n,n.pendingProps,n.type,void 0,le);break;case 11:n=vg(s,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:Gn(n);default:Cg(s,n),n=Jt=nh(n,Zr),n=wg(s,n,Zr)}t.memoizedProps=t.pendingProps,n===null?Mh(t):Jt=n}function Pl(t,n,s,o){Cs=zr=null,Gn(n),xl=null,ku=0;var c=n.return;try{if(bb(t,c,n,s,le)){Ze=1,wh(t,bi(s,t.current)),Jt=null;return}}catch(d){if(c!==null)throw Jt=c,d;Ze=1,wh(t,bi(s,t.current)),Jt=null;return}n.flags&32768?(re||o===1?t=!0:Ol||(le&536870912)!==0?t=!1:(ka=t=!0,(o===2||o===9||o===3||o===6)&&(o=os.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,t)):Mh(n)}function Mh(t){var n=t;do{if((n.flags&32768)!==0){t_(n,ka);return}t=n.return;var s=Tb(n.alternate,n,Zr);if(s!==null){Jt=s;return}if(n=n.sibling,n!==null){Jt=n;return}Jt=n=t}while(n!==null);Ze===0&&(Ze=5)}function t_(t,n){do{var s=Ab(t.alternate,t);if(s!==null){s.flags&=32767,Jt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Jt=t;return}Jt=t=s}while(t!==null);Ze=6,Jt=null}function e_(t,n,s,o,c,d,E,A,O){t.cancelPendingCommit=null;do jh();while(Pn!==0);if((Re&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=yu,Ls(t,s,d,E,A,O),t===je&&(Jt=je=null,le=0),Ml=n,Ha=t,jl=s,Nd=d,Id=c,Gg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jb(_r,function(){return a_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=W.T,W.T=null,c=dt.p,dt.p=2,E=Re,Re|=4;try{Sb(t,n,s)}finally{Re=E,dt.p=c,W.T=o}}Pn=1,n_(),i_(),s_()}}function n_(){if(Pn===1){Pn=0;var t=Ha,n=Ml,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var o=dt.p;dt.p=2;var c=Re;Re|=4;try{Ug(n,t);var d=Yd,E=Kc(t.containerInfo),A=d.focusedElem,O=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&$c(A.ownerDocument.documentElement,A)){if(O!==null&&ul(A)){var Y=O.start,tt=O.end;if(tt===void 0&&(tt=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(tt,A.value.length);else{var rt=A.ownerDocument||document,$=rt&&rt.defaultView||window;if($.getSelection){var K=$.getSelection(),Ht=A.textContent.length,Pt=Math.min(O.start,Ht),Ne=O.end===void 0?Pt:Math.min(O.end,Ht);!K.extend&&Pt>Ne&&(E=Ne,Ne=Pt,Pt=E);var H=ei(A,Pt),z=ei(A,Ne);if(H&&z&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var G=rt.createRange();G.setStart(H.node,H.offset),K.removeAllRanges(),Pt>Ne?(K.addRange(G),K.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),K.addRange(G))}}}}for(rt=[],K=A;K=K.parentNode;)K.nodeType===1&&rt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<rt.length;A++){var it=rt[A];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Yh=!!Qd,Yd=Qd=null}finally{Re=c,dt.p=o,W.T=s}}t.current=n,Pn=2}}function i_(){if(Pn===2){Pn=0;var t=Ha,n=Ml,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var o=dt.p;dt.p=2;var c=Re;Re|=4;try{Mg(t,n.alternate,n)}finally{Re=c,dt.p=o,W.T=s}}Pn=3}}function s_(){if(Pn===4||Pn===3){Pn=0,Vs();var t=Ha,n=Ml,s=jl,o=Gg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pn=5:(Pn=0,Ml=Ha=null,r_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(qa=null),oa(s),n=n.stateNode,pe&&typeof pe.onCommitFiberRoot=="function")try{pe.onCommitFiberRoot(_e,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=W.T,c=dt.p,dt.p=2,W.T=null;try{for(var d=t.onRecoverableError,E=0;E<o.length;E++){var A=o[E];d(A.value,{componentStack:A.stack})}}finally{W.T=n,dt.p=c}}(jl&3)!==0&&jh(),or(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Od?Ku++:(Ku=0,Od=t):Ku=0,Xu(0)}}function r_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Br(n)))}function jh(t){return n_(),i_(),s_(),a_()}function a_(){if(Pn!==5)return!1;var t=Ha,n=Nd;Nd=0;var s=oa(jl),o=W.T,c=dt.p;try{dt.p=32>s?32:s,W.T=null,s=Id,Id=null;var d=Ha,E=jl;if(Pn=0,Ml=Ha=null,jl=0,(Re&6)!==0)throw Error(r(331));var A=Re;if(Re|=4,Hg(d.current),kg(d,d.current,E,s),Re=A,Xu(0,!1),pe&&typeof pe.onPostCommitFiberRoot=="function")try{pe.onPostCommitFiberRoot(_e,d)}catch{}return!0}finally{dt.p=c,W.T=o,r_(t,n)}}function o_(t,n,s){n=bi(s,n),n=cd(t.stateNode,n,2),t=st(t,n,2),t!==null&&(Zi(t,2),or(t))}function Ve(t,n,s){if(t.tag===3)o_(t,t,s);else for(;n!==null;){if(n.tag===3){o_(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(qa===null||!qa.has(o))){t=bi(s,t),s=hg(2),o=st(n,s,2),o!==null&&(fg(s,o,n,t),Zi(o,2),or(o));break}}n=n.return}}function Ld(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Cb;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(Rd=!0,c.add(s),t=Ob.bind(null,t,n,s),n.then(t,t))}function Ob(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,je===t&&(le&s)===s&&(Ze===4||Ze===3&&(le&62914560)===le&&300>pn()-Dd?(Re&2)===0&&Ll(t,0):Cd|=s,Vl===le&&(Vl=0)),or(t)}function l_(t,n){n===0&&(n=bo()),t=Sa(t,n),t!==null&&(Zi(t,n),or(t))}function Vb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),l_(t,s)}function Mb(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),l_(t,s)}function jb(t,n){return gr(t,n)}var Lh=null,Ul=null,Pd=!1,Ph=!1,Ud=!1,Fo=0;function or(t){t!==Ul&&t.next===null&&(Ul===null?Lh=Ul=t:Ul=Ul.next=t),Ph=!0,Pd||(Pd=!0,Pb())}function Xu(t,n){if(!Ud&&Ph){Ud=!0;do for(var s=!1,o=Lh;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var E=o.suspendedLanes,A=o.pingedLanes;d=(1<<31-vn(42|t)+1)-1,d&=c&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,f_(o,d))}else d=le,d=ra(o,o===je?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||br(o,d)||(s=!0,f_(o,d));o=o.next}while(s);Ud=!1}}function Lb(){u_()}function u_(){Ph=Pd=!1;var t=0;Fo!==0&&(Gb()&&(t=Fo),Fo=0);for(var n=pn(),s=null,o=Lh;o!==null;){var c=o.next,d=c_(o,n);d===0?(o.next=null,s===null?Lh=c:s.next=c,c===null&&(Ul=s)):(s=o,(t!==0||(d&3)!==0)&&(Ph=!0)),o=c}Xu(t)}function c_(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-vn(d),A=1<<E,O=c[E];O===-1?((A&s)===0||(A&o)!==0)&&(c[E]=yo(A,n)):O<=n&&(t.expiredLanes|=A),d&=~A}if(n=je,s=le,s=ra(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Di(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||br(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Di(o),oa(s)){case 2:case 8:s=ia;break;case 32:s=_r;break;case 268435456:s=sa;break;default:s=_r}return o=h_.bind(null,t),s=gr(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Di(o),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,n){if(Pn!==0&&Pn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(jh()&&t.callbackNode!==s)return null;var o=le;return o=ra(t,t===je?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Yg(t,o,n),c_(t,pn()),t.callbackNode!=null&&t.callbackNode===s?h_.bind(null,t):null)}function f_(t,n){if(jh())return null;Yg(t,n,!0)}function Pb(){Yb(function(){(Re&6)!==0?gr(go,Lb):u_()})}function zd(){return Fo===0&&(Fo=vo()),Fo}function d_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function m_(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Ub(t,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var d=d_((c[Ke]||null).action),E=o.submitter;E&&(n=(n=E[Ke]||null)?d_(n.formAction):E.getAttribute("formAction"),n!==null&&(d=n,E=null));var A=new Qs("action","action",null,o,c);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fo!==0){var O=E?m_(c,E):new FormData(c);rd(s,{pending:!0,data:O,method:c.method,action:d},null,O)}}else typeof d=="function"&&(A.preventDefault(),O=E?m_(c,E):new FormData(c),rd(s,{pending:!0,data:O,method:c.method,action:d},d,O))},currentTarget:c}]})}}for(var kd=0;kd<fl.length;kd++){var Bd=fl[kd],zb=Bd.toLowerCase(),kb=Bd[0].toUpperCase()+Bd.slice(1);Pi(zb,"on"+kb)}Pi(Jc,"onAnimationEnd"),Pi(Js,"onAnimationIteration"),Pi(rs,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Wc,"onTransitionRun"),Pi(td,"onTransitionStart"),Pi(th,"onTransitionCancel"),Pi(gu,"onTransitionEnd"),ze("onMouseEnter",["mouseout","mouseover"]),ze("onMouseLeave",["mouseout","mouseover"]),ze("onPointerEnter",["pointerout","pointerover"]),ze("onPointerLeave",["pointerout","pointerover"]),Ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function p_(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],c=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var E=o.length-1;0<=E;E--){var A=o[E],O=A.instance,Y=A.currentTarget;if(A=A.listener,O!==d&&c.isPropagationStopped())break t;d=A,c.currentTarget=Y;try{d(c)}catch(tt){Sh(tt)}c.currentTarget=null,d=O}else for(E=0;E<o.length;E++){if(A=o[E],O=A.instance,Y=A.currentTarget,A=A.listener,O!==d&&c.isPropagationStopped())break t;d=A,c.currentTarget=Y;try{d(c)}catch(tt){Sh(tt)}c.currentTarget=null,d=O}}}}function Wt(t,n){var s=n[Eo];s===void 0&&(s=n[Eo]=new Set);var o=t+"__bubble";s.has(o)||(g_(n,t,2,!1),s.add(o))}function qd(t,n,s){var o=0;n&&(o|=4),g_(s,t,o,n)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Hd(t){if(!t[Uh]){t[Uh]=!0,We.forEach(function(s){s!=="selectionchange"&&(Bb.has(s)||qd(s,!1,t),qd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Uh]||(n[Uh]=!0,qd("selectionchange",!1,n))}}function g_(t,n,s,o){switch(k_(n)){case 2:var c=mE;break;case 8:c=pE;break;default:c=im}s=c.bind(null,n,s,t),c=void 0,!Wn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Fd(t,n,s,o,c){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var E=o.tag;if(E===3||E===4){var A=o.stateNode.containerInfo;if(A===c)break;if(E===4)for(E=o.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===c)return;E=E.return}for(;A!==null;){if(E=fs(A),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){o=d=E;continue t}A=A.parentNode}}o=o.return}qs(function(){var Y=d,tt=en(s),rt=[];t:{var $=_u.get(t);if($!==void 0){var K=Qs,Ht=t;switch(t){case"keypress":if(yi(s)===0)break t;case"keydown":case"keyup":K=Zs;break;case"focusin":Ht="focus",K=Cr;break;case"focusout":Ht="blur",K=Cr;break;case"beforeblur":case"afterblur":K=Cr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ya;break;case Jc:case Js:case rs:K=xr;break;case gu:K=xo;break;case"scroll":case"scrollend":K=pa;break;case"wheel":K=va;break;case"copy":case"cut":case"paste":K=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=_a;break;case"toggle":case"beforetoggle":K=al}var Pt=(n&4)!==0,Ne=!Pt&&(t==="scroll"||t==="scrollend"),H=Pt?$!==null?$+"Capture":null:$;Pt=[];for(var z=Y,G;z!==null;){var it=z;if(G=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||G===null||H===null||(it=Hs(z,H),it!=null&&Pt.push(Ju(z,it,G))),Ne)break;z=z.return}0<Pt.length&&($=new K($,Ht,null,s,tt),rt.push({event:$,listeners:Pt}))}}if((n&7)===0){t:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&s!==gs&&(Ht=s.relatedTarget||s.fromElement)&&(fs(Ht)||Ht[li]))break t;if((K||$)&&($=tt.window===tt?tt:($=tt.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ht=s.relatedTarget||s.toElement,K=Y,Ht=Ht?fs(Ht):null,Ht!==null&&(Ne=h(Ht),Pt=Ht.tag,Ht!==Ne||Pt!==5&&Pt!==27&&Pt!==6)&&(Ht=null)):(K=null,Ht=Y),K!==Ht)){if(Pt=ti,it="onMouseLeave",H="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Pt=_a,it="onPointerLeave",H="onPointerEnter",z="pointer"),Ne=K==null?$:Ji(K),G=Ht==null?$:Ji(Ht),$=new Pt(it,z+"leave",K,s,tt),$.target=Ne,$.relatedTarget=G,it=null,fs(tt)===Y&&(Pt=new Pt(H,z+"enter",Ht,s,tt),Pt.target=G,Pt.relatedTarget=Ne,it=Pt),Ne=it,K&&Ht)e:{for(Pt=K,H=Ht,z=0,G=Pt;G;G=zl(G))z++;for(G=0,it=H;it;it=zl(it))G++;for(;0<z-G;)Pt=zl(Pt),z--;for(;0<G-z;)H=zl(H),G--;for(;z--;){if(Pt===H||H!==null&&Pt===H.alternate)break e;Pt=zl(Pt),H=zl(H)}Pt=null}else Pt=null;K!==null&&__(rt,$,K,Pt,!1),Ht!==null&&Ne!==null&&__(rt,Ne,Ht,Pt,!0)}}t:{if($=Y?Ji(Y):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var Rt=Bc;else if(sn($))if(qc)Rt=Qc;else{Rt=Wf;var Zt=Jf}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&ts(Y.elementType)&&(Rt=Bc):Rt=Gc;if(Rt&&(Rt=Rt(t,Y))){Es(rt,Rt,s,tt);break t}Zt&&Zt(t,$,Y),t==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Wi($,"number",$.value)}switch(Zt=Y?Ji(Y):window,t){case"focusin":(sn(Zt)||Zt.contentEditable==="true")&&(Aa=Zt,mu=Y,Io=null);break;case"focusout":Io=mu=Aa=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Zc(rt,s,tt);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":Zc(rt,s,tt)}var Nt;if(ji)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else te?J(t,s)&&(zt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(zt="onCompositionStart");zt&&(y&&s.locale!=="ko"&&(te||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&te&&(Nt=Fs()):(ns=tt,ys="value"in ns?ns.value:ns.textContent,te=!0)),Zt=zh(Y,zt),0<Zt.length&&(zt=new So(zt,t,null,s,tt),rt.push({event:zt,listeners:Zt}),Nt?zt.data=Nt:(Nt=ft(s),Nt!==null&&(zt.data=Nt)))),(Nt=p?nn(t,s):ee(t,s))&&(zt=zh(Y,"onBeforeInput"),0<zt.length&&(Zt=new So("onBeforeInput","beforeinput",null,s,tt),rt.push({event:Zt,listeners:zt}),Zt.data=Nt)),Ub(rt,t,Y,s,tt)}p_(rt,n)})}function Ju(t,n,s){return{instance:t,listener:n,currentTarget:s}}function zh(t,n){for(var s=n+"Capture",o=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Hs(t,s),c!=null&&o.unshift(Ju(t,c,d)),c=Hs(t,n),c!=null&&o.push(Ju(t,c,d))),t.tag===3)return o;t=t.return}return[]}function zl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,n,s,o,c){for(var d=n._reactName,E=[];s!==null&&s!==o;){var A=s,O=A.alternate,Y=A.stateNode;if(A=A.tag,O!==null&&O===o)break;A!==5&&A!==26&&A!==27||Y===null||(O=Y,c?(Y=Hs(s,d),Y!=null&&E.unshift(Ju(s,Y,O))):c||(Y=Hs(s,d),Y!=null&&E.push(Ju(s,Y,O)))),s=s.return}E.length!==0&&t.push({event:n,listeners:E})}var qb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(qb,`
`).replace(Hb,"")}function v_(t,n){return n=y_(n),y_(t)===n}function kh(){}function De(t,n,s,o,c,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||In(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&In(t,""+o);break;case"className":hi(t,"class",o);break;case"tabIndex":hi(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(t,s,o);break;case"style":ma(t,o,d);break;case"data":if(n!=="object"){hi(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=qn(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&De(t,n,"name",c.name,c,null),De(t,n,"formEncType",c.formEncType,c,null),De(t,n,"formMethod",c.formMethod,c,null),De(t,n,"formTarget",c.formTarget,c,null)):(De(t,n,"encType",c.encType,c,null),De(t,n,"method",c.method,c,null),De(t,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=qn(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=kh);break;case"onScroll":o!=null&&Wt("scroll",t);break;case"onScrollEnd":o!=null&&Wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=qn(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Wt("beforetoggle",t),Wt("toggle",t),ps(t,"popover",o);break;case"xlinkActuate":qe(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qe(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qe(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qe(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qe(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qe(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qe(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ps(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=To.get(s)||s,ps(t,s,o))}}function Gd(t,n,s,o,c,d){switch(s){case"style":ma(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof o=="string"?In(t,o):(typeof o=="number"||typeof o=="bigint")&&In(t,""+o);break;case"onScroll":o!=null&&Wt("scroll",t);break;case"onScrollEnd":o!=null&&Wt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),d=t[Ke]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,c);break t}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ps(t,s,o)}}}function Un(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",t),Wt("load",t);var o=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var E=s[d];if(E!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:De(t,n,d,E,s,null)}}c&&De(t,n,"srcSet",s.srcSet,s,null),o&&De(t,n,"src",s.src,s,null);return;case"input":Wt("invalid",t);var A=d=E=c=null,O=null,Y=null;for(o in s)if(s.hasOwnProperty(o)){var tt=s[o];if(tt!=null)switch(o){case"name":c=tt;break;case"type":E=tt;break;case"checked":O=tt;break;case"defaultChecked":Y=tt;break;case"value":d=tt;break;case"defaultValue":A=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,n));break;default:De(t,n,o,tt,s,null)}}ln(t,d,A,O,Y,E,c,!1),wr(t);return;case"select":Wt("invalid",t),o=E=d=null;for(c in s)if(s.hasOwnProperty(c)&&(A=s[c],A!=null))switch(c){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":o=A;default:De(t,n,c,A,s,null)}n=d,s=E,t.multiple=!!o,n!=null?Vi(t,!!o,n,!1):s!=null&&Vi(t,!!o,s,!0);return;case"textarea":Wt("invalid",t),d=c=o=null;for(E in s)if(s.hasOwnProperty(E)&&(A=s[E],A!=null))switch(E){case"value":o=A;break;case"defaultValue":c=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:De(t,n,E,A,s,null)}Jn(t,o,c,d),wr(t);return;case"option":for(O in s)if(s.hasOwnProperty(O)&&(o=s[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:De(t,n,O,o,s,null)}return;case"dialog":Wt("beforetoggle",t),Wt("toggle",t),Wt("cancel",t),Wt("close",t);break;case"iframe":case"object":Wt("load",t);break;case"video":case"audio":for(o=0;o<Zu.length;o++)Wt(Zu[o],t);break;case"image":Wt("error",t),Wt("load",t);break;case"details":Wt("toggle",t);break;case"embed":case"source":case"link":Wt("error",t),Wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(o=s[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:De(t,n,Y,o,s,null)}return;default:if(ts(n)){for(tt in s)s.hasOwnProperty(tt)&&(o=s[tt],o!==void 0&&Gd(t,n,tt,o,s,void 0));return}}for(A in s)s.hasOwnProperty(A)&&(o=s[A],o!=null&&De(t,n,A,o,s,null))}function Fb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,E=null,A=null,O=null,Y=null,tt=null;for(K in s){var rt=s[K];if(s.hasOwnProperty(K)&&rt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=rt;default:o.hasOwnProperty(K)||De(t,n,K,null,o,rt)}}for(var $ in o){var K=o[$];if(rt=s[$],o.hasOwnProperty($)&&(K!=null||rt!=null))switch($){case"type":d=K;break;case"name":c=K;break;case"checked":Y=K;break;case"defaultChecked":tt=K;break;case"value":E=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==rt&&De(t,n,$,K,o,rt)}}tn(t,E,A,O,Y,tt,d,c);return;case"select":K=E=A=$=null;for(d in s)if(O=s[d],s.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:o.hasOwnProperty(d)||De(t,n,d,null,o,O)}for(c in o)if(d=o[c],O=s[c],o.hasOwnProperty(c)&&(d!=null||O!=null))switch(c){case"value":$=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==O&&De(t,n,c,d,o,O)}n=A,s=E,o=K,$!=null?Vi(t,!!s,$,!1):!!o!=!!s&&(n!=null?Vi(t,!!s,n,!0):Vi(t,!!s,s?[]:"",!1));return;case"textarea":K=$=null;for(A in s)if(c=s[A],s.hasOwnProperty(A)&&c!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:De(t,n,A,null,o,c)}for(E in o)if(c=o[E],d=s[E],o.hasOwnProperty(E)&&(c!=null||d!=null))switch(E){case"value":$=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&De(t,n,E,c,o,d)}Xt(t,$,K);return;case"option":for(var Ht in s)if($=s[Ht],s.hasOwnProperty(Ht)&&$!=null&&!o.hasOwnProperty(Ht))switch(Ht){case"selected":t.selected=!1;break;default:De(t,n,Ht,null,o,$)}for(O in o)if($=o[O],K=s[O],o.hasOwnProperty(O)&&$!==K&&($!=null||K!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:De(t,n,O,$,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in s)$=s[Pt],s.hasOwnProperty(Pt)&&$!=null&&!o.hasOwnProperty(Pt)&&De(t,n,Pt,null,o,$);for(Y in o)if($=o[Y],K=s[Y],o.hasOwnProperty(Y)&&$!==K&&($!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,n));break;default:De(t,n,Y,$,o,K)}return;default:if(ts(n)){for(var Ne in s)$=s[Ne],s.hasOwnProperty(Ne)&&$!==void 0&&!o.hasOwnProperty(Ne)&&Gd(t,n,Ne,void 0,o,$);for(tt in o)$=o[tt],K=s[tt],!o.hasOwnProperty(tt)||$===K||$===void 0&&K===void 0||Gd(t,n,tt,$,o,K);return}}for(var H in s)$=s[H],s.hasOwnProperty(H)&&$!=null&&!o.hasOwnProperty(H)&&De(t,n,H,null,o,$);for(rt in o)$=o[rt],K=s[rt],!o.hasOwnProperty(rt)||$===K||$==null&&K==null||De(t,n,rt,$,o,K)}var Qd=null,Yd=null;function Bh(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $d(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kd=null;function Gb(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch($b)}:T_;function $b(t){setTimeout(function(){throw t})}function Ga(t){return t==="head"}function S_(t,n){var s=n,o=0,c=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<o&&8>o){s=o;var E=t.ownerDocument;if(s&1&&Wu(E.documentElement),s&2&&Wu(E.body),s&4)for(s=E.head,Wu(s),E=s.firstChild;E;){var A=E.nextSibling,O=E.nodeName;E[ui]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=A}}if(c===0){t.removeChild(d),oc(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:o=s.charCodeAt(0)-48;else o=0;s=d}while(s);oc(n)}function Xd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xd(s),Ii(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Kb(t,n,s,o){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Is(t.nextSibling),t===null)break}return null}function Xb(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Is(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Zb(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Is(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Jd=null;function w_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function R_(t,n,s){switch(n=Bh(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Wu(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ii(t)}var us=new Map,C_=new Set;function qh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Jr=dt.d;dt.d={f:Jb,r:Wb,D:tE,C:eE,L:nE,m:iE,X:rE,S:sE,M:aE};function Jb(){var t=Jr.f(),n=Vh();return t||n}function Wb(t){var n=ci(t);n!==null&&n.tag===5&&n.type==="form"?Yp(n):Jr.r(t)}var kl=typeof document>"u"?null:document;function x_(t,n,s){var o=kl;if(o&&typeof n=="string"&&n){var c=ae(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),C_.has(c)||(C_.add(c),t={rel:t,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Un(n,"link",t),xe(n),o.head.appendChild(n)))}}function tE(t){Jr.D(t),x_("dns-prefetch",t,null)}function eE(t,n){Jr.C(t,n),x_("preconnect",t,n)}function nE(t,n,s){Jr.L(t,n,s);var o=kl;if(o&&t&&n){var c='link[rel="preload"][as="'+ae(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ae(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ae(s.imageSizes)+'"]')):c+='[href="'+ae(t)+'"]';var d=c;switch(n){case"style":d=Bl(t);break;case"script":d=ql(t)}us.has(d)||(t=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),us.set(d,t),o.querySelector(c)!==null||n==="style"&&o.querySelector(tc(d))||n==="script"&&o.querySelector(ec(d))||(n=o.createElement("link"),Un(n,"link",t),xe(n),o.head.appendChild(n)))}}function iE(t,n){Jr.m(t,n);var s=kl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ae(o)+'"][href="'+ae(t)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ql(t)}if(!us.has(d)&&(t=S({rel:"modulepreload",href:t},n),us.set(d,t),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ec(d)))return}o=s.createElement("link"),Un(o,"link",t),xe(o),s.head.appendChild(o)}}}function sE(t,n,s){Jr.S(t,n,s);var o=kl;if(o&&t){var c=Nn(o).hoistableStyles,d=Bl(t);n=n||"default";var E=c.get(d);if(!E){var A={loading:0,preload:null};if(E=o.querySelector(tc(d)))A.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},s),(s=us.get(d))&&Wd(t,s);var O=E=o.createElement("link");xe(O),Un(O,"link",t),O._p=new Promise(function(Y,tt){O.onload=Y,O.onerror=tt}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Hh(E,n,o)}E={type:"stylesheet",instance:E,count:1,state:A},c.set(d,E)}}}function rE(t,n){Jr.X(t,n);var s=kl;if(s&&t){var o=Nn(s).hoistableScripts,c=ql(t),d=o.get(c);d||(d=s.querySelector(ec(c)),d||(t=S({src:t,async:!0},n),(n=us.get(c))&&tm(t,n),d=s.createElement("script"),xe(d),Un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function aE(t,n){Jr.M(t,n);var s=kl;if(s&&t){var o=Nn(s).hoistableScripts,c=ql(t),d=o.get(c);d||(d=s.querySelector(ec(c)),d||(t=S({src:t,async:!0,type:"module"},n),(n=us.get(c))&&tm(t,n),d=s.createElement("script"),xe(d),Un(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function D_(t,n,s,o){var c=(c=jt.current)?qh(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Bl(s.href),s=Nn(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Bl(s.href);var d=Nn(c).hoistableStyles,E=d.get(t);if(E||(c=c.ownerDocument||c,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=c.querySelector(tc(t)))&&!d._p&&(E.instance=d,E.state.loading=5),us.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},us.set(t,s),d||oE(c,t,s,E.state))),n&&o===null)throw Error(r(528,""));return E}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ql(s),s=Nn(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Bl(t){return'href="'+ae(t)+'"'}function tc(t){return'link[rel="stylesheet"]['+t+"]"}function N_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function oE(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Un(n,"link",s),xe(n),t.head.appendChild(n))}function ql(t){return'[src="'+ae(t)+'"]'}function ec(t){return"script[async]"+t}function I_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+ae(s.href)+'"]');if(o)return n.instance=o,xe(o),o;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xe(o),Un(o,"style",c),Hh(o,s.precedence,t),n.instance=o;case"stylesheet":c=Bl(s.href);var d=t.querySelector(tc(c));if(d)return n.state.loading|=4,n.instance=d,xe(d),d;o=N_(s),(c=us.get(c))&&Wd(o,c),d=(t.ownerDocument||t).createElement("link"),xe(d);var E=d;return E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Un(d,"link",o),n.state.loading|=4,Hh(d,s.precedence,t),n.instance=d;case"script":return d=ql(s.src),(c=t.querySelector(ec(d)))?(n.instance=c,xe(c),c):(o=s,(c=us.get(d))&&(o=S({},s),tm(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),xe(c),Un(c,"link",o),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Hh(o,s.precedence,t));return n.instance}function Hh(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,E=0;E<o.length;E++){var A=o[E];if(A.dataset.precedence===n)d=A;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Fh=null;function O_(t,n,s){if(Fh===null){var o=new Map,c=Fh=new Map;c.set(s,o)}else c=Fh,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var d=s[c];if(!(d[ui]||d[Pe]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(n)||"";E=t+E;var A=o.get(E);A?A.push(d):o.set(E,[d])}}return o}function V_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function lE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var nc=null;function uE(){}function cE(t,n,s){if(nc===null)throw Error(r(475));var o=nc;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Bl(s.href),d=t.querySelector(tc(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Gh.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=d,xe(d);return}d=t.ownerDocument||t,s=N_(s),(c=us.get(c))&&Wd(s,c),d=d.createElement("link"),xe(d);var E=d;E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Un(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Gh.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function hE(){if(nc===null)throw Error(r(475));var t=nc;return t.stylesheets&&t.count===0&&em(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&em(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qh=null;function em(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qh=new Map,n.forEach(fE,t),Qh=null,Gh.call(t))}function fE(t,n){if(!(n.state.loading&4)){var s=Qh.get(t);if(s)var o=s.get(null);else{s=new Map,Qh.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var E=c[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),o=E)}o&&s.set(null,o)}c=n.instance,E=c.getAttribute("data-precedence"),d=s.get(E)||o,d===o&&s.set(null,c),s.set(E,c),this.count++,o=Gh.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var ic={$$typeof:ut,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function dE(t,n,s,o,c,d,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function j_(t,n,s,o,c,d,E,A,O,Y,tt,rt){return t=new dE(t,n,s,E,A,O,Y,rt),n=1,d===!0&&(n|=24),d=ii(3,null,null,n),t.current=d,d.stateNode=t,n=vl(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},k(d),t}function L_(t){return t?(t=wa,t):wa}function P_(t,n,s,o,c,d){c=L_(c),o.context===null?o.context=c:o.pendingContext=c,o=Z(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=st(t,o,n),s!==null&&(Fi(s,t,n),ht(s,t,n))}function U_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function nm(t,n){U_(t,n),(t=t.alternate)&&U_(t,n)}function z_(t){if(t.tag===13){var n=Sa(t,67108864);n!==null&&Fi(n,t,67108864),nm(t,67108864)}}var Yh=!0;function mE(t,n,s,o){var c=W.T;W.T=null;var d=dt.p;try{dt.p=2,im(t,n,s,o)}finally{dt.p=d,W.T=c}}function pE(t,n,s,o){var c=W.T;W.T=null;var d=dt.p;try{dt.p=8,im(t,n,s,o)}finally{dt.p=d,W.T=c}}function im(t,n,s,o){if(Yh){var c=sm(o);if(c===null)Fd(t,n,o,$h,s),B_(t,o);else if(_E(c,t,n,s,o))o.stopPropagation();else if(B_(t,o),n&4&&-1<gE.indexOf(t)){for(;c!==null;){var d=ci(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Xn(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var O=1<<31-vn(E);A.entanglements[1]|=O,E&=~O}or(d),(Re&6)===0&&(Ih=pn()+500,Xu(0))}}break;case 13:A=Sa(d,2),A!==null&&Fi(A,d,2),Vh(),nm(d,2)}if(d=sm(o),d===null&&Fd(t,n,o,$h,s),d===c)break;c=d}c!==null&&o.stopPropagation()}else Fd(t,n,o,null,s)}}function sm(t){return t=en(t),rm(t)}var $h=null;function rm(t){if($h=null,t=fs(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=m(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return $h=t,null}function k_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uu()){case go:return 2;case ia:return 8;case _r:case cu:return 32;case sa:return 268435456;default:return 32}default:return 32}}var am=!1,Qa=null,Ya=null,$a=null,sc=new Map,rc=new Map,Ka=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,n){switch(t){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Ya=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":sc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(n.pointerId)}}function ac(t,n,s,o,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},n!==null&&(n=ci(n),n!==null&&z_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _E(t,n,s,o,c){switch(n){case"focusin":return Qa=ac(Qa,t,n,s,o,c),!0;case"dragenter":return Ya=ac(Ya,t,n,s,o,c),!0;case"mouseover":return $a=ac($a,t,n,s,o,c),!0;case"pointerover":var d=c.pointerId;return sc.set(d,ac(sc.get(d)||null,t,n,s,o,c)),!0;case"gotpointercapture":return d=c.pointerId,rc.set(d,ac(rc.get(d)||null,t,n,s,o,c)),!0}return!1}function q_(t){var n=fs(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=m(s),n!==null){t.blockedOn=n,Wo(t.priority,function(){if(s.tag===13){var o=Hi();o=Ps(o);var c=Sa(s,o);c!==null&&Fi(c,s,o),nm(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=sm(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);gs=o,s.target.dispatchEvent(o),gs=null}else return n=ci(s),n!==null&&z_(n),t.blockedOn=s,!1;n.shift()}return!0}function H_(t,n,s){Kh(t)&&s.delete(n)}function yE(){am=!1,Qa!==null&&Kh(Qa)&&(Qa=null),Ya!==null&&Kh(Ya)&&(Ya=null),$a!==null&&Kh($a)&&($a=null),sc.forEach(H_),rc.forEach(H_)}function Xh(t,n){t.blockedOn===n&&(t.blockedOn=null,am||(am=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yE)))}var Zh=null;function F_(t){Zh!==t&&(Zh=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Zh===t&&(Zh=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],c=t[n+2];if(typeof o!="function"){if(rm(o||s)===null)continue;break}var d=ci(s);d!==null&&(t.splice(n,3),n-=3,rd(d,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function oc(t){function n(O){return Xh(O,t)}Qa!==null&&Xh(Qa,t),Ya!==null&&Xh(Ya,t),$a!==null&&Xh($a,t),sc.forEach(n),rc.forEach(n);for(var s=0;s<Ka.length;s++){var o=Ka[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ka.length&&(s=Ka[0],s.blockedOn===null);)q_(s),s.blockedOn===null&&Ka.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],E=c[Ke]||null;if(typeof d=="function")E||F_(s);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(c=d,E=d[Ke]||null)A=E.formAction;else if(rm(c)!==null)continue}else A=E.action;typeof A=="function"?s[o+1]=A:(s.splice(o,3),o-=3),F_(s)}}}function om(t){this._internalRoot=t}Jh.prototype.render=om.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=Hi();P_(s,o,t,n,null,null)},Jh.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;P_(t.current,2,null,t,null,null),Vh(),n[li]=null}};function Jh(t){this._internalRoot=t}Jh.prototype.unstable_scheduleHydration=function(t){if(t){var n=Us();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ka.length&&n!==0&&n<Ka[s].priority;s++);Ka.splice(s,0,t),s===0&&q_(t)}};var G_=e.version;if(G_!=="19.1.1")throw Error(r(527,G_,"19.1.1"));dt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var vE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wh.isDisabled&&Wh.supportsFiber)try{_e=Wh.inject(vE),pe=Wh}catch{}}return uc.createRoot=function(t,n){if(!l(t))throw Error(r(299));var s=!1,o="",c=og,d=lg,E=ug,A=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(A=n.unstable_transitionCallbacks)),n=j_(t,1,!1,null,null,s,o,c,d,E,A,null),t[li]=n.current,Hd(t),new om(n)},uc.hydrateRoot=function(t,n,s){if(!l(t))throw Error(r(299));var o=!1,c="",d=og,E=lg,A=ug,O=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(O=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),n=j_(t,1,!0,n,s??null,o,c,d,E,A,O,Y),n.context=L_(null),s=n.current,o=Hi(),o=Ps(o),c=Z(o),c.callback=null,st(s,c,o),s=o,n.current.lanes=s,Zi(n,s),or(n),t[li]=n.current,Hd(t),new Jh(n)},uc.version="19.1.1",uc}var ey;function DE(){if(ey)return cm.exports;ey=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),cm.exports=xE(),cm.exports}var NE=DE();const IE=yv(NE);var vv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ny=Ja.createContext&&Ja.createContext(vv),OE=["attr","size","title"];function VE(a,e){if(a==null)return{};var i=ME(a,e),r,l;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(l=0;l<h.length;l++)r=h[l],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(i[r]=a[r])}return i}function ME(a,e){if(a==null)return{};var i={};for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)){if(e.indexOf(r)>=0)continue;i[r]=a[r]}return i}function df(){return df=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(a[r]=i[r])}return a},df.apply(this,arguments)}function iy(a,e){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),i.push.apply(i,r)}return i}function mf(a){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?iy(Object(i),!0).forEach(function(r){jE(a,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):iy(Object(i)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(i,r))})}return a}function jE(a,e,i){return e=LE(e),e in a?Object.defineProperty(a,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[e]=i,a}function LE(a){var e=PE(a,"string");return typeof e=="symbol"?e:e+""}function PE(a,e){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var r=i.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function bv(a){return a&&a.map((e,i)=>Ja.createElement(e.tag,mf({key:i},e.attr),bv(e.child)))}function fo(a){return e=>Ja.createElement(UE,df({attr:mf({},a.attr)},e),bv(a.child))}function UE(a){var e=i=>{var{attr:r,size:l,title:h}=a,m=VE(a,OE),_=l||i.size||"1em",v;return i.className&&(v=i.className),a.className&&(v=(v?v+" ":"")+a.className),Ja.createElement("svg",df({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,m,{className:v,style:mf(mf({color:a.color||i.color},i.style),a.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),h&&Ja.createElement("title",null,h),a.children)};return ny!==void 0?Ja.createElement(ny.Consumer,null,i=>e(i)):e(vv)}function zE(a){return fo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(a)}function kE(a){return fo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(a)}function BE(a){return fo({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(a)}function Ev(a){return fo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(a)}function qE(a){return fo({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(a)}function Tv(a){return fo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(a)}function HE(a){return fo({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(a)}function FE(a){return fo({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(a)}const GE=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},QE=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];e[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],m=a[i++],_=a[i++],v=((l&7)<<18|(h&63)<<12|(m&63)<<6|_&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],m=a[i++];e[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const h=a[l],m=l+1<a.length,_=m?a[l+1]:0,v=l+2<a.length,b=v?a[l+2]:0,S=h>>2,I=(h&3)<<4|_>>4;let D=(_&15)<<2|b>>6,Q=b&63;v||(Q=64,m||(D=64)),r.push(i[S],i[I],i[D],i[Q])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Av(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):QE(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],_=l<a.length?i[a.charAt(l)]:0;++l;const b=l<a.length?i[a.charAt(l)]:64;++l;const I=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||_==null||b==null||I==null)throw new YE;const D=h<<2|_>>4;if(r.push(D),b!==64){const Q=_<<4&240|b>>2;if(r.push(Q),I!==64){const X=b<<6&192|I;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class YE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $E=function(a){const e=Av(a);return Sv.encodeByteArray(e,!0)},pf=function(a){return $E(a).replace(/\./g,"")},KE=function(a){try{return Sv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>XE().__FIREBASE_DEFAULTS__,JE=()=>{if(typeof process>"u"||typeof sy>"u")return;const a=sy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},WE=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&KE(a[1]);return e&&JSON.parse(e)},Qm=()=>{try{return GE()||ZE()||JE()||WE()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},t1=a=>Qm()?.emulatorHosts?.[a],e1=a=>{const e=t1(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},wv=()=>Qm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i1(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[pf(JSON.stringify(i)),pf(JSON.stringify(m)),""].join(".")}const mc={};function r1(){const a={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?a.emulator.push(e):a.prod.push(e);return a}function a1(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let ry=!1;function o1(a,e){if(typeof window>"u"||typeof document>"u"||!Ym(window.location.host)||mc[a]===e||mc[a]||ry)return;mc[a]=e;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",h=r1().prod.length>0;function m(){const D=document.getElementById(r);D&&D.remove()}function _(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function v(D,Q){D.setAttribute("width","24"),D.setAttribute("id",Q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function b(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{ry=!0,m()},D}function S(D,Q){D.setAttribute("id",Q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=a1(r),Q=i("text"),X=document.getElementById(Q)||document.createElement("span"),ot=i("learnmore"),et=document.getElementById(ot)||document.createElement("a"),bt=i("preprendIcon"),lt=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ut=D.element;_(ut),S(et,ot);const vt=b();v(lt,bt),ut.append(lt,X,et,vt),document.body.appendChild(ut)}h?(X.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){const a=Qm()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c1(){return!u1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h1(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="FirebaseError";class su extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=d1,Object.setPrototypeOf(this,su.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rv.prototype.create)}}class Rv{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,h=this.errors[e],m=h?m1(h,r):"Error",_=`${this.serviceName}: ${m} (${l}).`;return new su(l,_,r)}}function m1(a,e){return a.replace(p1,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const p1=/\{\$([^}]+)}/g;function gf(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const h=a[l],m=e[l];if(ay(h)&&ay(m)){if(!gf(h,m))return!1}else if(h!==m)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function ay(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(a){return a&&a._delegate?a._delegate:a}class bc{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new n1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y1(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,m]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);r===_&&m.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&e(h,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _1(a){return a===Go?void 0:a}function y1(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new g1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ce||(ce={}));const b1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},E1=ce.INFO,T1={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},A1=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),l=T1[e];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=E1,this._logHandler=A1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const S1=(a,e)=>e.some(i=>a instanceof i);let oy,ly;function w1(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R1(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,Tm=new WeakMap,Dv=new WeakMap,mm=new WeakMap,$m=new WeakMap;function C1(a){const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",m)},h=()=>{i(Wa(a.result)),l()},m=()=>{r(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&xv.set(i,a)}).catch(()=>{}),$m.set(e,a),e}function x1(a){if(Tm.has(a))return;const e=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",m),a.removeEventListener("abort",m)},h=()=>{i(),l()},m=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",m),a.addEventListener("abort",m)});Tm.set(a,e)}let Am={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Tm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Dv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wa(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function D1(a){Am=a(Am)}function N1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(pm(this),e,...i);return Dv.set(r,e.sort?e.sort():[e]),Wa(r)}:R1().includes(a)?function(...e){return a.apply(pm(this),e),Wa(xv.get(this))}:function(...e){return Wa(a.apply(pm(this),e))}}function I1(a){return typeof a=="function"?N1(a):(a instanceof IDBTransaction&&x1(a),S1(a,w1())?new Proxy(a,Am):a)}function Wa(a){if(a instanceof IDBRequest)return C1(a);if(mm.has(a))return mm.get(a);const e=I1(a);return e!==a&&(mm.set(a,e),$m.set(e,a)),e}const pm=a=>$m.get(a);function O1(a,e,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const m=indexedDB.open(a,e),_=Wa(m);return r&&m.addEventListener("upgradeneeded",v=>{r(Wa(m.result),v.oldVersion,v.newVersion,Wa(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),_.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",b=>l(b.oldVersion,b.newVersion,b))}).catch(()=>{}),_}const V1=["get","getKey","getAll","getAllKeys","count"],M1=["put","add","delete","clear"],gm=new Map;function uy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=M1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||V1.includes(i)))return;const h=async function(m,..._){const v=this.transaction(m,l?"readwrite":"readonly");let b=v.store;return r&&(b=b.index(_.shift())),(await Promise.all([b[i](..._),l&&v.done]))[0]};return gm.set(e,h),h}D1(a=>({...a,get:(e,i,r)=>uy(e,i)||a.get(e,i,r),has:(e,i)=>!!uy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(L1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function L1(a){return a.getComponent()?.type==="VERSION"}const Sm="@firebase/app",cy="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Cv("@firebase/app"),P1="@firebase/app-compat",U1="@firebase/analytics-compat",z1="@firebase/analytics",k1="@firebase/app-check-compat",B1="@firebase/app-check",q1="@firebase/auth",H1="@firebase/auth-compat",F1="@firebase/database",G1="@firebase/data-connect",Q1="@firebase/database-compat",Y1="@firebase/functions",$1="@firebase/functions-compat",K1="@firebase/installations",X1="@firebase/installations-compat",Z1="@firebase/messaging",J1="@firebase/messaging-compat",W1="@firebase/performance",tT="@firebase/performance-compat",eT="@firebase/remote-config",nT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",rT="@firebase/firestore",aT="@firebase/ai",oT="@firebase/firestore-compat",lT="firebase",uT="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",cT={[Sm]:"fire-core",[P1]:"fire-core-compat",[z1]:"fire-analytics",[U1]:"fire-analytics-compat",[B1]:"fire-app-check",[k1]:"fire-app-check-compat",[q1]:"fire-auth",[H1]:"fire-auth-compat",[F1]:"fire-rtdb",[G1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[$1]:"fire-fn-compat",[K1]:"fire-iid",[X1]:"fire-iid-compat",[Z1]:"fire-fcm",[J1]:"fire-fcm-compat",[W1]:"fire-perf",[tT]:"fire-perf-compat",[eT]:"fire-rc",[nT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[rT]:"fire-fst",[oT]:"fire-fst-compat",[aT]:"fire-vertex","fire-js":"fire-js",[lT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,hT=new Map,Rm=new Map;function hy(a,e){try{a.container.addComponent(e)}catch(i){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function yf(a){const e=a.name;if(Rm.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,a);for(const i of _f.values())hy(i,a);for(const i of hT.values())hy(i,a);return!0}function fT(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function dT(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new Rv("app","Firebase",mT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=uT;function Nv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:wm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw to.create("bad-app-name",{appName:String(l)});if(i||(i=wv()),!i)throw to.create("no-options");const h=_f.get(l);if(h){if(gf(i,h.options)&&gf(r,h.config))return h;throw to.create("duplicate-app",{appName:l})}const m=new v1(l);for(const v of Rm.values())m.addComponent(v);const _=new pT(i,r,m);return _f.set(l,_),_}function _T(a=wm){const e=_f.get(a);if(!e&&a===wm&&wv())return Nv();if(!e)throw to.create("no-app",{appName:a});return e}function $l(a,e,i){let r=cT[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${r}" with version "${e}":`];l&&m.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(m.join(" "));return}yf(new bc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebase-heartbeat-database",vT=1,Ec="firebase-heartbeat-store";let _m=null;function Iv(){return _m||(_m=O1(yT,vT,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Ec)}catch(i){console.warn(i)}}}}).catch(a=>{throw to.create("idb-open",{originalErrorMessage:a.message})})),_m}async function bT(a){try{const i=(await Iv()).transaction(Ec),r=await i.objectStore(Ec).get(Ov(a));return await i.done,r}catch(e){if(e instanceof su)Wr.warn(e.message);else{const i=to.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(i.message)}}}async function fy(a,e){try{const r=(await Iv()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,Ov(a)),await r.done}catch(i){if(i instanceof su)Wr.warn(i.message);else{const r=to.create("idb-set",{originalErrorMessage:i?.message});Wr.warn(r.message)}}}function Ov(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=1024,TT=30;class AT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>TT){const l=RT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dy(),{heartbeatsToSend:i,unsentEntries:r}=ST(this._heartbeatsCache.heartbeats),l=pf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Wr.warn(e),""}}}function dy(){return new Date().toISOString().substring(0,10)}function ST(a,e=ET){const i=[];let r=a.slice();for(const l of a){const h=i.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),my(i)>e){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),my(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class wT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h1()?f1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function my(a){return pf(JSON.stringify({version:2,heartbeats:a})).length}function RT(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(a){yf(new bc("platform-logger",e=>new j1(e),"PRIVATE")),yf(new bc("heartbeat",e=>new AT(e),"PRIVATE")),$l(Sm,cy,a),$l(Sm,cy,"esm2020"),$l("fire-js","")}CT("");var xT="firebase",DT="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$l(xT,DT,"app");var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eo,Vv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,x){function N(){}N.prototype=x.prototype,V.D=x.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(j,P,q){for(var M=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)M[Je-2]=arguments[Je];return x.prototype[P].apply(j,M)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,x,N){N||(N=0);var j=Array(16);if(typeof x=="string")for(var P=0;16>P;++P)j[P]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(P=0;16>P;++P)j[P]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=V.g[0],N=V.g[1],P=V.g[2];var q=V.g[3],M=x+(q^N&(P^q))+j[0]+3614090360&4294967295;x=N+(M<<7&4294967295|M>>>25),M=q+(P^x&(N^P))+j[1]+3905402710&4294967295,q=x+(M<<12&4294967295|M>>>20),M=P+(N^q&(x^N))+j[2]+606105819&4294967295,P=q+(M<<17&4294967295|M>>>15),M=N+(x^P&(q^x))+j[3]+3250441966&4294967295,N=P+(M<<22&4294967295|M>>>10),M=x+(q^N&(P^q))+j[4]+4118548399&4294967295,x=N+(M<<7&4294967295|M>>>25),M=q+(P^x&(N^P))+j[5]+1200080426&4294967295,q=x+(M<<12&4294967295|M>>>20),M=P+(N^q&(x^N))+j[6]+2821735955&4294967295,P=q+(M<<17&4294967295|M>>>15),M=N+(x^P&(q^x))+j[7]+4249261313&4294967295,N=P+(M<<22&4294967295|M>>>10),M=x+(q^N&(P^q))+j[8]+1770035416&4294967295,x=N+(M<<7&4294967295|M>>>25),M=q+(P^x&(N^P))+j[9]+2336552879&4294967295,q=x+(M<<12&4294967295|M>>>20),M=P+(N^q&(x^N))+j[10]+4294925233&4294967295,P=q+(M<<17&4294967295|M>>>15),M=N+(x^P&(q^x))+j[11]+2304563134&4294967295,N=P+(M<<22&4294967295|M>>>10),M=x+(q^N&(P^q))+j[12]+1804603682&4294967295,x=N+(M<<7&4294967295|M>>>25),M=q+(P^x&(N^P))+j[13]+4254626195&4294967295,q=x+(M<<12&4294967295|M>>>20),M=P+(N^q&(x^N))+j[14]+2792965006&4294967295,P=q+(M<<17&4294967295|M>>>15),M=N+(x^P&(q^x))+j[15]+1236535329&4294967295,N=P+(M<<22&4294967295|M>>>10),M=x+(P^q&(N^P))+j[1]+4129170786&4294967295,x=N+(M<<5&4294967295|M>>>27),M=q+(N^P&(x^N))+j[6]+3225465664&4294967295,q=x+(M<<9&4294967295|M>>>23),M=P+(x^N&(q^x))+j[11]+643717713&4294967295,P=q+(M<<14&4294967295|M>>>18),M=N+(q^x&(P^q))+j[0]+3921069994&4294967295,N=P+(M<<20&4294967295|M>>>12),M=x+(P^q&(N^P))+j[5]+3593408605&4294967295,x=N+(M<<5&4294967295|M>>>27),M=q+(N^P&(x^N))+j[10]+38016083&4294967295,q=x+(M<<9&4294967295|M>>>23),M=P+(x^N&(q^x))+j[15]+3634488961&4294967295,P=q+(M<<14&4294967295|M>>>18),M=N+(q^x&(P^q))+j[4]+3889429448&4294967295,N=P+(M<<20&4294967295|M>>>12),M=x+(P^q&(N^P))+j[9]+568446438&4294967295,x=N+(M<<5&4294967295|M>>>27),M=q+(N^P&(x^N))+j[14]+3275163606&4294967295,q=x+(M<<9&4294967295|M>>>23),M=P+(x^N&(q^x))+j[3]+4107603335&4294967295,P=q+(M<<14&4294967295|M>>>18),M=N+(q^x&(P^q))+j[8]+1163531501&4294967295,N=P+(M<<20&4294967295|M>>>12),M=x+(P^q&(N^P))+j[13]+2850285829&4294967295,x=N+(M<<5&4294967295|M>>>27),M=q+(N^P&(x^N))+j[2]+4243563512&4294967295,q=x+(M<<9&4294967295|M>>>23),M=P+(x^N&(q^x))+j[7]+1735328473&4294967295,P=q+(M<<14&4294967295|M>>>18),M=N+(q^x&(P^q))+j[12]+2368359562&4294967295,N=P+(M<<20&4294967295|M>>>12),M=x+(N^P^q)+j[5]+4294588738&4294967295,x=N+(M<<4&4294967295|M>>>28),M=q+(x^N^P)+j[8]+2272392833&4294967295,q=x+(M<<11&4294967295|M>>>21),M=P+(q^x^N)+j[11]+1839030562&4294967295,P=q+(M<<16&4294967295|M>>>16),M=N+(P^q^x)+j[14]+4259657740&4294967295,N=P+(M<<23&4294967295|M>>>9),M=x+(N^P^q)+j[1]+2763975236&4294967295,x=N+(M<<4&4294967295|M>>>28),M=q+(x^N^P)+j[4]+1272893353&4294967295,q=x+(M<<11&4294967295|M>>>21),M=P+(q^x^N)+j[7]+4139469664&4294967295,P=q+(M<<16&4294967295|M>>>16),M=N+(P^q^x)+j[10]+3200236656&4294967295,N=P+(M<<23&4294967295|M>>>9),M=x+(N^P^q)+j[13]+681279174&4294967295,x=N+(M<<4&4294967295|M>>>28),M=q+(x^N^P)+j[0]+3936430074&4294967295,q=x+(M<<11&4294967295|M>>>21),M=P+(q^x^N)+j[3]+3572445317&4294967295,P=q+(M<<16&4294967295|M>>>16),M=N+(P^q^x)+j[6]+76029189&4294967295,N=P+(M<<23&4294967295|M>>>9),M=x+(N^P^q)+j[9]+3654602809&4294967295,x=N+(M<<4&4294967295|M>>>28),M=q+(x^N^P)+j[12]+3873151461&4294967295,q=x+(M<<11&4294967295|M>>>21),M=P+(q^x^N)+j[15]+530742520&4294967295,P=q+(M<<16&4294967295|M>>>16),M=N+(P^q^x)+j[2]+3299628645&4294967295,N=P+(M<<23&4294967295|M>>>9),M=x+(P^(N|~q))+j[0]+4096336452&4294967295,x=N+(M<<6&4294967295|M>>>26),M=q+(N^(x|~P))+j[7]+1126891415&4294967295,q=x+(M<<10&4294967295|M>>>22),M=P+(x^(q|~N))+j[14]+2878612391&4294967295,P=q+(M<<15&4294967295|M>>>17),M=N+(q^(P|~x))+j[5]+4237533241&4294967295,N=P+(M<<21&4294967295|M>>>11),M=x+(P^(N|~q))+j[12]+1700485571&4294967295,x=N+(M<<6&4294967295|M>>>26),M=q+(N^(x|~P))+j[3]+2399980690&4294967295,q=x+(M<<10&4294967295|M>>>22),M=P+(x^(q|~N))+j[10]+4293915773&4294967295,P=q+(M<<15&4294967295|M>>>17),M=N+(q^(P|~x))+j[1]+2240044497&4294967295,N=P+(M<<21&4294967295|M>>>11),M=x+(P^(N|~q))+j[8]+1873313359&4294967295,x=N+(M<<6&4294967295|M>>>26),M=q+(N^(x|~P))+j[15]+4264355552&4294967295,q=x+(M<<10&4294967295|M>>>22),M=P+(x^(q|~N))+j[6]+2734768916&4294967295,P=q+(M<<15&4294967295|M>>>17),M=N+(q^(P|~x))+j[13]+1309151649&4294967295,N=P+(M<<21&4294967295|M>>>11),M=x+(P^(N|~q))+j[4]+4149444226&4294967295,x=N+(M<<6&4294967295|M>>>26),M=q+(N^(x|~P))+j[11]+3174756917&4294967295,q=x+(M<<10&4294967295|M>>>22),M=P+(x^(q|~N))+j[2]+718787259&4294967295,P=q+(M<<15&4294967295|M>>>17),M=N+(q^(P|~x))+j[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+q&4294967295}r.prototype.u=function(V,x){x===void 0&&(x=V.length);for(var N=x-this.blockSize,j=this.B,P=this.h,q=0;q<x;){if(P==0)for(;q<=N;)l(this,V,q),q+=this.blockSize;if(typeof V=="string"){for(;q<x;)if(j[P++]=V.charCodeAt(q++),P==this.blockSize){l(this,j),P=0;break}}else for(;q<x;)if(j[P++]=V[q++],P==this.blockSize){l(this,j),P=0;break}}this.h=P,this.o+=x},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;var N=8*this.o;for(x=V.length-8;x<V.length;++x)V[x]=N&255,N/=256;for(this.u(V),V=Array(16),x=N=0;4>x;++x)for(var j=0;32>j;j+=8)V[N++]=this.g[x]>>>j&255;return V};function h(V,x){var N=_;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=x(V)}function m(V,x){this.h=x;for(var N=[],j=!0,P=V.length-1;0<=P;P--){var q=V[P]|0;j&&q==x||(N[P]=q,j=!1)}this.g=N}var _={};function v(V){return-128<=V&&128>V?h(V,function(x){return new m([x|0],0>x?-1:0)}):new m([V|0],0>V?-1:0)}function b(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return et(b(-V));for(var x=[],N=1,j=0;V>=N;j++)x[j]=V/N|0,N*=4294967296;return new m(x,0)}function S(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return et(S(V.substring(1),x));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=b(Math.pow(x,8)),j=I,P=0;P<V.length;P+=8){var q=Math.min(8,V.length-P),M=parseInt(V.substring(P,P+q),x);8>q?(q=b(Math.pow(x,q)),j=j.j(q).add(b(M))):(j=j.j(N),j=j.add(b(M)))}return j}var I=v(0),D=v(1),Q=v(16777216);a=m.prototype,a.m=function(){if(ot(this))return-et(this).m();for(var V=0,x=1,N=0;N<this.g.length;N++){var j=this.i(N);V+=(0<=j?j:4294967296+j)*x,x*=4294967296}return V},a.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(ot(this))return"-"+et(this).toString(V);for(var x=b(Math.pow(V,6)),N=this,j="";;){var P=vt(N,x).g;N=bt(N,P.j(x));var q=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=P,X(N))return q+j;for(;6>q.length;)q="0"+q;j=q+j}},a.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(var x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function ot(V){return V.h==-1}a.l=function(V){return V=bt(this,V),ot(V)?-1:X(V)?0:1};function et(V){for(var x=V.g.length,N=[],j=0;j<x;j++)N[j]=~V.g[j];return new m(N,~V.h).add(D)}a.abs=function(){return ot(this)?et(this):this},a.add=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],j=0,P=0;P<=x;P++){var q=j+(this.i(P)&65535)+(V.i(P)&65535),M=(q>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);j=M>>>16,q&=65535,M&=65535,N[P]=M<<16|q}return new m(N,N[N.length-1]&-2147483648?-1:0)};function bt(V,x){return V.add(et(x))}a.j=function(V){if(X(this)||X(V))return I;if(ot(this))return ot(V)?et(this).j(et(V)):et(et(this).j(V));if(ot(V))return et(this.j(et(V)));if(0>this.l(Q)&&0>V.l(Q))return b(this.m()*V.m());for(var x=this.g.length+V.g.length,N=[],j=0;j<2*x;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(var P=0;P<V.g.length;P++){var q=this.i(j)>>>16,M=this.i(j)&65535,Je=V.i(P)>>>16,Le=V.i(P)&65535;N[2*j+2*P]+=M*Le,lt(N,2*j+2*P),N[2*j+2*P+1]+=q*Le,lt(N,2*j+2*P+1),N[2*j+2*P+1]+=M*Je,lt(N,2*j+2*P+1),N[2*j+2*P+2]+=q*Je,lt(N,2*j+2*P+2)}for(j=0;j<x;j++)N[j]=N[2*j+1]<<16|N[2*j];for(j=x;j<2*x;j++)N[j]=0;return new m(N,0)};function lt(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function ut(V,x){this.g=V,this.h=x}function vt(V,x){if(X(x))throw Error("division by zero");if(X(V))return new ut(I,I);if(ot(V))return x=vt(et(V),x),new ut(et(x.g),et(x.h));if(ot(x))return x=vt(V,et(x)),new ut(et(x.g),x.h);if(30<V.g.length){if(ot(V)||ot(x))throw Error("slowDivide_ only works with positive integers.");for(var N=D,j=x;0>=j.l(V);)N=gt(N),j=gt(j);var P=xt(N,1),q=xt(j,1);for(j=xt(j,2),N=xt(N,2);!X(j);){var M=q.add(j);0>=M.l(V)&&(P=P.add(N),q=M),j=xt(j,1),N=xt(N,1)}return x=bt(V,P.j(x)),new ut(P,x)}for(P=I;0<=V.l(x);){for(N=Math.max(1,Math.floor(V.m()/x.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),q=b(N),M=q.j(x);ot(M)||0<M.l(V);)N-=j,q=b(N),M=q.j(x);X(q)&&(q=D),P=P.add(q),V=bt(V,M)}return new ut(P,V)}a.A=function(V){return vt(this,V).h},a.and=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],j=0;j<x;j++)N[j]=this.i(j)&V.i(j);return new m(N,this.h&V.h)},a.or=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],j=0;j<x;j++)N[j]=this.i(j)|V.i(j);return new m(N,this.h|V.h)},a.xor=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],j=0;j<x;j++)N[j]=this.i(j)^V.i(j);return new m(N,this.h^V.h)};function gt(V){for(var x=V.g.length+1,N=[],j=0;j<x;j++)N[j]=V.i(j)<<1|V.i(j-1)>>>31;return new m(N,V.h)}function xt(V,x){var N=x>>5;x%=32;for(var j=V.g.length-N,P=[],q=0;q<j;q++)P[q]=0<x?V.i(q+N)>>>x|V.i(q+N+1)<<32-x:V.i(q+N);return new m(P,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Vv=r,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=b,m.fromString=S,eo=m}).apply(typeof py<"u"?py:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mv,cc,jv,af,Cm,Lv,Pv,Uv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function l(u,p){if(p)t:{var y=r;u=u.split(".");for(var C=0;C<u.length-1;C++){var F=u[C];if(!(F in y))break t;y=y[F]}u=u[u.length-1],C=y[u],p=p(C),p!=C&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function h(u,p){u instanceof String&&(u+="");var y=0,C=!1,F={next:function(){if(!C&&y<u.length){var J=y++;return{value:p(J,u[J]),done:!1}}return C=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}l("Array.prototype.values",function(u){return u||function(){return h(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},_=this||self;function v(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function b(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function S(u,p,y){return u.call.apply(u.bind,arguments)}function I(u,p,y){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,C),u.apply(p,F)}}return function(){return u.apply(p,arguments)}}function D(u,p,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:I,D.apply(null,arguments)}function Q(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function X(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(C,F,J){for(var ft=Array(arguments.length-2),te=2;te<arguments.length;te++)ft[te-2]=arguments[te];return p.prototype[F].apply(C,ft)}}function ot(u){const p=u.length;if(0<p){const y=Array(p);for(let C=0;C<p;C++)y[C]=u[C];return y}return[]}function et(u,p){for(let y=1;y<arguments.length;y++){const C=arguments[y];if(v(C)){const F=u.length||0,J=C.length||0;u.length=F+J;for(let ft=0;ft<J;ft++)u[F+ft]=C[ft]}else u.push(C)}}class bt{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=_.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var gt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function xt(u,p,y){for(const C in u)p.call(y,u[C],C,u)}function V(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function x(u){const p={};for(const y in u)p[y]=u[y];return p}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(u,p){let y,C;for(let F=1;F<arguments.length;F++){C=arguments[F];for(y in C)u[y]=C[y];for(let J=0;J<N.length;J++)y=N[J],Object.prototype.hasOwnProperty.call(C,y)&&(u[y]=C[y])}}function P(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function q(u){_.setTimeout(()=>{throw u},0)}function M(){var u=fe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Je{constructor(){this.h=this.g=null}add(p,y){const C=Le.get();C.set(p,y),this.h?this.h.next=C:this.g=C,this.h=C}}var Le=new bt(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,Ct=!1,fe=new Je,L=()=>{const u=_.Promise.resolve(void 0);dt=()=>{u.then(U)}};var U=()=>{for(var u;u=M();){try{u.h.call(u.g)}catch(y){q(y)}var p=Le;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}Ct=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var Dt=(function(){if(!_.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};_.addEventListener("test",y,p),_.removeEventListener("test",y,p)}catch{}return u})();function qt(u,p){if(ct.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(gt){t:{try{vt(p.nodeName);var F=!0;break t}catch{}F=!1}F||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:jt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&qt.aa.h.call(this)}}X(qt,ct);var jt={2:"touch",3:"pen",4:"mouse"};qt.prototype.h=function(){qt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Te=0;function St(u,p,y,C,F){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!C,this.ha=F,this.key=++Te,this.da=this.fa=!1}function xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ki(u){this.src=u,this.g={},this.h=0}Ki.prototype.add=function(u,p,y,C,F){var J=u.toString();u=this.g[J],u||(u=this.g[J]=[],this.h++);var ft=gr(u,p,C,F);return-1<ft?(p=u[ft],y||(p.fa=!1)):(p=new St(p,this.src,J,!!C,F),p.fa=y,u.push(p)),p};function pr(u,p){var y=p.type;if(y in u.g){var C=u.g[y],F=Array.prototype.indexOf.call(C,p,void 0),J;(J=0<=F)&&Array.prototype.splice.call(C,F,1),J&&(xi(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function gr(u,p,y,C){for(var F=0;F<u.length;++F){var J=u[F];if(!J.da&&J.listener==p&&J.capture==!!y&&J.ha==C)return F}return-1}var Di="closure_lm_"+(1e6*Math.random()|0),na={};function Vs(u,p,y,C,F){if(Array.isArray(p)){for(var J=0;J<p.length;J++)Vs(u,p[J],y,C,F);return null}return y=yr(y),u&&u[Ee]?u.K(p,y,b(C)?!!C.capture:!1,F):pn(u,p,y,!1,C,F)}function pn(u,p,y,C,F,J){if(!p)throw Error("Invalid event type");var ft=b(F)?!!F.capture:!!F,te=sa(u);if(te||(u[Di]=te=new Ki(u)),y=te.add(p,y,C,ft,J),y.proxy)return y;if(C=uu(),y.proxy=C,C.src=u,C.listener=y,u.addEventListener)Dt||(F=ft),F===void 0&&(F=!1),u.addEventListener(p.toString(),C,F);else if(u.attachEvent)u.attachEvent(_r(p.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function uu(){function u(y){return p.call(u.src,u.listener,y)}const p=cu;return u}function go(u,p,y,C,F){if(Array.isArray(p))for(var J=0;J<p.length;J++)go(u,p[J],y,C,F);else C=b(C)?!!C.capture:!!C,y=yr(y),u&&u[Ee]?(u=u.i,p=String(p).toString(),p in u.g&&(J=u.g[p],y=gr(J,y,C,F),-1<y&&(xi(J[y]),Array.prototype.splice.call(J,y,1),J.length==0&&(delete u.g[p],u.h--)))):u&&(u=sa(u))&&(p=u.g[p.toString()],u=-1,p&&(u=gr(p,y,C,F)),(y=-1<u?p[u]:null)&&ia(y))}function ia(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ee])pr(p.i,u);else{var y=u.type,C=u.proxy;p.removeEventListener?p.removeEventListener(y,C,u.capture):p.detachEvent?p.detachEvent(_r(y),C):p.addListener&&p.removeListener&&p.removeListener(C),(y=sa(p))?(pr(y,u),y.h==0&&(y.src=null,p[Di]=null)):xi(u)}}}function _r(u){return u in na?na[u]:na[u]="on"+u}function cu(u,p){if(u.da)u=!0;else{p=new qt(p,this);var y=u.listener,C=u.ha||u.src;u.fa&&ia(u),u=y.call(C,p)}return u}function sa(u){return u=u[Di],u instanceof Ki?u:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(p){return u.handleEvent(p)}),u[_o])}function _e(){mt.call(this),this.i=new Ki(this),this.M=this,this.F=null}X(_e,mt),_e.prototype[Ee]=!0,_e.prototype.removeEventListener=function(u,p,y,C){go(this,u,p,y,C)};function pe(u,p){var y,C=u.F;if(C)for(y=[];C;C=C.F)y.push(C);if(u=u.M,C=p.type||p,typeof p=="string")p=new ct(p,u);else if(p instanceof ct)p.target=p.target||u;else{var F=p;p=new ct(C,u),j(p,F)}if(F=!0,y)for(var J=y.length-1;0<=J;J--){var ft=p.g=y[J];F=Kn(ft,C,!0,p)&&F}if(ft=p.g=u,F=Kn(ft,C,!0,p)&&F,F=Kn(ft,C,!1,p)&&F,y)for(J=0;J<y.length;J++)ft=p.g=y[J],F=Kn(ft,C,!1,p)&&F}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],C=0;C<y.length;C++)xi(y[C]);delete u.g[p],u.h--}}this.F=null},_e.prototype.K=function(u,p,y,C){return this.i.add(String(u),p,!1,y,C)},_e.prototype.L=function(u,p,y,C){return this.i.add(String(u),p,!0,y,C)};function Kn(u,p,y,C){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var F=!0,J=0;J<p.length;++J){var ft=p[J];if(ft&&!ft.da&&ft.capture==y){var te=ft.listener,nn=ft.ha||ft.src;ft.fa&&pr(u.i,ft),F=te.call(nn,C)!==!1&&F}}return F&&!C.defaultPrevented}function vn(u,p,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:_.setTimeout(u,p||0)}function Ms(u){u.g=vn(()=>{u.g=null,u.i&&(u.i=!1,Ms(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class js extends mt{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ms(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(u){mt.call(this),this.h=u,this.g={}}X(oi,mt);var Xi=[];function vr(u){xt(u.g,function(p,y){this.g.hasOwnProperty(y)&&ia(p)},u),u.g={}}oi.prototype.N=function(){oi.aa.N.call(this),vr(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=_.JSON.stringify,ra=_.JSON.parse,br=class{stringify(u){return _.JSON.stringify(u,void 0)}parse(u){return _.JSON.parse(u,void 0)}};function yo(){}yo.prototype.h=null;function vo(u){return u.h||(u.h=u.i())}function bo(){}var hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){ct.call(this,"d")}X(Zi,ct);function Ls(){ct.call(this,"c")}X(Ls,ct);var Ni={},aa=null;function Ps(){return aa=aa||new _e}Ni.La="serverreachability";function oa(u){ct.call(this,Ni.La,u)}X(oa,ct);function Us(u){const p=Ps();pe(p,new oa(p))}Ni.STAT_EVENT="statevent";function Wo(u,p){ct.call(this,Ni.STAT_EVENT,u),this.stat=p}X(Wo,ct);function ye(u){const p=Ps();pe(p,new Wo(p,u))}Ni.Ma="timingevent";function Pe(u,p){ct.call(this,Ni.Ma,u),this.size=p}X(Pe,ct);function Ke(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){u()},p)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function Eo(u,p,y,C,F,J){u.info(function(){if(u.g)if(J)for(var ft="",te=J.split("&"),nn=0;nn<te.length;nn++){var ee=te[nn].split("=");if(1<ee.length){var cn=ee[0];ee=ee[1];var sn=cn.split("_");ft=2<=sn.length&&sn[1]=="type"?ft+(cn+"="+ee+"&"):ft+(cn+"=redacted&")}}else ft=null;else ft=J;return"XMLHTTP REQ ("+C+") [attempt "+F+"]: "+p+`
`+y+`
`+ft})}function hu(u,p,y,C,F,J,ft){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+F+"]: "+p+`
`+y+`
`+J+" "+ft})}function zs(u,p,y,C){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ui(u,y)+(C?" "+C:"")})}function la(u,p){u.info(function(){return"TIMEOUT: "+p})}li.prototype.info=function(){};function ui(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var C=y[u];if(!(2>C.length)){var F=C[1];if(Array.isArray(F)&&!(1>F.length)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ft=1;ft<F.length;ft++)F[ft]=""}}}}return Xn(y)}catch{return p}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ci;function Ji(){}X(Ji,yo),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},ci=new Ji;function Nn(u,p,y,C){this.j=u,this.i=p,this.l=y,this.R=C||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var We={},on={};function Ue(u,p,y){u.L=1,u.v=Jn(tn(p)),u.m=y,u.P=!0,ze(u,null)}function ze(u,p){u.F=Date.now(),Zn(u),u.A=tn(u.v);var y=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),_s(y.i,"t",C),u.C=0,y=u.j.J,u.h=new xe,u.g=xo(u.j,y?p:null,!u.m),0<u.O&&(u.M=new js(D(u.Y,u,u.g),u.O)),p=u.U,y=u.g,C=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Xi[0]=F.toString()),F=Xi);for(var J=0;J<F.length;J++){var ft=Vs(y,F[J],C||p.handleEvent,!1,p.h||p);if(!ft)break;p.g[ft.key]=ft}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Us(),Eo(u.i,u.u,u.A,u.l,u.R,u.m)}Nn.prototype.ca=function(u){u=u.target;const p=this.M;p&&ti(u)==3?p.j():this.Y(u)},Nn.prototype.Y=function(u){try{if(u==this.g)t:{const sn=ti(this.g);var p=this.g.Ba();const Es=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||bs(this.g)))){this.J||sn!=4||p==7||(p==8||0>=Es?Us(3):Us(2)),ps(this);var y=this.g.Z();this.X=y;e:if(Er(this)){var C=bs(this.g);u="";var F=C.length,J=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),hi(this);var ft="";break e}this.h.i=new _.TextDecoder}for(p=0;p<F;p++)this.h.h=!0,u+=this.h.i.decode(C[p],{stream:!(J&&p==F-1)});C.length=0,this.h.g+=u,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=y==200,hu(this.i,this.u,this.A,this.l,this.R,sn,y),this.o){if(this.T&&!this.K){e:{if(this.g){var te,nn=this.g;if((te=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(te)){var ee=te;break e}}ee=null}if(y=ee)zs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,y);else{this.o=!1,this.s=3,ye(12),qe(this),hi(this);break t}}if(this.P){y=!0;let Se;for(;!this.J&&this.C<ft.length;)if(Se=ds(this,ft),Se==on){sn==4&&(this.s=4,ye(14),y=!1),zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==We){this.s=4,ye(15),zs(this.i,this.l,ft,"[Invalid Chunk]"),y=!1;break}else zs(this.i,this.l,Se,null),ks(this,Se);if(Er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ft.length!=0||this.h.h||(this.s=1,ye(16),y=!1),this.o=this.o&&y,!y)zs(this.i,this.l,ft,"[Invalid Chunked Response]"),qe(this),hi(this);else if(0<ft.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Nr(cn),cn.M=!0,ye(11))}}else zs(this.i,this.l,ft,null),ks(this,ft);sn==4&&qe(this),this.o&&!this.J&&(sn==4?Co(this.j,this):(this.o=!1,Zn(this)))}else fu(this.g),y==400&&0<ft.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),qe(this),hi(this)}}}catch{}finally{}};function Er(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ds(u,p){var y=u.C,C=p.indexOf(`
`,y);return C==-1?on:(y=Number(p.substring(y,C)),isNaN(y)?We:(C+=1,C+y>p.length?on:(p=p.slice(C,C+y),u.C=C+y,p)))}Nn.prototype.cancel=function(){this.J=!0,qe(this)};function Zn(u){u.S=Date.now()+u.I,ms(u,u.I)}function ms(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ke(D(u.ba,u),p)}function ps(u){u.B&&(_.clearTimeout(u.B),u.B=null)}Nn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(la(this.i,this.A),this.L!=2&&(Us(),ye(17)),qe(this),this.s=2,hi(this)):ms(this,this.S-u)};function hi(u){u.j.G==0||u.J||Co(u.j,u)}function qe(u){ps(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,vr(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ks(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||ca(y.h,u))){if(!u.K&&ca(y.h,u)&&y.G==3){try{var C=y.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var F=C;if(F[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Zs(y),xr(y);else break t;Xs(y),ye(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ke(D(y.Za,y),6e3));if(1>=Ar(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else On(y,11)}else if((u.K||y.g==u)&&Zs(y),!lt(p))for(F=y.Da.g.parse(p),p=0;p<F.length;p++){let ee=F[p];if(y.T=ee[0],ee=ee[1],y.G==2)if(ee[0]=="c"){y.K=ee[1],y.ia=ee[2];const cn=ee[3];cn!=null&&(y.la=cn,y.j.info("VER="+y.la));const sn=ee[4];sn!=null&&(y.Aa=sn,y.j.info("SVER="+y.Aa));const Es=ee[5];Es!=null&&typeof Es=="number"&&0<Es&&(C=1.5*Es,y.L=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const Se=u.g;if(Se){const Li=Se.g?Se.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var J=C.h;J.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Sr(J,J.h),J.h=null))}if(C.D){const ba=Se.g?Se.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(C.ya=ba,Xt(C.I,C.D,ba))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),C=y;var ft=u;if(C.qa=sl(C,C.J?C.ia:null,C.W),ft.K){bn(C.h,ft);var te=ft,nn=C.L;nn&&(te.I=nn),te.B&&(ps(te),Zn(te)),C.g=ft}else Ro(C);0<y.i.length&&Ks(y)}else ee[0]!="stop"&&ee[0]!="close"||On(y,7);else y.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?On(y,7):ga(y):ee[0]!="noop"&&y.l&&y.l.ta(ee),y.v=0)}}Us(4)}catch{}}var ua=class{constructor(u,p){this.g=u,this.map=p}};function Oi(u){this.l=u||10,_.PerformanceNavigationTiming?(u=_.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ar(u){return u.h?1:u.g?u.g.size:0}function ca(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Sr(u,p){u.g?u.g.add(p):u.h=p}function bn(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Oi.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ha(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return ot(u.i)}function tl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var p=[],y=u.length,C=0;C<y;C++)p.push(u[C]);return p}p=[],y=0;for(C in u)p[y++]=u[C];return p}function wr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const C in u)p[y++]=C;return p}}}function fa(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=wr(u),C=tl(u),F=C.length,J=0;J<F;J++)p.call(void 0,C[J],y&&y[J],u)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fi(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var C=u[y].indexOf("="),F=null;if(0<=C){var J=u[y].substring(0,C);F=u[y].substring(C+1)}else J=u[y];p(J,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ae(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ae){this.h=u.h,ln(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var p=u.i,y=new gs;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Vi(this,y),this.m=u.m}else u&&(p=String(u).match(Bs))?(this.h=!1,ln(this,p[1]||"",!0),this.o=In(p[2]||""),this.g=In(p[3]||"",!0),Wi(this,p[4]),this.l=In(p[5]||"",!0),Vi(this,p[6]||"",!0),this.m=In(p[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}ae.prototype.toString=function(){var u=[],p=this.j;p&&u.push(di(p,ma,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(di(p,ma,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(di(y,y.charAt(0)=="/"?To:ts,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",di(y,qn)),u.join("")};function tn(u){return new ae(u)}function ln(u,p,y){u.j=y?In(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Vi(u,p,y){p instanceof gs?(u.i=p,qs(u.i,u.h)):(y||(p=di(p,el)),u.i=new gs(p,u.h))}function Xt(u,p,y){u.i.set(p,y)}function Jn(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function In(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function di(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,da),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function da(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,ts=/[#\?:]/g,To=/[#\?]/g,el=/[#\?@]/g,qn=/#/g;function gs(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&fi(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}a=gs.prototype,a.add=function(u,p){en(this),this.i=null,u=pi(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function mi(u,p){en(u),p=pi(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function es(u,p){return en(u),p=pi(u,p),u.g.has(p)}a.forEach=function(u,p){en(this),this.g.forEach(function(y,C){y.forEach(function(F){u.call(p,F,C,this)},this)},this)},a.na=function(){en(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let C=0;C<p.length;C++){const F=u[C];for(let J=0;J<F.length;J++)y.push(p[C])}return y},a.V=function(u){en(this);let p=[];if(typeof u=="string")es(this,u)&&(p=p.concat(this.g.get(pi(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},a.set=function(u,p){return en(this),this.i=null,u=pi(this,u),es(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},a.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function _s(u,p,y){mi(u,p),0<y.length&&(u.i=null,u.g.set(pi(u,p),ot(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var C=p[y];const J=encodeURIComponent(String(C)),ft=this.V(C);for(C=0;C<ft.length;C++){var F=J;ft[C]!==""&&(F+="="+encodeURIComponent(String(ft[C]))),u.push(F)}}return this.i=u.join("&")};function pi(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function qs(u,p){p&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,C){var F=C.toLowerCase();C!=F&&(mi(this,C),_s(this,F,y))},u)),u.j=p}function Hs(u,p){const y=new li;if(_.Image){const C=new Image;C.onload=Q(Wn,y,"TestLoadImage: loaded",!0,p,C),C.onerror=Q(Wn,y,"TestLoadImage: error",!1,p,C),C.onabort=Q(Wn,y,"TestLoadImage: abort",!1,p,C),C.ontimeout=Q(Wn,y,"TestLoadImage: timeout",!1,p,C),_.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else p(!1)}function gi(u,p){const y=new li,C=new AbortController,F=setTimeout(()=>{C.abort(),Wn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:C.signal}).then(J=>{clearTimeout(F),J.ok?Wn(y,"TestPingServer: ok",!0,p):Wn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(F),Wn(y,"TestPingServer: error",!1,p)})}function Wn(u,p,y,C,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),C(y)}catch{}}function _i(){this.g=new br}function ns(u,p,y){const C=y||"";try{fa(u,function(F,J){let ft=F;b(F)&&(ft=Xn(F)),p.push(C+J+"="+encodeURIComponent(ft))})}catch(F){throw p.push(C+"type="+encodeURIComponent("_badmap")),F}}function ys(u){this.l=u.Ub||null,this.j=u.eb||!1}X(ys,yo),ys.prototype.g=function(){return new Mi(this.l,this.j)},ys.prototype.i=(function(u){return function(){return u}})({});function Mi(u,p){_e.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Mi,_e),a=Mi.prototype,a.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,is(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||_).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?yi(this):is(this),this.readyState==3&&Fs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,yi(this))},a.Qa=function(u){this.g&&(this.response=u,yi(this))},a.ga=function(){this.g&&yi(this)};function yi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,is(u)}a.setRequestHeader=function(u,p){this.u.append(u,p)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function is(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Gs(u){let p="";return xt(u,function(y,C){p+=C,p+=":",p+=y,p+=`\r
`}),p}function un(u,p,y){t:{for(C in y){var C=!1;break t}C=!0}C||(y=Gs(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Xt(u,p,y))}function de(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(de,_e);var Qs=/^https?$/i,vs=["POST","PUT"];a=de.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,p,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ci.g(),this.v=this.o?vo(this.o):vo(ci),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(J){pa(this,J);return}if(u=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var F in C)y.set(F,C[F]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const J of C.keys())y.set(J,C.get(J));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(J=>J.toLowerCase()=="content-type"),F=_.FormData&&u instanceof _.FormData,!(0<=Array.prototype.indexOf.call(vs,p,void 0))||C||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ft]of y)this.g.setRequestHeader(J,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(J){pa(this,J)}};function pa(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Rr(u),vi(u)}function Rr(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pe(this,"complete"),pe(this,"abort"),vi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),de.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ss(this):this.bb())},a.bb=function(){ss(this)};function ss(u){if(u.h&&typeof m<"u"&&(!u.v[1]||ti(u)!=4||u.Z()!=2)){if(u.u&&ti(u)==4)vn(u.Ea,0,u);else if(pe(u,"readystatechange"),ti(u)==4){u.h=!1;try{const ft=u.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var y;if(!(y=p)){var C;if(C=ft===0){var F=String(u.D).match(Bs)[1]||null;!F&&_.self&&_.self.location&&(F=_.self.location.protocol.slice(0,-1)),C=!Qs.test(F?F.toLowerCase():"")}y=C}if(y)pe(u,"complete"),pe(u,"success");else{u.m=6;try{var J=2<ti(u)?u.g.statusText:""}catch{J=""}u.l=J+" ["+u.Z()+"]",Rr(u)}}finally{vi(u)}}}}function vi(u,p){if(u.g){Ys(u);const y=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pe(u,"ready");try{y.onreadystatechange=C}catch{}}}function Ys(u){u.I&&(_.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),ra(p)}};function bs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function fu(u){const p={};u=(u.g&&2<=ti(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(lt(u[C]))continue;var y=P(u[C]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const J=p[F]||[];p[F]=J,J.push(y)}V(p,function(C){return C.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function Cr(u){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$s("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$s("baseRetryDelayMs",5e3,u),this.cb=$s("retryDelaySeedMs",1e4,u),this.Wa=$s("forwardChannelMaxRetries",2,u),this.wa=$s("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(u&&u.concurrentRequestLimit),this.Da=new _i,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Cr.prototype,a.la=8,a.G=1,a.connect=function(u,p,y,C){ye(0),this.W=u,this.H=p||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.I=sl(this,null,this.W),Ks(this)};function ga(u){if(Ao(u),u.G==3){var p=u.U++,y=tn(u.I);if(Xt(y,"SID",u.K),Xt(y,"RID",p),Xt(y,"TYPE","terminate"),Dr(u,y),p=new Nn(u,u.j,p),p.L=2,p.v=Jn(tn(y)),y=!1,_.navigator&&_.navigator.sendBeacon)try{y=_.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&_.Image&&(new Image().src=p.v,y=!0),y||(p.g=xo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Zn(p)}ya(u)}function xr(u){u.g&&(Nr(u),u.g.cancel(),u.g=null)}function Ao(u){xr(u),u.u&&(_.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&_.clearTimeout(u.s),u.s=null)}function Ks(u){if(!Tr(u.h)&&!u.s){u.s=!0;var p=u.Ga;dt||L(),Ct||(dt(),Ct=!0),fe.add(p,u),u.B=0}}function nl(u,p){return Ar(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ke(D(u.Ga,u,p),_a(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Nn(this,this.j,u);let J=this.o;if(this.S&&(J?(J=x(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(F.H=J,J=null),this.P)t:{for(var p=0,y=0;y<this.i.length;y++){e:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=y;break t}if(p===4096||y===this.i.length-1){p=y+1;break t}}p=1e3}else p=1e3;p=wo(this,F,p),y=tn(this.I),Xt(y,"RID",u),Xt(y,"CVER",22),this.D&&Xt(y,"X-HTTP-Session-Id",this.D),Dr(this,y),J&&(this.O?p="headers="+encodeURIComponent(String(Gs(J)))+"&"+p:this.m&&un(y,this.m,J)),Sr(this.h,F),this.Ua&&Xt(y,"TYPE","init"),this.P?(Xt(y,"$req",p),Xt(y,"SID","null"),F.T=!0,Ue(F,y,null)):Ue(F,y,p),this.G=2}}else this.G==3&&(u?So(this,u):this.i.length==0||Tr(this.h)||So(this))};function So(u,p){var y;p?y=p.l:y=u.U++;const C=tn(u.I);Xt(C,"SID",u.K),Xt(C,"RID",y),Xt(C,"AID",u.T),Dr(u,C),u.m&&u.o&&un(C,u.m,u.o),y=new Nn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=wo(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Sr(u.h,y),Ue(y,C,p)}function Dr(u,p){u.H&&xt(u.H,function(y,C){Xt(p,C,y)}),u.l&&fa({},function(y,C){Xt(p,C,y)})}function wo(u,p,y){y=Math.min(u.i.length,y);var C=u.l?D(u.l.Na,u.l,u):null;t:{var F=u.i;let J=-1;for(;;){const ft=["count="+y];J==-1?0<y?(J=F[0].g,ft.push("ofs="+J)):J=0:ft.push("ofs="+J);let te=!0;for(let nn=0;nn<y;nn++){let ee=F[nn].g;const cn=F[nn].map;if(ee-=J,0>ee)J=Math.max(0,F[nn].g-100),te=!1;else try{ns(cn,ft,"req"+ee+"_")}catch{C&&C(cn)}}if(te){C=ft.join("&");break t}}}return u=u.i.splice(0,y),p.D=u,C}function Ro(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;dt||L(),Ct||(dt(),Ct=!0),fe.add(p,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ke(D(u.Fa,u),_a(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,il(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ke(D(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),xr(this),il(this))};function Nr(u){u.A!=null&&(_.clearTimeout(u.A),u.A=null)}function il(u){u.g=new Nn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=tn(u.qa);Xt(p,"RID","rpc"),Xt(p,"SID",u.K),Xt(p,"AID",u.T),Xt(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(p,"TO",u.ja),Xt(p,"TYPE","xmlhttp"),Dr(u,p),u.m&&u.o&&un(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Jn(tn(p)),y.m=null,y.P=!0,ze(y,u)}a.Za=function(){this.C!=null&&(this.C=null,xr(this),Xs(this),ye(19))};function Zs(u){u.C!=null&&(_.clearTimeout(u.C),u.C=null)}function Co(u,p){var y=null;if(u.g==p){Zs(u),Nr(u),u.g=null;var C=2}else if(ca(u.h,p))y=p.D,bn(u.h,p),C=1;else return;if(u.G!=0){if(p.o)if(C==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var F=u.B;C=Ps(),pe(C,new Pe(C,y)),Ks(u)}else Ro(u);else if(F=p.s,F==3||F==0&&0<p.X||!(C==1&&nl(u,p)||C==2&&Xs(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),F){case 1:On(u,5);break;case 4:On(u,10);break;case 3:On(u,6);break;default:On(u,2)}}}function _a(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function On(u,p){if(u.j.info("Error code "+p),p==2){var y=D(u.fb,u),C=u.Xa;const F=!C;C=new ae(C||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||ln(C,"https"),Jn(C),F?Hs(C.toString(),y):gi(C.toString(),y)}else ye(2);u.G=0,u.l&&u.l.sa(p),ya(u),Ao(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function ya(u){if(u.G=0,u.ka=[],u.l){const p=ha(u.h);(p.length!=0||u.i.length!=0)&&(et(u.ka,p),et(u.ka,u.i),u.h.i.length=0,ot(u.i),u.i.length=0),u.l.ra()}}function sl(u,p,y){var C=y instanceof ae?tn(y):new ae(y);if(C.g!="")p&&(C.g=p+"."+C.g),Wi(C,C.s);else{var F=_.location;C=F.protocol,p=p?p+"."+F.hostname:F.hostname,F=+F.port;var J=new ae(null);C&&ln(J,C),p&&(J.g=p),F&&Wi(J,F),y&&(J.l=y),C=J}return y=u.D,p=u.ya,y&&p&&Xt(C,y,p),Xt(C,"VER",u.la),Dr(u,C),C}function xo(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new de(new ys({eb:y})):new de(u.pa),p.Ha(u.J),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}a=rl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function va(){}va.prototype.g=function(u,p){return new Vn(u,p)};function Vn(u,p){_e.call(this),this.g=new Cr(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!lt(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!lt(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ji(this)}X(Vn,_e),Vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ga(this.g)},Vn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Xn(u),u=y);p.i.push(new ua(p.Ya++,u)),p.G==3&&Ks(p)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ga(this.g),delete this.g,Vn.aa.N.call(this)};function al(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){t:{for(const y in p){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}X(al,Zi);function Do(){Ls.call(this),this.status=1}X(Do,Ls);function ji(u){this.g=u}X(ji,rl),ji.prototype.ua=function(){pe(this.g,"a")},ji.prototype.ta=function(u){pe(this.g,new al(u))},ji.prototype.sa=function(u){pe(this.g,new Do)},ji.prototype.ra=function(){pe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Uv=function(){return new va},Pv=function(){return Ps()},Lv=Ni,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,af=Ii,fs.COMPLETE="complete",jv=fs,bo.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",_e.prototype.listen=_e.prototype.K,cc=bo,de.prototype.listenOnce=de.prototype.L,de.prototype.getLastError=de.prototype.Ka,de.prototype.getLastErrorCode=de.prototype.Ba,de.prototype.getStatus=de.prototype.Z,de.prototype.getResponseJson=de.prototype.Oa,de.prototype.getResponseText=de.prototype.oa,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Ha,Mv=de}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const gy="@firebase/firestore",_y="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Cv("@firebase/firestore");function Hl(){return $o.logLevel}function At(a,...e){if($o.logLevel<=ce.DEBUG){const i=e.map(Km);$o.debug(`Firestore (${ru}): ${a}`,...i)}}function ta(a,...e){if($o.logLevel<=ce.ERROR){const i=e.map(Km);$o.error(`Firestore (${ru}): ${a}`,...i)}}function Xl(a,...e){if($o.logLevel<=ce.WARN){const i=e.map(Km);$o.warn(`Firestore (${ru}): ${a}`,...i)}}function Km(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,zv(a,r,i)}function zv(a,e,i){let r=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ta(r),new Error(r)}function he(a,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||zv(e,l,r)}function Qt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends su{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($n.UNAUTHENTICATED)))}shutdown(){}}class IT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class OT{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){he(this.o===void 0,42304);let r=this.i;const l=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new cr,e.enqueueRetryable((()=>l(this.currentUser)))};const m=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},_=v=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>_(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new cr)}}),0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new kv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new $n(e)}}class VT{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MT{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new VT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){he(this.o===void 0,3512);const r=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(he(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=LT(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=e.charAt(l[h]%62))}return r}}function ie(a,e){return a<e?-1:a>e?1:0}function xm(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const l=a.charAt(r),h=e.charAt(r);if(l!==h)return ym(l)===ym(h)?ie(l,h):ym(l)?1:-1}return ie(a.length,e.length)}const PT=55296,UT=57343;function ym(a){const e=a.charCodeAt(0);return e>=PT&&e<=UT}function Zl(a,e,i){return a.length===e.length&&a.every(((r,l)=>i(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="__name__";class lr{constructor(e,i,r){i===void 0?i=0:i>e.length&&Mt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Mt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return lr.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof lr?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const h=lr.compareSegments(e.get(l),i.get(l));if(h!==0)return h}return ie(e.length,i.length)}static compareSegments(e,i){const r=lr.isNumericId(e),l=lr.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?lr.extractNumericId(e).compare(lr.extractNumericId(i)):xm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return eo.fromString(e.substring(4,e.length-2))}}class Ie extends lr{construct(e,i,r){return new Ie(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new Ie(i)}static emptyPath(){return new Ie([])}}const zT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends lr{construct(e,i,r){return new kn(e,i,r)}static isValidIdentifier(e){return zT.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vy}static keyField(){return new kn([vy])}static fromServerFormat(e){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new yt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let m=!1;for(;l<e.length;){const _=e[l];if(_==="\\"){if(l+1===e.length)throw new yt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new yt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,l+=2}else _==="`"?(m=!m,l++):_!=="."||m?(r+=_,l++):(h(),l++)}if(h(),m)throw new yt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(i)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.path=e}static fromPath(e){return new It(Ie.fromString(e))}static fromName(e){return new It(Ie.fromString(e).popFirst(5))}static empty(){return new It(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(a,e,i){if(!i)throw new yt(nt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function kT(a,e,i,r){if(e===!0&&r===!0)throw new yt(nt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function by(a){if(!It.isDocumentKey(a))throw new yt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Ey(a){if(It.isDocumentKey(a))throw new yt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function qv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Vf(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Mt(12329,{type:typeof a})}function Yi(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new yt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vf(a);throw new yt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(a,e){const i={typeString:a};return e&&(i.value=e),i}function Ic(a,e){if(!qv(a))throw new yt(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const m=a[r];if(l&&typeof m!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&m!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new yt(nt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,Ay=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Ay);return new Be(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new yt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ty)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ay}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ic(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:mn("string",Be._jsonSchemaVersion),seconds:mn("number"),nanoseconds:mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Be(0,0))}static max(){return new Bt(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=-1;function BT(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=Bt.fromTimestamp(r===1e9?new Be(i+1,0):new Be(i,r));return new ro(l,It.empty(),e)}function qT(a){return new ro(a.readTime,a.key,Tc)}class ro{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ro(Bt.min(),It.empty(),Tc)}static max(){return new ro(Bt.max(),It.empty(),Tc)}}function HT(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=It.comparator(a.documentKey,e.documentKey),i!==0?i:ie(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(a){if(a.code!==nt.FAILED_PRECONDITION||a.message!==FT)throw a;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):at.reject(i)}static resolve(e){return new at(((i,r)=>{i(e)}))}static reject(e){return new at(((i,r)=>{r(e)}))}static waitFor(e){return new at(((i,r)=>{let l=0,h=0,m=!1;e.forEach((_=>{++l,_.next((()=>{++h,m&&h===l&&i()}),(v=>r(v)))})),m=!0,h===l&&i()}))}static or(e){let i=at.resolve(!1);for(const r of e)i=i.next((l=>l?at.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(e,i){return new at(((r,l)=>{const h=e.length,m=new Array(h);let _=0;for(let v=0;v<h;v++){const b=v;i(e[b]).next((S=>{m[b]=S,++_,_===h&&r(m)}),(S=>l(S)))}}))}static doWhile(e,i){return new at(((r,l)=>{const h=()=>{e()===!0?i().next((()=>{h()}),l):r()};h()}))}}function QT(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ou(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=-1;function Oc(a){return a==null}function vf(a){return a===0&&1/a==-1/0}function YT(a){return typeof a=="number"&&Number.isInteger(a)&&!vf(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="";function $T(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Sy(e)),e=KT(a.get(i),e);return Sy(e)}function KT(a,e){let i=e;const r=a.length;for(let l=0;l<r;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case Hv:i+="";break;default:i+=h}}return i}function Sy(a){return a+Hv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function mo(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Fv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i){this.comparator=e,this.root=i||zn.EMPTY}insert(e,i){return new $e(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ef(this.root,e,this.comparator,!0)}}class ef{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,i,r,l,h){this.key=e,this.value=i,this.color=r??zn.RED,this.left=l??zn.EMPTY,this.right=h??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,h){return new zn(e??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const h=r(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return zn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mt(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(e,i,r,l,h){return this}insert(e,i,r){return new zn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(e){return new Ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new yn(this.comparator);return i.data=e,i}}class Ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Qi([])}unionWith(e){let i=new yn(kn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Qi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Gv("Invalid base64 string: "+h):h}})(e);return new Bn(i)}static fromUint8Array(e){const i=(function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h})(e);return new Bn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const XT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(a){if(he(!!a,39018),typeof a=="string"){let e=0;const i=XT.exec(a);if(he(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(a.seconds),nanos:an(a.nanos)}}function an(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function oo(a){return typeof a=="string"?Bn.fromBase64String(a):Bn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="server_timestamp",Yv="__type__",$v="__previous_value__",Kv="__local_write_time__";function Jm(a){return(a?.mapValue?.fields||{})[Yv]?.stringValue===Qv}function jf(a){const e=a.mapValue.fields[$v];return Jm(e)?jf(e):e}function Ac(a){const e=ao(a.mapValue.fields[Kv].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,i,r,l,h,m,_,v,b,S){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=b,this.isUsingEmulator=S}}const bf="(default)";class Sc{constructor(e,i){this.projectId=e,this.database=i||bf}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===bf}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__type__",JT="__max__",nf={mapValue:{}},Zv="__vector__",Ef="value";function lo(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Jm(a)?4:tA(a)?9007199254740991:WT(a)?10:11:Mt(28295,{value:a})}function mr(a,e){if(a===e)return!0;const i=lo(a);if(i!==lo(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Ac(a).isEqual(Ac(e));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=ao(l.timestampValue),_=ao(h.timestampValue);return m.seconds===_.seconds&&m.nanos===_.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(l,h){return oo(l.bytesValue).isEqual(oo(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(l,h){return an(l.geoPointValue.latitude)===an(h.geoPointValue.latitude)&&an(l.geoPointValue.longitude)===an(h.geoPointValue.longitude)})(a,e);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return an(l.integerValue)===an(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=an(l.doubleValue),_=an(h.doubleValue);return m===_?vf(m)===vf(_):isNaN(m)&&isNaN(_)}return!1})(a,e);case 9:return Zl(a.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(l,h){const m=l.mapValue.fields||{},_=h.mapValue.fields||{};if(wy(m)!==wy(_))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(_[v]===void 0||!mr(m[v],_[v])))return!1;return!0})(a,e);default:return Mt(52216,{left:a})}}function wc(a,e){return(a.values||[]).find((i=>mr(i,e)))!==void 0}function Jl(a,e){if(a===e)return 0;const i=lo(a),r=lo(e);if(i!==r)return ie(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return ie(a.booleanValue,e.booleanValue);case 2:return(function(h,m){const _=an(h.integerValue||h.doubleValue),v=an(m.integerValue||m.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1})(a,e);case 3:return Cy(a.timestampValue,e.timestampValue);case 4:return Cy(Ac(a),Ac(e));case 5:return xm(a.stringValue,e.stringValue);case 6:return(function(h,m){const _=oo(h),v=oo(m);return _.compareTo(v)})(a.bytesValue,e.bytesValue);case 7:return(function(h,m){const _=h.split("/"),v=m.split("/");for(let b=0;b<_.length&&b<v.length;b++){const S=ie(_[b],v[b]);if(S!==0)return S}return ie(_.length,v.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,m){const _=ie(an(h.latitude),an(m.latitude));return _!==0?_:ie(an(h.longitude),an(m.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return xy(a.arrayValue,e.arrayValue);case 10:return(function(h,m){const _=h.fields||{},v=m.fields||{},b=_[Ef]?.arrayValue,S=v[Ef]?.arrayValue,I=ie(b?.values?.length||0,S?.values?.length||0);return I!==0?I:xy(b,S)})(a.mapValue,e.mapValue);case 11:return(function(h,m){if(h===nf.mapValue&&m===nf.mapValue)return 0;if(h===nf.mapValue)return 1;if(m===nf.mapValue)return-1;const _=h.fields||{},v=Object.keys(_),b=m.fields||{},S=Object.keys(b);v.sort(),S.sort();for(let I=0;I<v.length&&I<S.length;++I){const D=xm(v[I],S[I]);if(D!==0)return D;const Q=Jl(_[v[I]],b[S[I]]);if(Q!==0)return Q}return ie(v.length,S.length)})(a.mapValue,e.mapValue);default:throw Mt(23264,{he:i})}}function Cy(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return ie(a,e);const i=ao(a),r=ao(e),l=ie(i.seconds,r.seconds);return l!==0?l:ie(i.nanos,r.nanos)}function xy(a,e){const i=a.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=Jl(i[l],r[l]);if(h)return h}return ie(i.length,r.length)}function Wl(a){return Dm(a)}function Dm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=ao(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return oo(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return It.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Dm(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const m of r)h?h=!1:l+=",",l+=`${m}:${Dm(i.fields[m])}`;return l+"}"})(a.mapValue):Mt(61005,{value:a})}function of(a){switch(lo(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jf(a);return e?16+of(e):16;case 5:return 2*a.stringValue.length;case 6:return oo(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+of(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return mo(r.fields,((h,m)=>{l+=h.length+of(m)})),l})(a.mapValue);default:throw Mt(13486,{value:a})}}function Dy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Nm(a){return!!a&&"integerValue"in a}function Wm(a){return!!a&&"arrayValue"in a}function Ny(a){return!!a&&"nullValue"in a}function Iy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function lf(a){return!!a&&"mapValue"in a}function WT(a){return(a?.mapValue?.fields||{})[Xv]?.stringValue===Zv}function pc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return mo(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=pc(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=pc(a.arrayValue.values[i]);return e}return{...a}}function tA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===JT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!lf(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(i)}setAll(e){let i=kn.emptyPath(),r={},l=[];e.forEach(((m,_)=>{if(!i.isImmediateParentOf(_)){const v=this.getFieldsMap(i);this.applyChanges(v,r,l),r={},l=[],i=_.popLast()}m?r[_.lastSegment()]=pc(m):l.push(_.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(e){const i=this.field(e.popLast());lf(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];lf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){mo(i,((l,h)=>e[l]=h));for(const l of r)delete e[l]}clone(){return new ri(pc(this.value))}}function Jv(a){const e=[];return mo(a.fields,((i,r)=>{const l=new kn([i]);if(lf(r)){const h=Jv(r.mapValue).fields;if(h.length===0)e.push(l);else for(const m of h)e.push(l.child(m))}else e.push(l)})),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,i,r,l,h,m,_){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=m,this.documentState=_}static newInvalidDocument(e){return new xn(e,0,Bt.min(),Bt.min(),Bt.min(),ri.empty(),0)}static newFoundDocument(e,i,r,l){return new xn(e,1,i,Bt.min(),r,l,0)}static newNoDocument(e,i){return new xn(e,2,i,Bt.min(),Bt.min(),ri.empty(),0)}static newUnknownDocument(e,i){return new xn(e,3,i,Bt.min(),Bt.min(),ri.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,i){this.position=e,this.inclusive=i}}function Oy(a,e,i){let r=0;for(let l=0;l<a.position.length;l++){const h=e[l],m=a.position[l];if(h.field.isKeyField()?r=It.comparator(It.fromName(m.referenceValue),i.key):r=Jl(m,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!mr(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,i="asc"){this.field=e,this.dir=i}}function eA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{}class dn extends Wv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new iA(e,i,r):i==="array-contains"?new aA(e,r):i==="in"?new oA(e,r):i==="not-in"?new lA(e,r):i==="array-contains-any"?new uA(e,r):new dn(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new sA(e,r):new rA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Jl(i,this.value)):i!==null&&lo(this.value)===lo(i)&&this.matchesComparison(Jl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Os extends Wv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Os(e,i)}matches(e){return t0(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t0(a){return a.op==="and"}function e0(a){return nA(a)&&t0(a)}function nA(a){for(const e of a.filters)if(e instanceof Os)return!1;return!0}function Im(a){if(a instanceof dn)return a.field.canonicalString()+a.op.toString()+Wl(a.value);if(e0(a))return a.filters.map((e=>Im(e))).join(",");{const e=a.filters.map((i=>Im(i))).join(",");return`${a.op}(${e})`}}function n0(a,e){return a instanceof dn?(function(r,l){return l instanceof dn&&r.op===l.op&&r.field.isEqual(l.field)&&mr(r.value,l.value)})(a,e):a instanceof Os?(function(r,l){return l instanceof Os&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,m,_)=>h&&n0(m,l.filters[_])),!0):!1})(a,e):void Mt(19439)}function i0(a){return a instanceof dn?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wl(i.value)}`})(a):a instanceof Os?(function(i){return i.op.toString()+" {"+i.getFilters().map(i0).join(" ,")+"}"})(a):"Filter"}class iA extends dn{constructor(e,i,r){super(e,i,r),this.key=It.fromName(r.referenceValue)}matches(e){const i=It.comparator(e.key,this.key);return this.matchesComparison(i)}}class sA extends dn{constructor(e,i){super(e,"in",i),this.keys=s0("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class rA extends dn{constructor(e,i){super(e,"not-in",i),this.keys=s0("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function s0(a,e){return(e.arrayValue?.values||[]).map((i=>It.fromName(i.referenceValue)))}class aA extends dn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Wm(i)&&wc(i.arrayValue,this.value)}}class oA extends dn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&wc(this.value.arrayValue,i)}}class lA extends dn{constructor(e,i){super(e,"not-in",i)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wc(this.value.arrayValue,i)}}class uA extends dn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Wm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>wc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i=null,r=[],l=[],h=null,m=null,_=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=m,this.endAt=_,this.Te=null}}function My(a,e=null,i=[],r=[],l=null,h=null,m=null){return new cA(a,e,i,r,l,h,m)}function tp(a){const e=Qt(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Im(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),Oc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Wl(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Wl(r))).join(",")),e.Te=i}return e.Te}function ep(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!eA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!n0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Vy(a.startAt,e.startAt)&&Vy(a.endAt,e.endAt)}function Om(a){return It.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i=null,r=[],l=[],h=null,m="F",_=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=m,this.startAt=_,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hA(a,e,i,r,l,h,m,_){return new Vc(a,e,i,r,l,h,m,_)}function Lf(a){return new Vc(a)}function jy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function r0(a){return a.collectionGroup!==null}function gc(a){const e=Qt(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let _=new yn(kn.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((b=>{b.isInequality()&&(_=_.add(b.field))}))})),_})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Af(h,r))})),i.has(kn.keyField().canonicalString())||e.Ie.push(new Af(kn.keyField(),r))}return e.Ie}function hr(a){const e=Qt(a);return e.Ee||(e.Ee=fA(e,gc(a))),e.Ee}function fA(a,e){if(a.limitType==="F")return My(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new Af(l.field,h)}));const i=a.endAt?new Tf(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Tf(a.startAt.position,a.startAt.inclusive):null;return My(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function Vm(a,e){const i=a.filters.concat([e]);return new Vc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Mm(a,e,i){return new Vc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Pf(a,e){return ep(hr(a),hr(e))&&a.limitType===e.limitType}function a0(a){return`${tp(hr(a))}|lt:${a.limitType}`}function Fl(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>i0(l))).join(", ")}]`),Oc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Wl(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Wl(l))).join(",")),`Target(${r})`})(hr(a))}; limitType=${a.limitType})`}function Uf(a,e){return e.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):It.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,l){for(const h of gc(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(a,e)&&(function(r,l){return!(r.startAt&&!(function(m,_,v){const b=Oy(m,_,v);return m.inclusive?b<=0:b<0})(r.startAt,gc(r),l)||r.endAt&&!(function(m,_,v){const b=Oy(m,_,v);return m.inclusive?b>=0:b>0})(r.endAt,gc(r),l))})(a,e)}function dA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function o0(a){return(e,i)=>{let r=!1;for(const l of gc(a)){const h=mA(l,e,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function mA(a,e,i){const r=a.field.isKeyField()?It.comparator(e.key,i.key):(function(h,m,_){const v=m.data.field(h),b=_.data.field(h);return v!==null&&b!==null?Jl(v,b):Mt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,((i,r)=>{for(const[l,h]of r)e(l,h)}))}isEmpty(){return Fv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new $e(It.comparator);function ea(){return pA}const l0=new $e(It.comparator);function hc(...a){let e=l0;for(const i of a)e=e.insert(i.key,i);return e}function u0(a){let e=l0;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Qo(){return _c()}function c0(){return _c()}function _c(){return new Xo((a=>a.toString()),((a,e)=>a.isEqual(e)))}const gA=new $e(It.comparator),_A=new yn(It.comparator);function se(...a){let e=_A;for(const i of a)e=e.add(i);return e}const yA=new yn(ie);function vA(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vf(e)?"-0":e}}function h0(a){return{integerValue:""+a}}function bA(a,e){return YT(e)?h0(e):np(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function EA(a,e,i){return a instanceof Rc?(function(l,h){const m={fields:{[Yv]:{stringValue:Qv},[Kv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Jm(h)&&(h=jf(h)),h&&(m.fields[$v]=h),{mapValue:m}})(i,e):a instanceof Cc?d0(a,e):a instanceof xc?m0(a,e):(function(l,h){const m=f0(l,h),_=Ly(m)+Ly(l.Ae);return Nm(m)&&Nm(l.Ae)?h0(_):np(l.serializer,_)})(a,e)}function TA(a,e,i){return a instanceof Cc?d0(a,e):a instanceof xc?m0(a,e):i}function f0(a,e){return a instanceof Sf?(function(r){return Nm(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class Rc extends zf{}class Cc extends zf{constructor(e){super(),this.elements=e}}function d0(a,e){const i=p0(e);for(const r of a.elements)i.some((l=>mr(l,r)))||i.push(r);return{arrayValue:{values:i}}}class xc extends zf{constructor(e){super(),this.elements=e}}function m0(a,e){let i=p0(e);for(const r of a.elements)i=i.filter((l=>!mr(l,r)));return{arrayValue:{values:i}}}class Sf extends zf{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Ly(a){return an(a.integerValue||a.doubleValue)}function p0(a){return Wm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,i){this.field=e,this.transform=i}}function SA(a,e){return a.field.isEqual(e.field)&&(function(r,l){return r instanceof Cc&&l instanceof Cc||r instanceof xc&&l instanceof xc?Zl(r.elements,l.elements,mr):r instanceof Sf&&l instanceof Sf?mr(r.Ae,l.Ae):r instanceof Rc&&l instanceof Rc})(a.transform,e.transform)}class wA{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uf(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class kf{}function g0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new ip(a.key,ai.none()):new Mc(a.key,a.data,ai.none());{const i=a.data,r=ri.empty();let l=new yn(kn.comparator);for(let h of e.fields)if(!l.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?r.delete(h):r.set(h,m),l=l.add(h)}return new po(a.key,r,new Qi(l.toArray()),ai.none())}}function RA(a,e,i){a instanceof Mc?(function(l,h,m){const _=l.value.clone(),v=Uy(l.fieldTransforms,h,m.transformResults);_.setAll(v),h.convertToFoundDocument(m.version,_).setHasCommittedMutations()})(a,e,i):a instanceof po?(function(l,h,m){if(!uf(l.precondition,h))return void h.convertToUnknownDocument(m.version);const _=Uy(l.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(_0(l)),v.setAll(_),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(a,e,i):(function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,e,i)}function yc(a,e,i,r){return a instanceof Mc?(function(h,m,_,v){if(!uf(h.precondition,m))return _;const b=h.value.clone(),S=zy(h.fieldTransforms,v,m);return b.setAll(S),m.convertToFoundDocument(m.version,b).setHasLocalMutations(),null})(a,e,i,r):a instanceof po?(function(h,m,_,v){if(!uf(h.precondition,m))return _;const b=zy(h.fieldTransforms,v,m),S=m.data;return S.setAll(_0(h)),S.setAll(b),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((I=>I.field)))})(a,e,i,r):(function(h,m,_){return uf(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):_})(a,e,i)}function CA(a,e){let i=null;for(const r of a.fieldTransforms){const l=e.data.field(r.field),h=f0(r.transform,l||null);h!=null&&(i===null&&(i=ri.empty()),i.set(r.field,h))}return i||null}function Py(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Zl(r,l,((h,m)=>SA(h,m)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Mc extends kf{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class po extends kf{constructor(e,i,r,l,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function _0(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function Uy(a,e,i){const r=new Map;he(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const h=a[l],m=h.transform,_=e.data.field(h.field);r.set(h.field,TA(m,_,i[l]))}return r}function zy(a,e,i){const r=new Map;for(const l of a){const h=l.transform,m=i.data.field(l.field);r.set(l.field,EA(h,m,e))}return r}class ip extends kf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y0 extends kf{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&RA(h,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=yc(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=yc(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=c0();return this.mutations.forEach((l=>{const h=e.get(l.key),m=h.overlayedDocument;let _=this.applyToLocalView(m,h.mutatedFields);_=i.has(l.key)?null:_;const v=g0(m,_);v!==null&&r.set(l.key,v),m.isValidDocument()||m.convertToNoDocument(Bt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),se())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,((i,r)=>Py(i,r)))&&Zl(this.baseMutations,e.baseMutations,((i,r)=>Py(i,r)))}}class sp{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){he(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return gA})();const h=e.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,r[m].version);return new sp(e,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,ue;function v0(a){switch(a){case nt.OK:return Mt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Mt(15467,{code:a})}}function b0(a){if(a===void 0)return ta("GRPC error has no .code"),nt.UNKNOWN;switch(a){case fn.OK:return nt.OK;case fn.CANCELLED:return nt.CANCELLED;case fn.UNKNOWN:return nt.UNKNOWN;case fn.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case fn.INTERNAL:return nt.INTERNAL;case fn.UNAVAILABLE:return nt.UNAVAILABLE;case fn.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case fn.NOT_FOUND:return nt.NOT_FOUND;case fn.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case fn.ABORTED:return nt.ABORTED;case fn.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case fn.DATA_LOSS:return nt.DATA_LOSS;default:return Mt(39323,{code:a})}}(ue=fn||(fn={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new eo([4294967295,4294967295],0);function ky(a){const e=IA().encode(a),i=new Vv;return i.update(e),new Uint8Array(i.digest())}function By(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new eo([i,r],0),new eo([l,h],0)]}class rp{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new fc(`Invalid padding: ${i}`);if(r<0)throw new fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new fc(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=eo.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(eo.fromNumber(r)));return l.compare(OA)===1&&(l=new eo([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ky(e),[r,l]=By(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(r,l,h);if(!this.we(m))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),m=new rp(h,l,i);return r.forEach((_=>m.insert(_))),m}insert(e){if(this.ge===0)return;const i=ky(e),[r,l]=By(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(r,l,h);this.Se(m)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,i,r,l,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Bf(Bt.min(),l,new $e(ie),ea(),se())}}class jc{constructor(e,i,r,l,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new jc(r,i,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class E0{constructor(e,i){this.targetId=e,this.Ce=i}}class T0{constructor(e,i,r=Bn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class qy{constructor(){this.ve=0,this.Fe=Hy(),this.Me=Bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=se(),i=se(),r=se();return this.Fe.forEach(((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Mt(38017,{changeType:h})}})),new jc(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Hy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ea(),this.Je=sf(),this.He=sf(),this.Ye=new $e(ie)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Om(h))if(r===0){const m=new It(h.path);this.et(i,m,xn.newNoDocument(m,Bt.min()))}else he(r===1,20013,{expectedCount:r});else{const m=this._t(i);if(m!==r){const _=this.ut(e),v=_?this.ct(_,e,m):1;if(v!==0){this.it(i);const b=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,b)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let m,_;try{m=oo(r).toUint8Array()}catch(v){if(v instanceof Gv)return Xl("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new rp(m,l,h)}catch(v){return Xl(v instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.ge===0?null:_}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const m=this.Ge.ht(),_=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;e.mightContain(_)||(this.et(i,h,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((h,m)=>{const _=this.ot(m);if(_){if(h.current&&Om(_.target)){const v=new It(_.target.path);this.It(v).has(m)||this.Et(m,v)||this.et(m,v,xn.newNoDocument(v,e))}h.Be&&(i.set(m,h.ke()),h.qe())}}));let r=se();this.He.forEach(((h,m)=>{let _=!0;m.forEachWhile((v=>{const b=this.ot(v);return!b||b.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)})),_&&(r=r.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(e)));const l=new Bf(e,i,this.Ye,this.je,r);return this.je=ea(),this.Je=sf(),this.He=sf(),this.Ye=new $e(ie),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new qy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new yn(ie),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new yn(ie),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||At("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function sf(){return new $e(It.comparator)}function Hy(){return new $e(It.comparator)}const MA={asc:"ASCENDING",desc:"DESCENDING"},jA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LA={and:"AND",or:"OR"};class PA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function jm(a,e){return a.useProto3Json||Oc(e)?e:{value:e}}function wf(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function UA(a,e){return wf(a,e.toTimestamp())}function $i(a){return he(!!a,49232),Bt.fromTimestamp((function(i){const r=ao(i);return new Be(r.seconds,r.nanos)})(a))}function ap(a,e){return Lm(a,e).canonicalString()}function Lm(a,e){const i=(function(l){return new Ie(["projects",l.projectId,"databases",l.database])})(a).child("documents");return e===void 0?i:i.child(e)}function S0(a){const e=Ie.fromString(a);return he(N0(e),10190,{key:e.toString()}),e}function Rf(a,e){return ap(a.databaseId,e.path)}function vc(a,e){const i=S0(e);if(i.get(1)!==a.databaseId.projectId)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new yt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new It(R0(i))}function w0(a,e){return ap(a.databaseId,e)}function zA(a){const e=S0(a);return e.length===4?Ie.emptyPath():R0(e)}function Pm(a){return new Ie(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function R0(a){return he(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Fy(a,e,i){return{name:Rf(a,e),fields:i.value.mapValue.fields}}function kA(a,e){return"found"in e?(function(r,l){he(!!l.found,43571),l.found.name,l.found.updateTime;const h=vc(r,l.found.name),m=$i(l.found.updateTime),_=l.found.createTime?$i(l.found.createTime):Bt.min(),v=new ri({mapValue:{fields:l.found.fields}});return xn.newFoundDocument(h,m,_,v)})(a,e):"missing"in e?(function(r,l){he(!!l.missing,3894),he(!!l.readTime,22933);const h=vc(r,l.missing),m=$i(l.readTime);return xn.newNoDocument(h,m)})(a,e):Mt(7234,{result:e})}function BA(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:Mt(39313,{state:b})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],h=(function(b,S){return b.useProto3Json?(he(S===void 0||typeof S=="string",58123),Bn.fromBase64String(S||"")):(he(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Bn.fromUint8Array(S||new Uint8Array))})(a,e.targetChange.resumeToken),m=e.targetChange.cause,_=m&&(function(b){const S=b.code===void 0?nt.UNKNOWN:b0(b.code);return new yt(S,b.message||"")})(m);i=new T0(r,l,h,_||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=vc(a,r.document.name),h=$i(r.document.updateTime),m=r.document.createTime?$i(r.document.createTime):Bt.min(),_=new ri({mapValue:{fields:r.document.fields}}),v=xn.newFoundDocument(l,h,m,_),b=r.targetIds||[],S=r.removedTargetIds||[];i=new cf(b,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=vc(a,r.document),h=r.readTime?$i(r.readTime):Bt.min(),m=xn.newNoDocument(l,h),_=r.removedTargetIds||[];i=new cf([],_,m.key,m)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=vc(a,r.document),h=r.removedTargetIds||[];i=new cf([],h,l,null)}else{if(!("filter"in e))return Mt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,m=new NA(l,h),_=r.targetId;i=new E0(_,m)}}return i}function C0(a,e){let i;if(e instanceof Mc)i={update:Fy(a,e.key,e.value)};else if(e instanceof ip)i={delete:Rf(a,e.key)};else if(e instanceof po)i={update:Fy(a,e.key,e.data),updateMask:XA(e.fieldMask)};else{if(!(e instanceof y0))return Mt(16599,{Vt:e.type});i={verify:Rf(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,m){const _=m.transform;if(_ instanceof Rc)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Cc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof xc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Sf)return{fieldPath:m.field.canonicalString(),increment:_.Ae};throw Mt(20930,{transform:m.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:UA(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Mt(27497)})(a,e.precondition)),i}function qA(a,e){return a&&a.length>0?(he(e!==void 0,14353),a.map((i=>(function(l,h){let m=l.updateTime?$i(l.updateTime):$i(h);return m.isEqual(Bt.min())&&(m=$i(h)),new wA(m,l.transformResults||[])})(i,e)))):[]}function HA(a,e){return{documents:[w0(a,e.path)]}}function FA(a,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=w0(a,l);const h=(function(b){if(b.length!==0)return D0(Os.create(b,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const m=(function(b){if(b.length!==0)return b.map((S=>(function(D){return{field:Gl(D.field),direction:YA(D.dir)}})(S)))})(e.orderBy);m&&(i.structuredQuery.orderBy=m);const _=jm(a,e.limit);return _!==null&&(i.structuredQuery.limit=_),e.startAt&&(i.structuredQuery.startAt=(function(b){return{before:b.inclusive,values:b.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(b){return{before:!b.inclusive,values:b.position}})(e.endAt)),{ft:i,parent:l}}function GA(a){let e=zA(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){he(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=(function(I){const D=x0(I);return D instanceof Os&&e0(D)?D.getFilters():[D]})(i.where));let m=[];i.orderBy&&(m=(function(I){return I.map((D=>(function(X){return new Af(Ql(X.field),(function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(D)))})(i.orderBy));let _=null;i.limit&&(_=(function(I){let D;return D=typeof I=="object"?I.value:I,Oc(D)?null:D})(i.limit));let v=null;i.startAt&&(v=(function(I){const D=!!I.before,Q=I.values||[];return new Tf(Q,D)})(i.startAt));let b=null;return i.endAt&&(b=(function(I){const D=!I.before,Q=I.values||[];return new Tf(Q,D)})(i.endAt)),hA(e,l,m,h,_,"F",v,b)}function QA(a,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function x0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ql(i.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ql(i.unaryFilter.field);return dn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ql(i.unaryFilter.field);return dn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Ql(i.unaryFilter.field);return dn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return dn.create(Ql(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Os.create(i.compositeFilter.filters.map((r=>x0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}})(i.compositeFilter.op))})(a):Mt(30097,{filter:a})}function YA(a){return MA[a]}function $A(a){return jA[a]}function KA(a){return LA[a]}function Gl(a){return{fieldPath:a.canonicalString()}}function Ql(a){return kn.fromServerFormat(a.fieldPath)}function D0(a){return a instanceof dn?(function(i){if(i.op==="=="){if(Iy(i.value))return{unaryFilter:{field:Gl(i.field),op:"IS_NAN"}};if(Ny(i.value))return{unaryFilter:{field:Gl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iy(i.value))return{unaryFilter:{field:Gl(i.field),op:"IS_NOT_NAN"}};if(Ny(i.value))return{unaryFilter:{field:Gl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(i.field),op:$A(i.op),value:i.value}}})(a):a instanceof Os?(function(i){const r=i.getFilters().map((l=>D0(l)));return r.length===1?r[0]:{compositeFilter:{op:KA(i.op),filters:r}}})(a):Mt(54877,{filter:a})}function XA(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function N0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,i,r,l,h=Bt.min(),m=Bt.min(),_=Bn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.yt=e}}function JA(a){const e=GA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.Cn=new t2}addToCollectionParentIndex(e,i){return this.Cn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(ro.min())}updateCollectionGroup(e,i,r){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class t2{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new yn(Ie.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new yn(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I0=41943040;class Ci{static withCacheSize(e){return new Ci(e,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(I0,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tu(0)}static cr(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LruGarbageCollector",e2=1048576;function Yy([a,e],[i,r]){const l=ie(a,i);return l===0?ie(e,r):l}class n2{constructor(e){this.Ir=e,this.buffer=new yn(Yy),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Yy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class i2{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){At(Qy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ou(i)?At(Qy,"Ignoring IndexedDB error during garbage collection: ",i):await au(i)}await this.Vr(3e5)}))}}class s2{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return at.resolve(Mf.ce);const r=new n2(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(Gy)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gy):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,h,m,_,v,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,m=Date.now(),this.nthSequenceNumber(e,l)))).next((I=>(r=I,_=Date.now(),this.removeTargets(e,r,i)))).next((I=>(h=I,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((I=>(b=Date.now(),Hl()<=ce.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${l} in `+(_-m)+`ms
	Removed ${h} targets in `+(v-_)+`ms
	Removed ${I} documents in `+(b-v)+`ms
Total Duration: ${b-S}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:I}))))}}function r2(a,e){return new s2(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.changes=new Xo((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?at.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&yc(r.mutation,l,Qi.empty(),Be.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,se()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=se()){const l=Qo();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((h=>{let m=hc();return h.forEach(((_,v)=>{m=m.insert(_,v.overlayedDocument)})),m}))))}getOverlayedDocuments(e,i){const r=Qo();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,se())))}populateOverlays(e,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(e,l).next((h=>{h.forEach(((m,_)=>{i.set(m,_)}))}))}computeViews(e,i,r,l){let h=ea();const m=_c(),_=(function(){return _c()})();return i.forEach(((v,b)=>{const S=r.get(b.key);l.has(b.key)&&(S===void 0||S.mutation instanceof po)?h=h.insert(b.key,b):S!==void 0?(m.set(b.key,S.mutation.getFieldMask()),yc(S.mutation,b,S.mutation.getFieldMask(),Be.now())):m.set(b.key,Qi.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((b,S)=>m.set(b,S))),i.forEach(((b,S)=>_.set(b,new o2(S,m.get(b)??null)))),_)))}recalculateAndSaveOverlays(e,i){const r=_c();let l=new $e(((m,_)=>m-_)),h=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((m=>{for(const _ of m)_.keys().forEach((v=>{const b=i.get(v);if(b===null)return;let S=r.get(v)||Qi.empty();S=_.applyToLocalView(b,S),r.set(v,S);const I=(l.get(_.batchId)||se()).add(v);l=l.insert(_.batchId,I)}))})).next((()=>{const m=[],_=l.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),b=v.key,S=v.value,I=c0();S.forEach((D=>{if(!h.has(D)){const Q=g0(i.get(D),r.get(D));Q!==null&&I.set(D,Q),h=h.add(D)}})),m.push(this.documentOverlayCache.saveOverlays(e,b,I))}return at.waitFor(m)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(m){return It.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):r0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-h.size):at.resolve(Qo());let _=Tc,v=h;return m.next((b=>at.forEach(b,((S,I)=>(_<I.largestBatchId&&(_=I.largestBatchId),h.get(S)?at.resolve():this.remoteDocumentCache.getEntry(e,S).next((D=>{v=v.insert(S,D)}))))).next((()=>this.populateOverlays(e,b,h))).next((()=>this.computeViews(e,v,b,se()))).next((S=>({batchId:_,changes:u0(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new It(i)).next((r=>{let l=hc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const h=i.collectionGroup;let m=hc();return this.indexManager.getCollectionParents(e,h).next((_=>at.forEach(_,(v=>{const b=(function(I,D){return new Vc(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,b,r,l).next((S=>{S.forEach(((I,D)=>{m=m.insert(I,D)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,l)))).next((m=>{h.forEach(((v,b)=>{const S=b.getKey();m.get(S)===null&&(m=m.insert(S,xn.newInvalidDocument(S)))}));let _=hc();return m.forEach(((v,b)=>{const S=h.get(v);S!==void 0&&yc(S.mutation,b,Qi.empty(),Be.now()),Uf(i,b)&&(_=_.insert(v,b))})),_}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return at.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:$i(l.createTime)}})(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:JA(l.bundledQuery),readTime:$i(l.readTime)}})(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.overlays=new $e(It.comparator),this.qr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Qo();return at.forEach(i,(l=>this.getOverlay(e,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,h)=>{this.St(e,i,h)})),at.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),at.resolve()}getOverlaysForCollection(e,i,r){const l=Qo(),h=i.length+1,m=new It(i.child("")),_=this.overlays.getIteratorFrom(m);for(;_.hasNext();){const v=_.getNext().value,b=v.getKey();if(!i.isPrefixOf(b.path))break;b.path.length===h&&v.largestBatchId>r&&l.set(v.getKey(),v)}return at.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let h=new $e(((b,S)=>b-S));const m=this.overlays.getIterator();for(;m.hasNext();){const b=m.getNext().value;if(b.getKey().getCollectionGroup()===i&&b.largestBatchId>r){let S=h.get(b.largestBatchId);S===null&&(S=Qo(),h=h.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const _=Qo(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((b,S)=>_.set(b,S))),!(_.size()>=l)););return at.resolve(_)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const m=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(r.key,new DA(i,r));let h=this.qr.get(i);h===void 0&&(h=se(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Qr=new yn(Cn.$r),this.Ur=new yn(Cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Cn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Cn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new It(new Ie([])),r=new Cn(i,e),l=new Cn(i,e+1),h=[];return this.Ur.forEachInRange([r,l],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new It(new Ie([])),r=new Cn(i,e),l=new Cn(i,e+1);let h=se();return this.Ur.forEachInRange([r,l],(m=>{h=h.add(m.key)})),h}containsKey(e){const i=new Cn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return It.comparator(e.key,i.key)||ie(e.Yr,i.Yr)}static Kr(e,i){return ie(e.Yr,i.Yr)||It.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new yn(Cn.$r)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new xA(h,i,r,l);this.mutationQueue.push(m);for(const _ of l)this.Zr=this.Zr.add(new Cn(_.key,h)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return at.resolve(m)}lookupMutationBatch(e,i){return at.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return at.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Zm:this.tr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Cn(i,0),l=new Cn(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(m=>{const _=this.Xr(m.Yr);h.push(_)})),at.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new yn(ie);return i.forEach((l=>{const h=new Cn(l,0),m=new Cn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(_=>{r=r.add(_.Yr)}))})),at.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let h=r;It.isDocumentKey(h)||(h=h.child(""));const m=new Cn(new It(h),0);let _=new yn(ie);return this.Zr.forEachWhile((v=>{const b=v.key.path;return!!r.isPrefixOf(b)&&(b.length===l&&(_=_.add(v.Yr)),!0)}),m),at.resolve(this.ti(_))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){he(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return at.forEach(i.mutations,(l=>{const h=new Cn(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Cn(i,0),l=this.Zr.firstAfterOrEqual(r);return at.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.ri=e,this.docs=(function(){return new $e(It.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,m=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return at.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(i))}getEntries(e,i){let r=ea();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():xn.newInvalidDocument(l))})),at.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let h=ea();const m=i.path,_=new It(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:b,value:{document:S}}=v.getNext();if(!m.isPrefixOf(b.path))break;b.path.length>m.length+1||HT(qT(S),r)<=0||(l.has(S.key)||Uf(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return at.resolve(h)}getAllFromCollectionGroup(e,i,r,l){Mt(9500)}ii(e,i){return at.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new m2(this)}getSize(e){return at.resolve(this.size)}}class m2 extends a2{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),at.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.persistence=e,this.si=new Xo((i=>tp(i)),ep),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.oi=0,this._i=new op,this.targetCount=0,this.ai=tu.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),at.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new tu(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.Pr(i),at.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,r){let l=0;const h=[];return this.si.forEach(((m,_)=>{_.sequenceNumber<=i&&r.get(_.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(e,_.targetId)),l++)})),at.waitFor(h).next((()=>l))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return at.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),at.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((m=>{h.push(l.markPotentiallyOrphaned(e,m))})),at.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return at.resolve(r)}containsKey(e,i){return at.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i){this.ui={},this.overlays={},this.ci=new Mf(0),this.li=!1,this.li=!0,this.hi=new h2,this.referenceDelegate=e(this),this.Pi=new p2(this),this.indexManager=new WA,this.remoteDocumentCache=(function(l){return new d2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new ZA(i),this.Ii=new u2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new c2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new f2(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){At("MemoryPersistence","Starting transaction:",e);const l=new g2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(e,i){return at.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class g2 extends GT{constructor(e){super(),this.currentSequenceNumber=e}}class lp{constructor(e){this.persistence=e,this.Ri=new op,this.Vi=null}static mi(e){return new lp(e)}get fi(){if(this.Vi)return this.Vi;throw Mt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),at.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),at.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(r=>{const l=It.fromPath(r);return this.gi(e,l).next((h=>{h||i.removeEntry(l,Bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class Cf{constructor(e,i){this.persistence=e,this.pi=new Xo((r=>$T(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=r2(this,i)}static mi(e,i){return new Cf(e,i)}Ei(){}di(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return at.forEach(this.pi,((r,l)=>this.br(e,r,l).next((h=>h?at.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(e,(m=>this.br(e,m,i).next((_=>{_||(r++,h.removeEntry(m,Bt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),at.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),at.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=of(e.data.value)),i}br(e,i,r){return at.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return at.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=se(),l=se();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new up(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return c1()?8:QT(l1())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const h={result:null};return this.ys(e,i).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(e,i,l,r).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new _2;return this.Ss(e,i,m).next((_=>{if(h.result=_,this.Vs)return this.bs(e,i,m,_.size)}))})).next((()=>h.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?(Hl()<=ce.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Fl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Hl()<=ce.DEBUG&&At("QueryEngine","Query:",Fl(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Hl()<=ce.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Fl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(i))):at.resolve())}ys(e,i){if(jy(i))return at.resolve(null);let r=hr(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Mm(i,null,"F"),r=hr(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const m=se(...h);return this.ps.getDocuments(e,m).next((_=>this.indexManager.getMinOffset(e,r).next((v=>{const b=this.Ds(i,_);return this.Cs(i,b,m,v.readTime)?this.ys(e,Mm(i,null,"F")):this.vs(e,b,i,v)}))))})))))}ws(e,i,r,l){return jy(i)||l.isEqual(Bt.min())?at.resolve(null):this.ps.getDocuments(e,r).next((h=>{const m=this.Ds(i,h);return this.Cs(i,m,r,l)?at.resolve(null):(Hl()<=ce.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fl(i)),this.vs(e,m,i,BT(l,Tc)).next((_=>_)))}))}Ds(e,i){let r=new yn(o0(e));return i.forEach(((l,h)=>{Uf(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(e,i,r){return Hl()<=ce.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Fl(i)),this.ps.getDocumentsMatchingQuery(e,i,ro.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((h=>(i.forEach((m=>{h=h.insert(m.key,m)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="LocalStore",v2=3e8;class b2{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new $e(ie),this.xs=new Xo((h=>tp(h)),ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function E2(a,e,i,r){return new b2(a,e,i,r)}async function V0(a,e){const i=Qt(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const m=[],_=[];let v=se();for(const b of l){m.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}for(const b of h){_.push(b.batchId);for(const S of b.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(r,v).next((b=>({Ls:b,removedBatchIds:m,addedBatchIds:_})))}))}))}function T2(a,e){const i=Qt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(_,v,b,S){const I=b.batch,D=I.keys();let Q=at.resolve();return D.forEach((X=>{Q=Q.next((()=>S.getEntry(v,X))).next((ot=>{const et=b.docVersions.get(X);he(et!==null,48541),ot.version.compareTo(et)<0&&(I.applyToRemoteDocument(ot,b),ot.isValidDocument()&&(ot.setReadTime(b.commitVersion),S.addEntry(ot)))}))})),Q.next((()=>_.mutationQueue.removeMutationBatch(v,I)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(_){let v=se();for(let b=0;b<_.mutationResults.length;++b)_.mutationResults[b].transformResults.length>0&&(v=v.add(_.batch.mutations[b].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function M0(a){const e=Qt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function A2(a,e){const i=Qt(a),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const _=[];e.targetChanges.forEach(((S,I)=>{const D=l.get(I);if(!D)return;_.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,I).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,I))));let Q=D.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?Q=Q.withResumeToken(Bn.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),l=l.insert(I,Q),(function(ot,et,bt){return ot.resumeToken.approximateByteSize()===0||et.snapshotVersion.toMicroseconds()-ot.snapshotVersion.toMicroseconds()>=v2?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0})(D,Q,S)&&_.push(i.Pi.updateTargetData(h,Q))}));let v=ea(),b=se();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&_.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),_.push(S2(h,m,e.documentUpdates).next((S=>{v=S.ks,b=S.qs}))),!r.isEqual(Bt.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));_.push(S)}return at.waitFor(_).next((()=>m.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,b))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function S2(a,e,i){let r=se(),l=se();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let m=ea();return i.forEach(((_,v)=>{const b=h.get(_);v.isFoundDocument()!==b.isFoundDocument()&&(l=l.add(_)),v.isNoDocument()&&v.version.isEqual(Bt.min())?(e.removeEntry(_,v.readTime),m=m.insert(_,v)):!b.isValidDocument()||v.version.compareTo(b.version)>0||v.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(v),m=m.insert(_,v)):At(cp,"Ignoring outdated watch update for ",_,". Current version:",b.version," Watch version:",v.version)})),{ks:m,qs:l}}))}function w2(a,e){const i=Qt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function R2(a,e){const i=Qt(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((h=>h?(l=h,at.resolve(l)):i.Pi.allocateTargetId(r).next((m=>(l=new Za(e,m,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Um(a,e,i){const r=Qt(a),l=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(m=>r.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!ou(m))throw m;At(cp,`Failed to update sequence numbers for target ${e}: ${m}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function $y(a,e,i){const r=Qt(a);let l=Bt.min(),h=se();return r.persistence.runTransaction("Execute query","readwrite",(m=>(function(v,b,S){const I=Qt(v),D=I.xs.get(S);return D!==void 0?at.resolve(I.Ms.get(D)):I.Pi.getTargetData(b,S)})(r,m,hr(e)).next((_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(m,_.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(m,e,i?l:Bt.min(),i?h:se()))).next((_=>(C2(r,dA(e),_),{documents:_,Qs:h})))))}function C2(a,e,i){let r=a.Os.get(e)||Bt.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class Ky{constructor(){this.activeTargetIds=vA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x2{constructor(){this.Mo=new Ky,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ky,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="ConnectivityMonitor";class Zy{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){At(Xy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){At(Xy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf=null;function zm(){return rf===null?rf=(function(){return 268435456+Math.round(2147483648*Math.random())})():rf++,"0x"+rf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",N2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===bf?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,h){const m=zm(),_=this.zo(e,i.toUriEncodedString());At(vm,`Sending RPC '${e}' ${m}:`,_,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:b}=new URL(_),S=Ym(b);return this.Jo(e,_,v,r,S).then((I=>(At(vm,`Received RPC '${e}' ${m}: `,I),I)),(I=>{throw Xl(vm,`RPC '${e}' ${m} failed with error: `,I,"url: ",_,"request:",r),I}))}Ho(e,i,r,l,h,m){return this.Go(e,i,r,l,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ru})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>e[h]=l)),r&&r.headers.forEach(((l,h)=>e[h]=l))}zo(e,i){const r=N2[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="WebChannelConnection";class V2 extends I2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,h){const m=zm();return new Promise(((_,v)=>{const b=new Mv;b.setWithCredentials(!0),b.listenOnce(jv.COMPLETE,(()=>{try{switch(b.getLastErrorCode()){case af.NO_ERROR:const I=b.getResponseJson();At(Yn,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(I)),_(I);break;case af.TIMEOUT:At(Yn,`RPC '${e}' ${m} timed out`),v(new yt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const D=b.getStatus();if(At(Yn,`RPC '${e}' ${m} failed with status:`,D,"response text:",b.getResponseText()),D>0){let Q=b.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const X=Q?.error;if(X&&X.status&&X.message){const ot=(function(bt){const lt=bt.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(lt)>=0?lt:nt.UNKNOWN})(X.status);v(new yt(ot,X.message))}else v(new yt(nt.UNKNOWN,"Server responded with status "+b.getStatus()))}else v(new yt(nt.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:e,streamId:m,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{At(Yn,`RPC '${e}' ${m} completed.`)}}));const S=JSON.stringify(l);At(Yn,`RPC '${e}' ${m} sending request:`,l),b.send(i,"POST",S,r,15)}))}T_(e,i,r){const l=zm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Uv(),_=Pv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(v.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const S=h.join("");At(Yn,`Creating RPC '${e}' stream ${l}: ${S}`,v);const I=m.createWebChannel(S,v);this.I_(I);let D=!1,Q=!1;const X=new O2({Yo:et=>{Q?At(Yn,`Not sending because RPC '${e}' stream ${l} is closed:`,et):(D||(At(Yn,`Opening RPC '${e}' stream ${l} transport.`),I.open(),D=!0),At(Yn,`RPC '${e}' stream ${l} sending:`,et),I.send(et))},Zo:()=>I.close()}),ot=(et,bt,lt)=>{et.listen(bt,(ut=>{try{lt(ut)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return ot(I,cc.EventType.OPEN,(()=>{Q||(At(Yn,`RPC '${e}' stream ${l} transport opened.`),X.o_())})),ot(I,cc.EventType.CLOSE,(()=>{Q||(Q=!0,At(Yn,`RPC '${e}' stream ${l} transport closed`),X.a_(),this.E_(I))})),ot(I,cc.EventType.ERROR,(et=>{Q||(Q=!0,Xl(Yn,`RPC '${e}' stream ${l} transport errored. Name:`,et.name,"Message:",et.message),X.a_(new yt(nt.UNAVAILABLE,"The operation could not be completed")))})),ot(I,cc.EventType.MESSAGE,(et=>{if(!Q){const bt=et.data[0];he(!!bt,16349);const lt=bt,ut=lt?.error||lt[0]?.error;if(ut){At(Yn,`RPC '${e}' stream ${l} received error:`,ut);const vt=ut.status;let gt=(function(x){const N=fn[x];if(N!==void 0)return b0(N)})(vt),xt=ut.message;gt===void 0&&(gt=nt.INTERNAL,xt="Unknown error status: "+vt+" with message "+ut.message),Q=!0,X.a_(new yt(gt,xt)),I.close()}else At(Yn,`RPC '${e}' stream ${l} received:`,bt),X.u_(bt)}})),ot(_,Lv.STAT_EVENT,(et=>{et.stat===Cm.PROXY?At(Yn,`RPC '${e}' stream ${l} detected buffering proxy`):et.stat===Cm.NOPROXY&&At(Yn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(a){return new PA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,i,r=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="PersistentStream";class j0{constructor(e,i,r,l,h,m,_,v){this.Mi=e,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hp(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(ta(i.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new yt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return At(Jy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(At(Jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M2 extends j0{constructor(e,i,r,l,h,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,m),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Bt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Bt.min():m.readTime?$i(m.readTime):Bt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Pm(this.serializer),i.addTarget=(function(h,m){let _;const v=m.target;if(_=Om(v)?{documents:HA(h,v)}:{query:FA(h,v).ft},_.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){_.resumeToken=A0(h,m.resumeToken);const b=jm(h,m.expectedCount);b!==null&&(_.expectedCount=b)}else if(m.snapshotVersion.compareTo(Bt.min())>0){_.readTime=wf(h,m.snapshotVersion.toTimestamp());const b=jm(h,m.expectedCount);b!==null&&(_.expectedCount=b)}return _})(this.serializer,e);const r=QA(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Pm(this.serializer),i.removeTarget=e,this.q_(i)}}class j2 extends j0{constructor(e,i,r,l,h,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=qA(e.writeResults,e.commitTime),r=$i(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Pm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>C0(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{}class P2 extends L2{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(e,Lm(i,r),l,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new yt(nt.UNKNOWN,h.toString())}))}Ho(e,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,_])=>this.connection.Ho(e,Lm(i,r),l,m,_,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new yt(nt.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class U2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(i),this.aa=!1):At("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class z2{constructor(e,i,r,l,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{r.enqueueAndForget((async()=>{Zo(this)&&(At(Ko,"Restarting streams for network reachability change."),await(async function(v){const b=Qt(v);b.Ea.add(4),await Lc(b),b.Ra.set("Unknown"),b.Ea.delete(4),await Hf(b)})(this))}))})),this.Ra=new U2(r,l)}}async function Hf(a){if(Zo(a))for(const e of a.da)await e(!0)}async function Lc(a){for(const e of a.da)await e(!1)}function L0(a,e){const i=Qt(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pp(i)?mp(i):lu(i).O_()&&dp(i,e))}function fp(a,e){const i=Qt(a),r=lu(i);i.Ia.delete(e),r.O_()&&P0(i,e),i.Ia.size===0&&(r.O_()?r.L_():Zo(i)&&i.Ra.set("Unknown"))}function dp(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}lu(a).Y_(e)}function P0(a,e){a.Va.Ue(e),lu(a).Z_(e)}function mp(a){a.Va=new VA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),lu(a).start(),a.Ra.ua()}function pp(a){return Zo(a)&&!lu(a).x_()&&a.Ia.size>0}function Zo(a){return Qt(a).Ea.size===0}function U0(a){a.Va=void 0}async function k2(a){a.Ra.set("Online")}async function B2(a){a.Ia.forEach(((e,i)=>{dp(a,e)}))}async function q2(a,e){U0(a),pp(a)?(a.Ra.ha(e),mp(a)):a.Ra.set("Unknown")}async function H2(a,e,i){if(a.Ra.set("Online"),e instanceof T0&&e.state===2&&e.cause)try{await(async function(l,h){const m=h.cause;for(const _ of h.targetIds)l.Ia.has(_)&&(await l.remoteSyncer.rejectListen(_,m),l.Ia.delete(_),l.Va.removeTarget(_))})(a,e)}catch(r){At(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xf(a,r)}else if(e instanceof cf?a.Va.Ze(e):e instanceof E0?a.Va.st(e):a.Va.tt(e),!i.isEqual(Bt.min()))try{const r=await M0(a.localStore);i.compareTo(r)>=0&&await(function(h,m){const _=h.Va.Tt(m);return _.targetChanges.forEach(((v,b)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(b);S&&h.Ia.set(b,S.withResumeToken(v.resumeToken,m))}})),_.targetMismatches.forEach(((v,b)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Bn.EMPTY_BYTE_STRING,S.snapshotVersion)),P0(h,v);const I=new Za(S.target,v,b,S.sequenceNumber);dp(h,I)})),h.remoteSyncer.applyRemoteEvent(_)})(a,i)}catch(r){At(Ko,"Failed to raise snapshot:",r),await xf(a,r)}}async function xf(a,e,i){if(!ou(e))throw e;a.Ea.add(1),await Lc(a),a.Ra.set("Offline"),i||(i=()=>M0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{At(Ko,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Hf(a)}))}function z0(a,e){return e().catch((i=>xf(a,i,e)))}async function Ff(a){const e=Qt(a),i=uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zm;for(;F2(e);)try{const l=await w2(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,G2(e,l)}catch(l){await xf(e,l)}k0(e)&&B0(e)}function F2(a){return Zo(a)&&a.Ta.length<10}function G2(a,e){a.Ta.push(e);const i=uo(a);i.O_()&&i.X_&&i.ea(e.mutations)}function k0(a){return Zo(a)&&!uo(a).x_()&&a.Ta.length>0}function B0(a){uo(a).start()}async function Q2(a){uo(a).ra()}async function Y2(a){const e=uo(a);for(const i of a.Ta)e.ea(i.mutations)}async function $2(a,e,i){const r=a.Ta.shift(),l=sp.from(r,e,i);await z0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Ff(a)}async function K2(a,e){e&&uo(a).X_&&await(async function(r,l){if((function(m){return v0(m)&&m!==nt.ABORTED})(l.code)){const h=r.Ta.shift();uo(r).B_(),await z0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Ff(r)}})(a,e),k0(a)&&B0(a)}async function Wy(a,e){const i=Qt(a);i.asyncQueue.verifyOperationInProgress(),At(Ko,"RemoteStore received new credentials");const r=Zo(i);i.Ea.add(3),await Lc(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Hf(i)}async function X2(a,e){const i=Qt(a);e?(i.Ea.delete(2),await Hf(i)):e||(i.Ea.add(2),await Lc(i),i.Ra.set("Unknown"))}function lu(a){return a.ma||(a.ma=(function(i,r,l){const h=Qt(i);return h.sa(),new M2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:k2.bind(null,a),t_:B2.bind(null,a),r_:q2.bind(null,a),H_:H2.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),pp(a)?mp(a):a.Ra.set("Unknown")):(await a.ma.stop(),U0(a))}))),a.ma}function uo(a){return a.fa||(a.fa=(function(i,r,l){const h=Qt(i);return h.sa(),new j2(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q2.bind(null,a),r_:K2.bind(null,a),ta:Y2.bind(null,a),na:$2.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Ff(a)):(await a.fa.stop(),a.Ta.length>0&&(At(Ko,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,i,r,l,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,h){const m=Date.now()+r,_=new gp(e,i,m,l,h);return _.start(r),_}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(a,e){if(ta("AsyncQueue",`${e}: ${a}`),ou(a))return new yt(nt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{static emptySet(e){return new Kl(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||It.comparator(i.key,r.key):(i,r)=>It.comparator(i.key,r.key),this.keyedMap=hc(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.ga=new $e(It.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Mt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class eu{constructor(e,i,r,l,h,m,_,v,b){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=b}static fromInitialDocuments(e,i,r,l,h){const m=[];return i.forEach((_=>{m.push({type:0,doc:_})})),new eu(e,i,Kl.emptySet(i),m,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class J2{constructor(){this.queries=ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Qt(i),h=l.queries;l.queries=ev(),h.forEach(((m,_)=>{for(const v of _.Sa)v.onError(r)}))})(this,new yt(nt.ABORTED,"Firestore shutting down"))}}function ev(){return new Xo((a=>a0(a)),Pf)}async function yp(a,e){const i=Qt(a);let r=3;const l=e.query;let h=i.queries.get(l);h?!h.ba()&&e.Da()&&(r=2):(h=new Z2,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(m){const _=_p(m,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(_)}i.queries.set(l,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&bp(i)}async function vp(a,e){const i=Qt(a),r=e.query;let l=3;const h=i.queries.get(r);if(h){const m=h.Sa.indexOf(e);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=e.Da()?0:1:!h.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function W2(a,e){const i=Qt(a);let r=!1;for(const l of e){const h=l.query,m=i.queries.get(h);if(m){for(const _ of m.Sa)_.Fa(l)&&(r=!0);m.wa=l}}r&&bp(i)}function tS(a,e,i){const r=Qt(a),l=r.queries.get(e);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(e)}function bp(a){a.Ca.forEach((e=>{e.next()}))}var km,nv;(nv=km||(km={})).Ma="default",nv.Cache="cache";class Ep{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.key=e}}class H0{constructor(e){this.key=e}}class eS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=o0(e),this.tu=new Kl(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new tv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,m=l,_=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,b=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,I)=>{const D=l.get(S),Q=Uf(this.query,I)?I:null,X=!!D&&this.mutatedKeys.has(D.key),ot=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let et=!1;D&&Q?D.data.isEqual(Q.data)?X!==ot&&(r.track({type:3,doc:Q}),et=!0):this.su(D,Q)||(r.track({type:2,doc:Q}),et=!0,(v&&this.eu(Q,v)>0||b&&this.eu(Q,b)<0)&&(_=!0)):!D&&Q?(r.track({type:0,doc:Q}),et=!0):D&&!Q&&(r.track({type:1,doc:D}),et=!0,(v||b)&&(_=!0)),et&&(Q?(m=m.add(Q),h=ot?h.add(S):h.delete(S)):(m=m.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const S=this.query.limitType==="F"?m.last():m.first();m=m.delete(S.key),h=h.delete(S.key),r.track({type:1,doc:S})}return{tu:m,iu:r,Cs:_,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const m=e.iu.ya();m.sort(((S,I)=>(function(Q,X){const ot=et=>{switch(et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Rt:et})}};return ot(Q)-ot(X)})(S.type,I.type)||this.eu(S.doc,I.doc))),this.ou(r),l=l??!1;const _=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,b=v!==this.Za;return this.Za=v,m.length!==0||b?{snapshot:new eu(this.query,e.tu,h,m,e.mutatedKeys,v===0,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:_}:{au:_}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=se(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new H0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new q0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=se();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return eu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class nS{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class iS{constructor(e){this.key=e,this.hu=!1}}class sS{constructor(e,i,r,l,h,m){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new Xo((_=>a0(_)),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new $e(It.comparator),this.Au=new Map,this.Ru=new op,this.Vu={},this.mu=new Map,this.fu=tu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rS(a,e,i=!0){const r=K0(a);let l;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await F0(r,e,i,!0),l}async function aS(a,e){const i=K0(a);await F0(i,e,!0,!1)}async function F0(a,e,i,r){const l=await R2(a.localStore,hr(e)),h=l.targetId,m=a.sharedClientState.addLocalQueryTarget(h,i);let _;return r&&(_=await oS(a,e,h,m==="current",l.resumeToken)),a.isPrimaryClient&&i&&L0(a.remoteStore,l),_}async function oS(a,e,i,r,l){a.pu=(I,D,Q)=>(async function(ot,et,bt,lt){let ut=et.view.ru(bt);ut.Cs&&(ut=await $y(ot.localStore,et.query,!1).then((({documents:V})=>et.view.ru(V,ut))));const vt=lt&&lt.targetChanges.get(et.targetId),gt=lt&&lt.targetMismatches.get(et.targetId)!=null,xt=et.view.applyChanges(ut,ot.isPrimaryClient,vt,gt);return sv(ot,et.targetId,xt.au),xt.snapshot})(a,I,D,Q);const h=await $y(a.localStore,e,!0),m=new eS(e,h.Qs),_=m.ru(h.documents),v=jc.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),b=m.applyChanges(_,a.isPrimaryClient,v);sv(a,i,b.au);const S=new nS(e,i,m);return a.Tu.set(e,S),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),b.snapshot}async function lS(a,e,i){const r=Qt(a),l=r.Tu.get(e),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((m=>!Pf(m,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Um(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&fp(r.remoteStore,l.targetId),Bm(r,l.targetId)})).catch(au)):(Bm(r,l.targetId),await Um(r.localStore,l.targetId,!0))}async function uS(a,e){const i=Qt(a),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),fp(i.remoteStore,r.targetId))}async function cS(a,e,i){const r=_S(a);try{const l=await(function(m,_){const v=Qt(m),b=Be.now(),S=_.reduce(((Q,X)=>Q.add(X.key)),se());let I,D;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let X=ea(),ot=se();return v.Ns.getEntries(Q,S).next((et=>{X=et,X.forEach(((bt,lt)=>{lt.isValidDocument()||(ot=ot.add(bt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,X))).next((et=>{I=et;const bt=[];for(const lt of _){const ut=CA(lt,I.get(lt.key).overlayedDocument);ut!=null&&bt.push(new po(lt.key,ut,Jv(ut.value.mapValue),ai.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,b,bt,_)})).next((et=>{D=et;const bt=et.applyToLocalDocumentSet(I,ot);return v.documentOverlayCache.saveOverlays(Q,et.batchId,bt)}))})).then((()=>({batchId:D.batchId,changes:u0(I)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(m,_,v){let b=m.Vu[m.currentUser.toKey()];b||(b=new $e(ie)),b=b.insert(_,v),m.Vu[m.currentUser.toKey()]=b})(r,l.batchId,i),await Pc(r,l.changes),await Ff(r.remoteStore)}catch(l){const h=_p(l,"Failed to persist write");i.reject(h)}}async function G0(a,e){const i=Qt(a);try{const r=await A2(i.localStore,e);e.targetChanges.forEach(((l,h)=>{const m=i.Au.get(h);m&&(he(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.hu=!0:l.modifiedDocuments.size>0?he(m.hu,14607):l.removedDocuments.size>0&&(he(m.hu,42227),m.hu=!1))})),await Pc(i,r,e)}catch(r){await au(r)}}function iv(a,e,i){const r=Qt(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,m)=>{const _=m.view.va(e);_.snapshot&&l.push(_.snapshot)})),(function(m,_){const v=Qt(m);v.onlineState=_;let b=!1;v.queries.forEach(((S,I)=>{for(const D of I.Sa)D.va(_)&&(b=!0)})),b&&bp(v)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hS(a,e,i){const r=Qt(a);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),h=l&&l.key;if(h){let m=new $e(It.comparator);m=m.insert(h,xn.newNoDocument(h,Bt.min()));const _=se().add(h),v=new Bf(Bt.min(),new Map,new $e(ie),m,_);await G0(r,v),r.du=r.du.remove(h),r.Au.delete(e),Ap(r)}else await Um(r.localStore,e,!1).then((()=>Bm(r,e,i))).catch(au)}async function fS(a,e){const i=Qt(a),r=e.batch.batchId;try{const l=await T2(i.localStore,e);Y0(i,r,null),Q0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Pc(i,l)}catch(l){await au(l)}}async function dS(a,e,i){const r=Qt(a);try{const l=await(function(m,_){const v=Qt(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(b=>{let S;return v.mutationQueue.lookupMutationBatch(b,_).next((I=>(he(I!==null,37113),S=I.keys(),v.mutationQueue.removeMutationBatch(b,I)))).next((()=>v.mutationQueue.performConsistencyCheck(b))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(b,S,_))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,S))).next((()=>v.localDocuments.getDocuments(b,S)))}))})(r.localStore,e);Y0(r,e,i),Q0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Pc(r,l)}catch(l){await au(l)}}function Q0(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function Y0(a,e,i){const r=Qt(a);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(e);h&&(i?h.reject(i):h.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Bm(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||$0(a,r)}))}function $0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(fp(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Ap(a))}function sv(a,e,i){for(const r of i)r instanceof q0?(a.Ru.addReference(r.key,e),mS(a,r)):r instanceof H0?(At(Tp,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||$0(a,r.key)):Mt(19791,{wu:r})}function mS(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(At(Tp,"New document in limbo: "+i),a.Eu.add(r),Ap(a))}function Ap(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new It(Ie.fromString(e)),r=a.fu.next();a.Au.set(r,new iS(i)),a.du=a.du.insert(i,r),L0(a.remoteStore,new Za(hr(Lf(i.path)),r,"TargetPurposeLimboResolution",Mf.ce))}}async function Pc(a,e,i){const r=Qt(a),l=[],h=[],m=[];r.Tu.isEmpty()||(r.Tu.forEach(((_,v)=>{m.push(r.pu(v,e,i).then((b=>{if((b||i)&&r.isPrimaryClient){const S=b?!b.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(b){l.push(b);const S=up.As(v.targetId,b);h.push(S)}})))})),await Promise.all(m),r.Pu.H_(l),await(async function(v,b){const S=Qt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>at.forEach(b,(D=>at.forEach(D.Es,(Q=>S.persistence.referenceDelegate.addReference(I,D.targetId,Q))).next((()=>at.forEach(D.ds,(Q=>S.persistence.referenceDelegate.removeReference(I,D.targetId,Q)))))))))}catch(I){if(!ou(I))throw I;At(cp,"Failed to update sequence numbers: "+I)}for(const I of b){const D=I.targetId;if(!I.fromCache){const Q=S.Ms.get(D),X=Q.snapshotVersion,ot=Q.withLastLimboFreeSnapshotVersion(X);S.Ms=S.Ms.insert(D,ot)}}})(r.localStore,h))}async function pS(a,e){const i=Qt(a);if(!i.currentUser.isEqual(e)){At(Tp,"User change. New user:",e.toKey());const r=await V0(i.localStore,e);i.currentUser=e,(function(h,m){h.mu.forEach((_=>{_.forEach((v=>{v.reject(new yt(nt.CANCELLED,m))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pc(i,r.Ls)}}function gS(a,e){const i=Qt(a),r=i.Au.get(e);if(r&&r.hu)return se().add(r.key);{let l=se();const h=i.Iu.get(e);if(!h)return l;for(const m of h){const _=i.Tu.get(m);l=l.unionWith(_.view.nu)}return l}}function K0(a){const e=Qt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hS.bind(null,e),e.Pu.H_=W2.bind(null,e.eventManager),e.Pu.yu=tS.bind(null,e.eventManager),e}function _S(a){const e=Qt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dS.bind(null,e),e}class Df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return E2(this.persistence,new y2,e.initialUser,this.serializer)}Cu(e){return new O0(lp.mi,this.serializer)}Du(e){return new x2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Df.provider={build:()=>new Df};class yS extends Df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){he(this.persistence.referenceDelegate instanceof Cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new i2(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Ci.withCacheSize(this.cacheSizeBytes):Ci.DEFAULT;return new O0((r=>Cf.mi(r,i)),this.serializer)}}class qm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pS.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new J2})()}createDatastore(e){const i=qf(e.databaseInfo.databaseId),r=(function(h){return new V2(h)})(e.databaseInfo);return(function(h,m,_,v){return new P2(h,m,_,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,h,m,_){return new z2(r,l,h,m,_)})(this.localStore,this.datastore,e.asyncQueue,(i=>iv(this.syncEngine,i,0)),(function(){return Zy.v()?new Zy:new D2})())}createSyncEngine(e,i){return(function(l,h,m,_,v,b,S){const I=new sS(l,h,m,_,v,b);return S&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Qt(i);At(Ko,"RemoteStore shutting down."),r.Ea.add(5),await Lc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new yt(nt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,h){const m=Qt(l),_={documents:h.map((I=>Rf(m.serializer,I)))},v=await m.Ho("BatchGetDocuments",m.serializer.databaseId,Ie.emptyPath(),_,h.length),b=new Map;v.forEach((I=>{const D=kA(m.serializer,I);b.set(D.key.toString(),D)}));const S=[];return h.forEach((I=>{const D=b.get(I.toString());he(!!D,55234,{key:I}),S.push(D)})),S})(this.datastore,e);return i.forEach((r=>this.recordVersion(r))),i}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ip(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((i=>{e.delete(i.key.toString())})),e.forEach(((i,r)=>{const l=It.fromPath(r);this.mutations.push(new y0(l,this.precondition(l)))})),await(async function(r,l){const h=Qt(r),m={writes:l.map((_=>C0(h.serializer,_)))};await h.Go("Commit",h.serializer.databaseId,Ie.emptyPath(),m)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Mt(50498,{Gu:e.constructor.name});i=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!i.isEqual(r))throw new yt(nt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){const i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(Bt.min())?ai.exists(!1):ai.updateTime(i):ai.none()}preconditionForUpdate(e){const i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(Bt.min()))throw new yt(nt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ai.updateTime(i)}return ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,i,r,l,h){this.asyncQueue=e,this.datastore=i,this.options=r,this.updateFunction=l,this.deferred=h,this.zu=r.maxAttempts,this.M_=new hp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new vS(this.datastore),i=this.Hu(e);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((l=>{this.Yu(l)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const i=this.updateFunction(e);return!Oc(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!v0(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="FirestoreClient";class ES{constructor(e,i,r,l,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=$n.UNAUTHENTICATED,this.clientId=Xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async m=>{At(co,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(r,(m=>(At(co,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=_p(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Em(a,e){a.asyncQueue.verifyOperationInProgress(),At(co,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await V0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function rv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await TS(a);At(co,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Wy(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>Wy(e.remoteStore,l))),a._onlineComponents=e}async function TS(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){At(co,"Using user provided OfflineComponentProvider");try{await Em(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xl("Error using user provided cache. Falling back to memory cache: "+i),await Em(a,new Df)}}else At(co,"Using default OfflineComponentProvider"),await Em(a,new yS(void 0));return a._offlineComponents}async function wp(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(At(co,"Using user provided OnlineComponentProvider"),await rv(a,a._uninitializedComponentsProvider._online)):(At(co,"Using default OnlineComponentProvider"),await rv(a,new qm))),a._onlineComponents}function AS(a){return wp(a).then((e=>e.syncEngine))}function SS(a){return wp(a).then((e=>e.datastore))}async function Nf(a){const e=await wp(a),i=e.eventManager;return i.onListen=rS.bind(null,e.syncEngine),i.onUnlisten=lS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=aS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=uS.bind(null,e.syncEngine),i}function wS(a,e,i={}){const r=new cr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,m,_,v,b){const S=new Sp({next:D=>{S.Nu(),m.enqueueAndForget((()=>vp(h,I)));const Q=D.docs.has(_);!Q&&D.fromCache?b.reject(new yt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&D.fromCache&&v&&v.source==="server"?b.reject(new yt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(D)},error:D=>b.reject(D)}),I=new Ep(Lf(_.path),S,{includeMetadataChanges:!0,qa:!0});return yp(h,I)})(await Nf(a),a.asyncQueue,e,i,r))),r.promise}function RS(a,e,i={}){const r=new cr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,m,_,v,b){const S=new Sp({next:D=>{S.Nu(),m.enqueueAndForget((()=>vp(h,I))),D.fromCache&&v.source==="server"?b.reject(new yt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(D)},error:D=>b.reject(D)}),I=new Ep(_,S,{includeMetadataChanges:!0,qa:!0});return yp(h,I)})(await Nf(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="firestore.googleapis.com",ov=!0;class lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new yt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z0,this.ssl=ov}else this.host=e.host,this.ssl=e.ssl??ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e2)throw new yt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new yt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NT;switch(r.type){case"firstParty":return new MT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=av.get(i);r&&(At("ComponentProvider","Removing Datastore"),av.delete(i),r.terminate())})(this),Promise.resolve()}}function CS(a,e,i,r={}){a=Yi(a,Gf);const l=Ym(e),h=a._getSettings(),m={...h,emulatorOptions:a._getEmulatorOptions()},_=`${e}:${i}`;l&&(i1(`https://${_}`),o1("Firestore",!0)),h.host!==Z0&&h.host!==_&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:_,ssl:l,emulatorOptions:r};if(!gf(v,m)&&(a._setSettings(v),r.mockUserToken)){let b,S;if(typeof r.mockUserToken=="string")b=r.mockUserToken,S=$n.MOCK_USER;else{b=s1(r.mockUserToken,a._app?.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new yt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new $n(I)}a._authCredentials=new IT(new kv(b,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Ye{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Ic(i,Ye._jsonSchema))return new Ye(e,r||null,new It(Ie.fromString(i.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:mn("string",Ye._jsonSchemaVersion),referencePath:mn("string")};class no extends Jo{constructor(e,i,r){super(e,i,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new It(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function ur(a,e,...i){if(a=cs(a),Bv("collection","path",e),a instanceof Gf){const r=Ie.fromString(e,...i);return Ey(r),new no(a,null,r)}{if(!(a instanceof Ye||a instanceof no))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ie.fromString(e,...i));return Ey(r),new no(a.firestore,null,r)}}function io(a,e,...i){if(a=cs(a),arguments.length===1&&(e=Xm.newId()),Bv("doc","path",e),a instanceof Gf){const r=Ie.fromString(e,...i);return by(r),new Ye(a,null,new It(r))}{if(!(a instanceof Ye||a instanceof no))throw new yt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Ie.fromString(e,...i));return by(r),new Ye(a.firestore,a instanceof no?a.converter:null,new It(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="AsyncQueue";class cv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hp(this,"async_queue_retry"),this._c=()=>{const r=bm();r&&At(uv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=bm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=bm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ou(e))throw e;At(uv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",hv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=gp.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Mt(47125,{Pc:hv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function hv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(a,["next","error","complete"])}class ho extends Gf{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new cv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cv(e),this._firestoreClient=void 0,await e}}}function xS(a,e){const i=typeof a=="object"?a:_T(),r=typeof a=="string"?a:bf,l=fT(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=e1("firestore");h&&CS(l,...h)}return l}function Uc(a){if(a._terminated)throw new yt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||DS(a),a._firestoreClient}function DS(a){const e=a._freezeSettings(),i=(function(l,h,m,_){return new ZT(l,h,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,X0(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new ES(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gi(Bn.fromBase64String(e))}catch(i){throw new yt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Gi(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ic(e,Gi._jsonSchema))return Gi.fromBase64String(e.bytes)}}Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:mn("string",Gi._jsonSchemaVersion),bytes:mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new yt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new yt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new yt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(Ic(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:mn("string",fr._jsonSchemaVersion),latitude:mn("number"),longitude:mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ic(e,dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new dr(e.vectorValues);throw new yt(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:mn("string",dr._jsonSchemaVersion),vectorValues:mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=/^__.*__$/;class IS{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,i,this.fieldTransforms):new Mc(e,this.data,i,this.fieldTransforms)}}class J0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new po(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function W0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{Ac:a})}}class Rp{constructor(e,i,r,l,h,m){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return If(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(W0(this.Ac)&&NS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OS{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||qf(e)}Cc(e,i,r,l=!1){return new Rp({Ac:e,methodName:i,Dc:r,path:kn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yf(a){const e=a._freezeSettings(),i=qf(a._databaseId);return new OS(a._databaseId,!!e.ignoreUndefinedProperties,i)}function tb(a,e,i,r,l,h={}){const m=a.Cc(h.merge||h.mergeFields?2:0,e,i,l);xp("Data must be an object, but it was:",m,r);const _=ib(r,m);let v,b;if(h.merge)v=new Qi(m.fieldMask),b=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const I of h.mergeFields){const D=Hm(e,I,i);if(!m.contains(D))throw new yt(nt.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);rb(S,D)||S.push(D)}v=new Qi(S),b=m.fieldTransforms.filter((I=>v.covers(I.field)))}else v=null,b=m.fieldTransforms;return new IS(new ri(_),v,b)}class $f extends Qf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $f}}class Cp extends Qf{_toFieldTransform(e){return new AA(e.path,new Rc)}isEqual(e){return e instanceof Cp}}function eb(a,e,i,r){const l=a.Cc(1,e,i);xp("Data must be an object, but it was:",l,r);const h=[],m=ri.empty();mo(r,((v,b)=>{const S=Dp(e,v,i);b=cs(b);const I=l.yc(S);if(b instanceof $f)h.push(S);else{const D=kc(b,I);D!=null&&(h.push(S),m.set(S,D))}}));const _=new Qi(h);return new J0(m,_,l.fieldTransforms)}function nb(a,e,i,r,l,h){const m=a.Cc(1,e,i),_=[Hm(e,r,i)],v=[l];if(h.length%2!=0)throw new yt(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<h.length;D+=2)_.push(Hm(e,h[D])),v.push(h[D+1]);const b=[],S=ri.empty();for(let D=_.length-1;D>=0;--D)if(!rb(b,_[D])){const Q=_[D];let X=v[D];X=cs(X);const ot=m.yc(Q);if(X instanceof $f)b.push(Q);else{const et=kc(X,ot);et!=null&&(b.push(Q),S.set(Q,et))}}const I=new Qi(b);return new J0(S,I,m.fieldTransforms)}function VS(a,e,i,r=!1){return kc(i,a.Cc(r?4:3,e))}function kc(a,e){if(sb(a=cs(a)))return xp("Unsupported field value:",e,a),ib(a,e);if(a instanceof Qf)return(function(r,l){if(!W0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let m=0;for(const _ of r){let v=kc(_,l.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}})(a,e)}return(function(r,l){if((r=cs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bA(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Be.fromDate(r);return{timestampValue:wf(l.serializer,h)}}if(r instanceof Be){const h=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(l.serializer,h)}}if(r instanceof fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gi)return{bytesValue:A0(l.serializer,r._byteString)};if(r instanceof Ye){const h=l.databaseId,m=r.firestore._databaseId;if(!m.isEqual(h))throw l.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ap(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof dr)return(function(m,_){return{mapValue:{fields:{[Xv]:{stringValue:Zv},[Ef]:{arrayValue:{values:m.toArray().map((b=>{if(typeof b!="number")throw _.Sc("VectorValues must only contain numeric values.");return np(_.serializer,b)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Vf(r)}`)})(a,e)}function ib(a,e){const i={};return Fv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(a,((r,l)=>{const h=kc(l,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function sb(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Be||a instanceof fr||a instanceof Gi||a instanceof Ye||a instanceof Qf||a instanceof dr)}function xp(a,e,i){if(!sb(i)||!qv(i)){const r=Vf(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function Hm(a,e,i){if((e=cs(e))instanceof zc)return e._internalPath;if(typeof e=="string")return Dp(a,e);throw If("Field path arguments must be of type string or ",a,!1,void 0,i)}const MS=new RegExp("[~\\*/\\[\\]]");function Dp(a,e,i){if(e.search(MS)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new zc(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function If(a,e,i,r,l){const h=r&&!r.isEmpty(),m=l!==void 0;let _=`Function ${e}() called with invalid data`;i&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${r}`),m&&(v+=` in document ${l}`),v+=")"),new yt(nt.INVALID_ARGUMENT,_+a+v)}function rb(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,i,r,l,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Np("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jS extends Of{data(){return super.data()}}function Np(a,e){return typeof e=="string"?Dp(a,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new yt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ip{}class LS extends Ip{}function nu(a,e,...i){let r=[];e instanceof Ip&&r.push(e),r=r.concat(i),(function(h){const m=h.filter((v=>v instanceof Op)).length,_=h.filter((v=>v instanceof Kf)).length;if(m>1||m>0&&_>0)throw new yt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)a=l._apply(a);return a}class Kf extends LS{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Kf(e,i,r)}_apply(e){const i=this._parse(e);return ob(e._query,i),new Jo(e.firestore,e.converter,Vm(e._query,i))}_parse(e){const i=Yf(e.firestore);return(function(h,m,_,v,b,S,I){let D;if(b.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new yt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){mv(I,S);const X=[];for(const ot of I)X.push(dv(v,h,ot));D={arrayValue:{values:X}}}else D=dv(v,h,I)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||mv(I,S),D=VS(_,m,I,S==="in"||S==="not-in");return dn.create(b,S,D)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function iu(a,e,i){const r=e,l=Np("where",a);return Kf._create(l,r,i)}class Op extends Ip{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Op(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Os.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,h){let m=l;const _=h.getFlattenedFilters();for(const v of _)ob(m,v),m=Vm(m,v)})(e._query,i),new Jo(e.firestore,e.converter,Vm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dv(a,e,i){if(typeof(i=cs(i))=="string"){if(i==="")throw new yt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&i.indexOf("/")!==-1)throw new yt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Ie.fromString(i));if(!It.isDocumentKey(r))throw new yt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dy(a,new It(r))}if(i instanceof Ye)return Dy(a,i._key);throw new yt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(i)}.`)}function mv(a,e){if(!Array.isArray(a)||a.length===0)throw new yt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ob(a,e){const i=(function(l,h){for(const m of l)for(const _ of m.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null})(a.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new yt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class lb{convertValue(e,i="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return mo(e,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[Ef].arrayValue?.values?.map((r=>an(r.doubleValue)));return new dr(i)}convertGeoPoint(e){return new fr(an(e.latitude),an(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=jf(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ac(e));default:return null}}convertTimestamp(e){const i=ao(e);return new Be(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Ie.fromString(e);he(N0(r),9688,{name:e});const l=new Sc(r.get(1),r.get(3)),h=new It(r.popFirst(5));return l.isEqual(i)||ta(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a,e,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,r}class PS extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,i)}}class Yl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends Of{constructor(e,i,r,l,h,m){super(e,i,r,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new hf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Np("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=so._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:mn("string",so._jsonSchemaVersion),bundleSource:mn("string","DocumentSnapshot"),bundleName:mn("string"),bundle:mn("string")};class hf extends so{data(e={}){return super.data(e)}}class Yo{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Yl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new hf(this._firestore,this._userDataWriter,r.key,r,new Yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new yt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map((_=>{const v=new hf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new Yl(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((_=>h||_.type!==3)).map((_=>{const v=new hf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new Yl(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let b=-1,S=-1;return _.type!==0&&(b=m.indexOf(_.doc.key),m=m.delete(_.doc.key)),_.type!==1&&(m=m.add(_.doc),S=m.indexOf(_.doc.key)),{type:US(_.type),doc:v,oldIndex:b,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function US(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(a){a=Yi(a,Ye);const e=Yi(a.firestore,ho);return wS(Uc(e),a._key).then((i=>db(e,a,i)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:mn("string",Yo._jsonSchemaVersion),bundleSource:mn("string","QuerySnapshot"),bundleName:mn("string"),bundle:mn("string")};class Xf extends lb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,i)}}function Dc(a){a=Yi(a,Jo);const e=Yi(a.firestore,ho),i=Uc(e),r=new Xf(e);return ab(a._query),RS(i,a._query).then((l=>new Yo(e,r,a,l)))}function hb(a,e,i){a=Yi(a,Ye);const r=Yi(a.firestore,ho),l=ub(a.converter,e,i);return fb(r,[tb(Yf(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ai.none())])}function Vp(a,e,i,...r){a=Yi(a,Ye);const l=Yi(a.firestore,ho),h=Yf(l);let m;return m=typeof(e=cs(e))=="string"||e instanceof zc?nb(h,"updateDoc",a._key,e,i,r):eb(h,"updateDoc",a._key,e),fb(l,[m.toMutation(a._key,ai.exists(!0))])}function Zf(a,...e){a=cs(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||fv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fv(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,m,_;if(a instanceof Ye)m=Yi(a.firestore,ho),_=Lf(a._key.path),h={next:v=>{e[r]&&e[r](db(m,a,v))},error:e[r+1],complete:e[r+2]};else{const v=Yi(a,Jo);m=Yi(v.firestore,ho),_=v._query;const b=new Xf(m);h={next:S=>{e[r]&&e[r](new Yo(m,b,v,S))},error:e[r+1],complete:e[r+2]},ab(a._query)}return(function(b,S,I,D){const Q=new Sp(D),X=new Ep(S,Q,I);return b.asyncQueue.enqueueAndForget((async()=>yp(await Nf(b),X))),()=>{Q.Nu(),b.asyncQueue.enqueueAndForget((async()=>vp(await Nf(b),X)))}})(Uc(m),_,l,h)}function fb(a,e){return(function(r,l){const h=new cr;return r.asyncQueue.enqueueAndForget((async()=>cS(await AS(r),l,h))),h.promise})(Uc(a),e)}function db(a,e,i){const r=i.docs.get(e._key),l=new Xf(a);return new so(a,l,e._key,r,new Yl(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS={maxAttempts:5};function dc(a,e){if((a=cs(a)).firestore!==e)throw new yt(nt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Yf(e)}get(e){const i=dc(e,this._firestore),r=new PS(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return Mt(24041);const h=l[0];if(h.isFoundDocument())return new Of(this._firestore,r,h.key,h,i.converter);if(h.isNoDocument())return new Of(this._firestore,r,i._key,null,i.converter);throw Mt(18433,{doc:h})}))}set(e,i,r){const l=dc(e,this._firestore),h=ub(l.converter,i,r),m=tb(this._dataReader,"Transaction.set",l._key,h,l.converter!==null,r);return this._transaction.set(l._key,m),this}update(e,i,r,...l){const h=dc(e,this._firestore);let m;return m=typeof(i=cs(i))=="string"||i instanceof zc?nb(this._dataReader,"Transaction.update",h._key,i,r,l):eb(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,m),this}delete(e){const i=dc(e,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends kS{constructor(e,i){super(e,i),this._firestore=e}get(e){const i=dc(e,this._firestore),r=new Xf(this._firestore);return super.get(e).then((l=>new so(this._firestore,r,i._key,l._document,new Yl(!1,!1),i.converter)))}}function qS(a,e,i){a=Yi(a,ho);const r={...zS,...i};return(function(h){if(h.maxAttempts<1)throw new yt(nt.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(h,m,_){const v=new cr;return h.asyncQueue.enqueueAndForget((async()=>{const b=await SS(h);new bS(h.asyncQueue,b,_,m,v).ju()})),v.promise})(Uc(a),(l=>e(new BS(a,l))),r)}function Nc(){return new Cp("serverTimestamp")}(function(e,i=!0){(function(l){ru=l})(gT),yf(new bc("firestore",((r,{instanceIdentifier:l,options:h})=>{const m=r.getProvider("app").getImmediate(),_=new ho(new OT(r.getProvider("auth-internal")),new jT(m,r.getProvider("app-check-internal")),(function(b,S){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new yt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(b.options.projectId,S)})(m,l),m);return h={useFetchStreams:i,...h},_._setSettings(h),_}),"PUBLIC").setMultipleInstances(!0)),$l(gy,_y,e),$l(gy,_y,"esm2020")})();const HS={apiKey:"AIzaSyCjVH_5a59d_kewT3-HD0ptSmJPeyrmnmM",authDomain:"gestion-pacientes-2194a.firebaseapp.com",projectId:"gestion-pacientes-2194a",storageBucket:"gestion-pacientes-2194a.firebasestorage.app",messagingSenderId:"148156220633",appId:"1:148156220633:web:2c129f6bd15c03645aeac8",measurementId:"G-Q6EKRMDRBE"},FS=Nv(HS),Dn=xS(FS);function GS({setActiveTab:a}){const[e,i]=Ot.useState([]),[r,l]=Ot.useState(new Map),[h,m]=Ot.useState(""),[_,v]=Ot.useState("todas");Ot.useEffect(()=>{const D=nu(ur(Dn,"citas"),iu("estado","==","en_espera")),Q=Zf(D,async X=>{const ot=X.docs.map(lt=>({id:lt.id,...lt.data()}));i(ot);const et=new Set(ot.map(lt=>lt.pacienteId||lt.pacienteExpediente)),bt=new Map(r);for(const lt of et)if(!bt.has(lt))try{const ut=io(Dn,"pacientes",lt),vt=await cb(ut);vt.exists()&&bt.set(lt,vt.data())}catch(ut){console.error("Error cargando paciente",lt,ut)}l(bt)});return()=>Q()},[]);const b={alta:0,media:1,baja:2},S=D=>{switch(D){case"alta":return{bg:"danger",text:"white"};case"media":return{bg:"warning",text:"black"};case"baja":return{bg:"primary",text:"white"};default:return{bg:"secondary",text:"white"}}},I=Ot.useMemo(()=>{const Q=e.map(X=>{let ot="",et="";if(X.fecha&&X.horario)ot=new Date(X.fecha).toLocaleDateString(),et=X.horario;else if(X.fechaHora){const lt=new Date(X.fechaHora);ot=lt.toLocaleDateString(),et=lt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}const bt=r.get(X.pacienteId||X.pacienteExpediente)||{};return{id:X.id,expediente:X.pacienteExpediente||X.pacienteId,nombre:X.pacienteNombre||bt.nombre||"",edad:bt.edad??"",prioridad:(X.prioridad||"media").toLowerCase(),fecha:ot,hora:et,doctor:X.doctorNombre||""}}).filter(X=>_==="todas"||X.prioridad===_?h.trim()?`${X.nombre} ${X.expediente} ${X.doctor}`.toLowerCase().includes(h.trim().toLowerCase()):!0:!1);return Q.sort((X,ot)=>{const et=b[X.prioridad]??1,bt=b[ot.prioridad]??1;if(et!==bt)return et-bt;const lt=X.fecha?Date.parse(X.fecha):1/0,ut=ot.fecha?Date.parse(ot.fecha):1/0;return lt!==ut?lt-ut:String(X.expediente).localeCompare(String(ot.expediente))}),Q},[e,r,h,_]);return R.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[R.jsx("h2",{className:"text-center mb-4",children:"Lista de Espera"}),R.jsx("div",{className:"card mb-3",children:R.jsxs("div",{className:"card-body d-flex gap-2 flex-wrap align-items-center",children:[R.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar por nombre, expediente o doctor",value:h,onChange:D=>m(D.target.value),style:{minWidth:240}}),R.jsxs("select",{className:"form-select",style:{width:180},value:_,onChange:D=>v(D.target.value),children:[R.jsx("option",{value:"todas",children:"Todas las prioridades"}),R.jsx("option",{value:"alta",children:"Alta"}),R.jsx("option",{value:"media",children:"Media"}),R.jsx("option",{value:"baja",children:"Baja"})]}),R.jsxs("span",{className:"ms-auto text-muted small",children:["Mostrando ",I.length," de ",e.length]})]})}),R.jsxs("table",{className:"table table-hover table-lg align-middle text-center",children:[R.jsx("thead",{className:"table-dark",children:R.jsxs("tr",{children:[R.jsx("th",{children:"Expediente"}),R.jsx("th",{children:"Nombre"}),R.jsx("th",{children:"Edad"}),R.jsx("th",{children:"Prioridad"}),R.jsx("th",{children:"Fecha"}),R.jsx("th",{children:"Hora"}),R.jsx("th",{children:"Doctor"})]})}),R.jsx("tbody",{children:I.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:7,className:"text-center",children:"Sin citas en espera "})}):I.map(D=>{const Q=S(D.prioridad);return R.jsxs("tr",{className:`table-${Q.bg}`,children:[R.jsx("td",{children:D.expediente}),R.jsx("td",{children:D.nombre}),R.jsx("td",{children:D.edad}),R.jsx("td",{children:R.jsx("span",{className:`badge bg-${Q.bg} text-${Q.text}`,children:D.prioridad.toUpperCase()})}),R.jsx("td",{children:D.fecha}),R.jsx("td",{children:D.hora}),R.jsx("td",{children:D.doctor})]},D.id)})})]}),R.jsxs("div",{className:"d-flex justify-content-center gap-3 mt-4",children:[R.jsxs("button",{className:"btn btn-info px-4 d-flex align-items-center gap-2",onClick:()=>a("atender"),children:[R.jsx(Tv,{}),"Atender Pacientes"]}),R.jsxs("button",{className:"btn btn-success px-4 d-flex align-items-center gap-2",onClick:()=>a("historial"),children:[R.jsx(Ev,{}),"Ver Historial"]})]})]})}const QS="/Sistema-de-Gestion-de-Cola/assets/default-B0IDNZYm.png",YS="/Sistema-de-Gestion-de-Cola/assets/juan-perez-8N-wixsF.png",$S=Object.assign({"/src/assets/doctores/default.png":QS,"/src/assets/doctores/juan-perez.png":YS}),pv=Object.fromEntries(Object.entries($S).map(([a,e])=>[a.split("/").pop().toLowerCase(),e])),mb="data:image/svg+xml;utf8,"+encodeURIComponent(`
    <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'>
      <defs>
        <linearGradient id='g' x1='0' x2='0' y1='0' y2='1'>
          <stop offset='0%' stop-color='#2a2a2a'/>
          <stop offset='100%' stop-color='#1a1a1a'/>
        </linearGradient>
      </defs>
      <rect width='128' height='128' fill='url(#g)'/>
      <circle cx='64' cy='46' r='22' fill='#ffffff'/>
      <path d='M16 118c6-26 28-38 48-38s42 12 48 38' fill='#ffffff'/>
    </svg>
  `),Fm=(a="")=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),KS=[{id:"dp-001",nombre:"Juan Prez",area:"Cardiologa",telefono:"9999-0001",edificio:"Torre A",consultorio:"A-203",foto:"default.png"},{id:"dp-002",nombre:"Mara Gmez",area:"Pediatra",telefono:"9999-0002",edificio:"Torre B",consultorio:"B-105",foto:"default.png"},{id:"dp-003",nombre:"Carlos Ramrez",area:"Dermatologa",telefono:"9999-0003",edificio:"Torre A",consultorio:"A-310",foto:"default.png"}];function XS({nombre:a,id:e,foto:i}){if(i){const h=typeof i=="string"?i.toLowerCase():i,m=pv[h];if(m)return m;if(typeof i=="string"&&/^https?:\/\//i.test(i))return i;if(typeof i=="string"&&(i.startsWith("/assets/")||i.startsWith("assets/")))return i.startsWith("/")?i:`/${i}`;if(typeof i=="string"&&!i.includes("/"))return`/assets/doctores/${i}`}const r=Fm(a||""),l=[`${r}.jpg`,`${r}.jpeg`,`${r}.png`,`${r}.webp`,`${r}.svg`,e?`${e}.jpg`:null,e?`${e}.jpeg`:null,e?`${e}.png`:null,e?`${e}.webp`:null,e?`${e}.svg`:null,"default.jpg","default.jpeg","default.png","default.webp","default.svg"].filter(Boolean);for(const h of l){const m=pv[h.toLowerCase()];if(m)return m}return mb}function ZS(){const[a,e]=Ot.useState([]);return Ot.useEffect(()=>{(async()=>{let i=[...KS];try{const l=(await Dc(ur(Dn,"doctores"))).docs.map(h=>({id:h.id,...h.data()}));if(l.length>0){const h=new Map(i.map(_=>[_.id,_])),m=new Map(i.map(_=>[Fm(_.nombre),_]));for(const _ of l){const v=_.id,b=Fm(_.nombre||""),S=h.get(v),I=m.get(b);if(S)h.set(v,{...S,..._,foto:S.foto??_.foto});else if(I){const D=I,Q={...D,..._,foto:D.foto??_.foto};h.set(Q.id,Q)}else h.set(v,_)}i=Array.from(h.values())}}catch(r){console.warn("No se pudo cargar desde Firebase, usando lista local:",r)}e(i)})()},[]),R.jsxs("div",{className:"container-fluid min-vh-100 d-flex flex-column",children:[R.jsx("h2",{className:"text-center my-4",children:"Listado de Doctores"}),R.jsxs("div",{className:"row flex-grow-1",children:[a.map(i=>R.jsx("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 d-flex align-items-stretch",children:R.jsxs("div",{className:"card bg-dark text-light mb-4 shadow-sm w-100",children:[R.jsx("div",{className:"ratio ratio-4x3 bg-black",children:R.jsx("img",{src:XS(i),alt:`Foto de ${i.nombre||"doctor/a"}`,className:"w-100 h-100",style:{objectFit:"contain"},loading:"lazy",onError:r=>{r.currentTarget.src=mb}})}),R.jsxs("div",{className:"card-body d-flex flex-column",children:[R.jsx("h5",{className:"card-title mb-2",children:i.nombre}),R.jsxs("p",{className:"card-text mb-2 flex-grow-1",children:[R.jsx("strong",{children:"rea:"})," ",i.area||""," ",R.jsx("br",{}),R.jsx("strong",{children:"Telfono:"})," ",i.telefono||""," ",R.jsx("br",{}),R.jsx("strong",{children:"Edificio:"})," ",i.edificio||""," ",R.jsx("br",{}),R.jsx("strong",{children:"Consultorio:"})," ",i.consultorio||""]}),i.horarios&&i.horarios.length>0&&R.jsxs("div",{className:"mt-2",children:[R.jsx("strong",{children:"Horario:"}),R.jsxs("p",{className:"ms-2",children:[" ",i.horarios[0].split(" - ")[0]," - ",i.horarios[i.horarios.length-1].split(" - ")[1]]})]})]})]})},i.id)),a.length===0&&R.jsx("div",{className:"col-12",children:R.jsx("div",{className:"alert alert-warning text-center",children:"No hay doctores para mostrar."})})]})]})}function JS(){const[a,e]=Ot.useState({nombre:"",fechaNacimiento:"",edad:"",ciudad:"",direccion:""}),[i,r]=Ot.useState(""),[l,h]=Ot.useState(!1),m=(b,S=6)=>String(b).padStart(S,"0");Ot.useEffect(()=>{(async()=>{try{const b=io(Dn,"counters","pacientes"),S=await cb(b),I=S.exists()&&S.data().lastExpediente||0;r(m(I+1))}catch(b){console.warn("No se pudo leer el contador de expedientes:",b),r("")}})()},[]);const _=b=>{e({...a,[b.target.name]:b.target.value})},v=async b=>{b.preventDefault(),h(!0);try{const S=await qS(Dn,async Q=>{const X=io(Dn,"counters","pacientes"),ot=await Q.get(X);let et=0;ot.exists()&&(et=ot.data().lastExpediente||0);const bt=et+1;return Q.set(X,{lastExpediente:bt},{merge:!0}),bt}),I=m(S),D=io(Dn,"pacientes",I);await hb(D,{expediente:I,...a,createdAt:Nc()}),alert(` Paciente agregado. Expediente: ${I}`),e({nombre:"",fechaNacimiento:"",edad:"",ciudad:"",direccion:""}),r(m(S+1))}catch(S){console.error(" Error:",S),alert("Error: revisa la consola")}finally{h(!1)}};return R.jsxs("form",{onSubmit:v,style:{textAlign:"left",maxWidth:400,margin:"0 auto"},children:[R.jsx("h2",{className:"text-center mb-3",children:"Formulario de Pacientes"}),R.jsxs("div",{className:"alert alert-info py-2",children:[R.jsx("strong",{children:"Siguiente expediente:"})," ",R.jsx("span",{className:"badge bg-primary",children:i})]}),R.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre completo",className:"form-control mb-2",value:a.nombre,onChange:_,required:!0}),R.jsx("input",{type:"date",name:"fechaNacimiento",className:"form-control mb-2",value:a.fechaNacimiento,onChange:_,required:!0}),R.jsx("input",{type:"number",name:"edad",placeholder:"Edad",className:"form-control mb-2",value:a.edad,onChange:_,required:!0,min:"0"}),R.jsx("input",{type:"text",name:"ciudad",placeholder:"Ciudad",className:"form-control mb-2",value:a.ciudad,onChange:_,required:!0}),R.jsx("textarea",{name:"direccion",placeholder:"Direccin exacta",className:"form-control mb-3",rows:3,value:a.direccion,onChange:_,required:!0}),R.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:l,children:l?"Guardando...":"Guardar Paciente"})]})}function WS(){const[a,e]=Ot.useState(""),[i,r]=Ot.useState([]),[l,h]=Ot.useState([]),[m,_]=Ot.useState(null),[v,b]=Ot.useState([]),[S,I]=Ot.useState(!1),[D,Q]=Ot.useState("");Ot.useEffect(()=>{(async()=>{try{const vt=(await Dc(ur(Dn,"pacientes"))).docs.map(gt=>({id:gt.id,...gt.data()}));r(vt)}catch(ut){console.error("Error cargando pacientes",ut)}})()},[]);const X=()=>{e(""),_(null),b([]),h([]),Q("")},ot=lt=>{const ut=lt.target.value;if(e(ut),!ut.trim()){h([]);return}const vt=ut.toLowerCase(),gt=i.filter(xt=>String(xt.expediente||"").toLowerCase().includes(vt)||String(xt.nombre||"").toLowerCase().includes(vt));h(gt.slice(0,8))},et=async lt=>{_(lt),e(`${lt.expediente} - ${lt.nombre}`),h([]),I(!0),Q("");try{const ut=nu(ur(Dn,"citas"),iu("estado","==","en_espera"),iu("pacienteId","==",lt.id)),gt=(await Dc(ut)).docs.map(xt=>({id:xt.id,...xt.data()}));b(gt)}catch(ut){console.error(ut),Q("Error buscando citas del paciente.")}finally{I(!1)}},bt=async(lt,ut)=>{const gt=v.find(V=>V.id===lt).prioridad,xt=ut.prioridad;if(!(xt&&gt!==xt&&!window.confirm(`Est a punto de cambiar prioridad de ${gt.toUpperCase()} a ${xt.toUpperCase()}?

Desea continuar?`)))try{const V=io(Dn,"citas",lt),x={...ut,updatedAt:Nc()};ut.atendido&&(x.estado="atendida",x.atendidoAt=Nc()),await Vp(V,x),b(N=>N.map(j=>j.id===lt?{...j,...x}:j)),alert(xt&&gt!==xt?`Prioridad actualizada correctamente!

Cambio de prioridad: ${gt.toUpperCase()}  ${xt.toUpperCase()}`:"Cita actualizada correctamente")}catch(V){console.error(V),alert("Error al actualizar cita. Revisa la consola")}};return R.jsxs("div",{style:{maxWidth:700,margin:"0 auto"},children:[R.jsx("h2",{className:"text-center mb-3",children:"Modificar Citas / Cambiar Prioridades"}),R.jsxs("div",{className:"mb-3 position-relative",children:[R.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar expediente o nombre...",value:a,onChange:ot}),l.length>0&&R.jsx("ul",{className:"list-group position-absolute w-100",style:{zIndex:1e3},children:l.map(lt=>R.jsxs("li",{className:"list-group-item list-group-item-action",style:{cursor:"pointer"},onClick:()=>et(lt),children:[lt.expediente,"  ",lt.nombre," (",lt.edad||"Edad N/D",")"]},lt.id))})]}),R.jsx("div",{className:"d-flex gap-2 mb-3",children:R.jsx("button",{className:"btn btn-outline-secondary",onClick:X,children:"Limpiar"})}),D&&R.jsx("div",{className:"alert alert-danger",children:D}),m&&R.jsx("div",{className:"card mb-3",children:R.jsxs("div",{className:"card-body",children:[R.jsxs("p",{children:[R.jsx("strong",{children:"Expediente:"})," ",m.expediente]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Nombre:"})," ",m.nombre]}),m.fechaNacimiento&&R.jsxs("p",{children:[R.jsx("strong",{children:"Fecha Nac.:"})," ",m.fechaNacimiento]})]})}),R.jsxs("div",{className:"alert alert-info",children:[R.jsx("h6",{children:"Cambio de Prioridades:"}),R.jsxs("small",{children:[R.jsx("strong",{children:"ALTA:"})," Se atiende primero (casos urgentes)",R.jsx("br",{}),R.jsx("strong",{children:"MEDIA:"})," Despus de prioridad alta",R.jsx("br",{}),R.jsx("strong",{children:"BAJA:"})," Se atiende al final"]})]}),v.length>0?v.map(lt=>R.jsx(tw,{cita:lt,onGuardar:bt},lt.id)):m?R.jsx("div",{className:"alert alert-info",children:"No hay citas en espera para este paciente"}):null]})}function tw({cita:a,onGuardar:e}){const[i,r]=Ot.useState(a.sintomas||""),[l,h]=Ot.useState(a.motivo||""),[m,_]=Ot.useState(a.prioridad||"media"),[v,b]=Ot.useState(!1),[S,I]=Ot.useState(!1),D=ot=>{switch(ot){case"alta":return"danger";case"media":return"warning";case"baja":return"primary";default:return"secondary"}},Q=m!==a.prioridad,X=async ot=>{ot.preventDefault(),I(!0),await e(a.id,{sintomas:i,motivo:l,prioridad:m,atendido:v}),I(!1)};return R.jsxs("form",{onSubmit:X,className:`border rounded p-3 mb-3 bg-dark bg-opacity-50 ${Q?"border-warning border-3":""}`,children:[R.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[R.jsx("h5",{className:"mb-0",children:"Cita en Espera"}),R.jsxs("span",{className:`badge bg-${D(a.prioridad)} px-3 py-2`,children:["PRIORIDAD ACTUAL: ",a.prioridad.toUpperCase()]})]}),R.jsxs("div",{className:"row mb-3",children:[R.jsxs("div",{className:"col-md-6",children:[R.jsx("strong",{children:"Doctor:"})," ",a.doctorNombre]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("strong",{children:"rea:"})," ",a.area]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("strong",{children:"Fecha:"})," ",a.fecha]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("strong",{children:"Horario:"})," ",a.horario]})]}),R.jsxs("div",{className:"row mb-3",children:[R.jsxs("div",{className:"col-md-6",children:[R.jsx("label",{className:"form-label",children:"Sntomas"}),R.jsx("input",{className:"form-control",value:i,onChange:ot=>r(ot.target.value),disabled:S})]}),R.jsxs("div",{className:"col-md-6",children:[R.jsx("label",{className:"form-label",children:"Motivo"}),R.jsx("input",{className:"form-control",value:l,onChange:ot=>h(ot.target.value),disabled:S})]})]}),R.jsx("div",{className:"row mb-3",children:R.jsxs("div",{className:"col-md-8",children:[R.jsxs("label",{className:"form-label",children:["Prioridad",Q&&R.jsxs("span",{className:"text-warning ms-2",children:["(Cambio: ",a.prioridad.toUpperCase()," "," ",m.toUpperCase(),")"]})]}),R.jsxs("select",{className:`form-select ${Q?"border-warning border-2":""}`,value:m,onChange:ot=>_(ot.target.value),disabled:S,children:[R.jsx("option",{value:"alta",children:"ALTA - Urgente"}),R.jsx("option",{value:"media",children:"MEDIA - Normal"}),R.jsx("option",{value:"baja",children:"BAJA - No urgente"})]})]})}),R.jsx("button",{className:`btn w-100 ${Q?"btn-warning":"btn-success"}`,type:"submit",disabled:S,children:S?"Guardando informacin...":Q?"GUARDAR Y CAMBIAR PRIORIDAD":"Guardar Cambios"})]})}function ew(){const[a,e]=Ot.useState(""),[i,r]=Ot.useState([]),[l,h]=Ot.useState([]),[m,_]=Ot.useState(null),[v,b]=Ot.useState([]),[S,I]=Ot.useState([]),[D,Q]=Ot.useState({area:"",doctorId:"",fecha:"",horario:"",sintomas:"",motivo:"",prioridad:"media"}),[X,ot]=Ot.useState(!1);Ot.useEffect(()=>{(async()=>{try{const N=(await Dc(ur(Dn,"pacientes"))).docs.map(j=>({id:j.id,...j.data()}));r(N)}catch(x){console.error("Error cargando pacientes",x)}})()},[]),Ot.useEffect(()=>{(async()=>{try{const N=(await Dc(nu(ur(Dn,"doctores")))).docs.map(j=>({id:j.id,...j.data()}));N.sort((j,P)=>String(j.nombre||"").localeCompare(String(P.nombre||""))),b(N)}catch(x){console.error(x),alert("No se pudieron cargar los doctores.")}})()},[]),Ot.useEffect(()=>{const V=nu(ur(Dn,"citas"),iu("estado","==","en_espera")),x=Zf(V,N=>{const j=N.docs.map(P=>({id:P.id,...P.data()}));I(j)});return()=>x()},[]);const et=Ot.useMemo(()=>{const V=new Set(v.map(x=>(x.area||"").trim()).filter(Boolean));return Array.from(V).sort((x,N)=>x.localeCompare(N))},[v]),bt=Ot.useMemo(()=>D.area?v.filter(V=>(V.area||"").trim()===D.area):[],[v,D.area]),lt=Ot.useMemo(()=>{if(!D.doctorId||!D.fecha)return[];const V=v.find(N=>N.id===D.doctorId);if(!V)return[];const x=S.filter(N=>N.doctorId===D.doctorId&&N.fecha===D.fecha).map(N=>N.horario);return(V.horarios||[]).filter(N=>!x.includes(N))},[D.doctorId,D.fecha,v,S]),ut=V=>{const{name:x,value:N}=V.target;if(x==="area"){Q(j=>({...j,area:N,doctorId:"",horario:""}));return}if(x==="doctorId"){Q(j=>({...j,doctorId:N,horario:""}));return}Q(j=>({...j,[x]:N}))},vt=V=>{const x=V.target.value;if(e(x),!x.trim()){h([]);return}const N=x.toLowerCase(),j=i.filter(P=>String(P.expediente||"").toLowerCase().includes(N)||String(P.nombre||"").toLowerCase().includes(N));h(j.slice(0,8))},gt=V=>{_(V),e(`${V.expediente} - ${V.nombre}`),h([])},xt=async V=>{if(V.preventDefault(),!m)return alert("Primero seleccione un paciente");if(!D.area||!D.doctorId||!D.fecha||!D.horario)return alert("Completa todos los campos requeridos");ot(!0);try{const x=v.find(P=>P.id===D.doctorId),N=io(ur(Dn,"citas"));await hb(N,{pacienteId:m.id,pacienteNombre:m.nombre,pacienteEdad:m.edad,area:D.area,doctorId:x.id,doctorNombre:x.nombre,fecha:D.fecha,horario:D.horario,sintomas:D.sintomas,motivo:D.motivo,prioridad:D.prioridad,estado:"en_espera",createdAt:Nc()});const j=io(Dn,"pacientes",m.id);await Vp(j,{enEspera:!0,ultimaCitaId:N.id,ultimaCitaFecha:D.fecha}),alert(" Cita agendada y paciente enviado a lista de espera"),Q({area:"",doctorId:"",fecha:"",horario:"",sintomas:"",motivo:"",prioridad:"media"}),_(null),e("")}catch(x){console.error(x),alert("Error al agendar cita")}finally{ot(!1)}};return R.jsxs("div",{style:{maxWidth:600,margin:"0 auto"},children:[R.jsx("h2",{className:"text-center mb-3",children:"Agendar Cita"}),R.jsxs("div",{className:"mb-3 position-relative",children:[R.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar expediente o nombre...",value:a,onChange:vt}),l.length>0&&R.jsx("ul",{className:"list-group position-absolute w-100",style:{zIndex:1e3},children:l.map(V=>R.jsxs("li",{className:"list-group-item list-group-item-action",style:{cursor:"pointer"},onClick:()=>gt(V),children:[V.expediente,"  ",V.nombre," (",V.edad||"Edad N/D",")"]},V.id))})]}),m&&R.jsx("div",{className:"card mb-3",children:R.jsxs("div",{className:"card-body",children:[R.jsxs("p",{children:[R.jsx("strong",{children:"Expediente:"})," ",m.expediente]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Nombre:"})," ",m.nombre]}),m.edad&&R.jsxs("p",{children:[R.jsx("strong",{children:"Edad:"})," ",m.edad]})]})}),R.jsx("form",{onSubmit:xt,children:R.jsxs("fieldset",{disabled:!m,children:[R.jsx("label",{className:"form-label",children:"rea"}),R.jsxs("select",{name:"area",className:"form-control mb-2",value:D.area,onChange:ut,children:[R.jsx("option",{value:"",children:"Seleccione rea"}),et.map(V=>R.jsx("option",{value:V,children:V},V))]}),R.jsx("label",{className:"form-label",children:"Doctor"}),R.jsxs("select",{name:"doctorId",className:"form-control mb-2",value:D.doctorId,onChange:ut,disabled:!D.area,children:[R.jsx("option",{value:"",children:"Seleccione doctor"}),bt.map(V=>R.jsx("option",{value:V.id,children:V.nombre},V.id))]}),R.jsx("label",{className:"form-label",children:"Fecha"}),R.jsx("input",{type:"date",name:"fecha",className:"form-control mb-2",value:D.fecha,onChange:ut,disabled:!D.doctorId}),R.jsx("label",{className:"form-label",children:"Horario disponible"}),R.jsxs("select",{name:"horario",className:"form-control mb-2",value:D.horario,onChange:ut,disabled:!D.fecha,children:[R.jsx("option",{value:"",children:"Seleccione horario"}),lt.map((V,x)=>R.jsx("option",{value:V,children:V},x))]}),R.jsx("label",{className:"form-label",children:"Sntomas"}),R.jsx("textarea",{name:"sintomas",className:"form-control mb-2",rows:2,value:D.sintomas,onChange:ut}),R.jsx("label",{className:"form-label",children:"Motivo"}),R.jsx("textarea",{name:"motivo",className:"form-control mb-2",rows:2,value:D.motivo,onChange:ut}),R.jsx("label",{className:"form-label",children:"Prioridad"}),R.jsxs("select",{name:"prioridad",className:"form-control mb-3",value:D.prioridad,onChange:ut,children:[R.jsx("option",{value:"alta",children:"Alta"}),R.jsx("option",{value:"media",children:"Media"}),R.jsx("option",{value:"baja",children:"Baja"})]}),R.jsx("button",{type:"submit",className:"btn btn-primary w-100",disabled:X,children:X?"Agendando":"Agendar Cita"})]})})]})}function nw(){const[a,e]=Ot.useState([]),[i,r]=Ot.useState(!1);Ot.useEffect(()=>{const v=nu(ur(Dn,"citas"),iu("estado","==","en_espera")),b=Zf(v,S=>{const I=S.docs.map(D=>({id:D.id,...D.data()}));I.sort((D,Q)=>{const X={alta:0,media:1,baja:2},ot=X[D.prioridad]||1,et=X[Q.prioridad]||1;return ot!==et?ot-et:D.createdAt&&Q.createdAt?D.createdAt.toMillis()-Q.createdAt.toMillis():0}),e(I)});return()=>b()},[]);const l=v=>{switch(v){case"alta":return{bg:"danger",text:"white"};case"media":return{bg:"warning",text:"black"};case"baja":return{bg:"primary",text:"white"};default:return{bg:"secondary",text:"white"}}},h=v=>{switch(v){case"alta":return"border-danger";case"media":return"border-warning";case"baja":return"border-info";default:return"border-secondary"}},m=async()=>{if(a.length===0)return;const v=a[0];if(window.confirm(`Estas seguro de atender a ${v.pacienteNombre}?

Expediente: ${v.pacienteExpediente||v.pacienteId}
Prioridad: ${(v.prioridad||"media").toUpperCase()}

Esta accion marcara al paciente como atendido y lo removera de la lista de espera.`)){r(!0);try{const S=io(Dn,"citas",v.id);await Vp(S,{estado:"atendido",fechaAtencion:Nc()}),alert("Paciente atendido correctamente")}catch(S){console.error("Error:",S),alert("Error al atender paciente: "+S.message)}finally{r(!1)}}},_=a[0];return R.jsxs("div",{style:{maxWidth:700,margin:"0 auto"},children:[R.jsx("h2",{className:"text-center mb-4",children:"Atender Siguiente Paciente"}),_?R.jsxs("div",{className:`card mb-4 ${h(_.prioridad)} border-3`,children:[R.jsx("div",{className:`card-header bg-${l(_.prioridad).bg} text-${l(_.prioridad).text}`,children:R.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[R.jsx("h4",{className:"mb-0",children:"Siguientes en la Cola"}),R.jsxs("span",{className:"fs-5",children:["PRIORIDAD ",(_.prioridad||"media").toUpperCase()]})]})}),R.jsxs("div",{className:"card-body",children:[R.jsx("div",{className:"row",children:R.jsxs("div",{className:"col-md-8",children:[R.jsx("h5",{className:"text-primary",children:_.pacienteNombre}),R.jsxs("p",{children:[R.jsx("strong",{children:"Expediente:"})," ",_.pacienteExpediente||_.pacienteId]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Doctor:"})," ",_.doctorNombre]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Area:"})," ",a[0].area||"No disponible"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Fecha:"})," ",a[0].fecha?.toDate?a[0].fecha.toDate().toLocaleDateString():a[0].fecha||"No disponible"]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Horario:"})," ",a[0].fecha?.toDate?a[0].fecha.toDate().toLocaleTimeString():a[0].horario||"No disponible"]})]})}),_.sintomas&&R.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[R.jsx("strong",{children:"Sintomas:"}),R.jsx("p",{className:"mb-0 mt-1",children:_.sintomas})]}),_.motivo&&R.jsxs("div",{className:"mt-2 p-3 bg-light rounded",children:[R.jsx("strong",{children:"Motivo:"}),R.jsx("p",{className:"mb-0 mt-1",children:_.motivo})]}),R.jsx("button",{className:"btn btn-success btn-lg w-100 mt-4 fw-bold",onClick:m,disabled:i,children:i?"Atendiendo...":"ATENDER PACIENTE"})]})]}):R.jsxs("div",{className:"alert alert-info text-center",children:[R.jsx("h4",{children:"No hay pacientes en espera"}),R.jsx("p",{children:"Todos los pacientes han sido atendidos"})]}),a.length>1&&R.jsxs("div",{className:"card",children:[R.jsx("div",{className:"card-header bg-secondary text-white",children:R.jsxs("h5",{className:"mb-0",children:["Siguientes en la cola (",a.length-1,")"]})}),R.jsxs("div",{className:"card-body",children:[a.slice(1,6).map((v,b)=>{const S=l(v.prioridad);return R.jsxs("div",{className:`d-flex justify-content-between align-items-center mb-3 p-3 rounded border-3 ${h(v.prioridad)}`,style:{backgroundColor:"white"},children:[R.jsxs("div",{children:[R.jsxs("strong",{children:["#",b+2,": ",v.pacienteNombre]}),R.jsxs("div",{className:"text-muted small",children:[v.area," - Dr. ",v.doctorNombre]})]}),R.jsx("span",{className:`badge bg-${S.bg} text-${S.text} fs-6 px-3 py-2`,children:(v.prioridad||"media").toUpperCase()})]},v.id)}),a.length>6&&R.jsx("div",{className:"text-center text-muted",children:R.jsxs("small",{children:["... y ",a.length-6," pacientes mas en espera"]})})]})]}),R.jsx("div",{className:"mt-4",children:R.jsx("div",{className:"card border-0 bg-light",children:R.jsxs("div",{className:"card-body",children:[R.jsx("h6",{className:"card-title",children:"Codigo de colores:"}),R.jsxs("div",{className:"d-flex gap-3 flex-wrap",children:[R.jsx("span",{className:"badge bg-danger text-white px-3 py-2",children:"ALTA - Urgente"}),R.jsx("span",{className:"badge bg-warning text-black px-3 py-2",children:"MEDIA - Normal"}),R.jsx("span",{className:"badge bg-primary text-white px-3 py-2",children:"BAJA - No urgente"})]})]})})})]})}class iw{constructor(e){this.valor=e,this.prev=null,this.next=null}}class gv{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const i=new iw(e);return this.head?(this.tail.next=i,i.prev=this.tail,this.tail=i):this.head=this.tail=i,this.length++,i}toArray(){const e=[];let i=this.head;for(;i;)e.push(i.valor),i=i.next;return e}}function sw(){const[a,e]=Ot.useState(!0),[i,r]=Ot.useState(null),l=Ot.useRef(new gv),h=Ot.useRef(new Map),[m,_]=Ot.useState(0),[v,b]=Ot.useState([]),[S,I]=Ot.useState(""),[D,Q]=Ot.useState("todas"),X=vt=>{switch(vt){case"alta":return{bg:"danger",text:"white"};case"media":return{bg:"warning",text:"black"};case"baja":return{bg:"primary",text:"white"};default:return{bg:"secondary",text:"white"}}},ot=vt=>{switch(vt){case"alta":return"border-danger";case"media":return"border-warning";case"baja":return"border-info";default:return"border-secondary"}};Ot.useEffect(()=>{const vt=nu(ur(Dn,"citas"),iu("estado","==","atendido")),gt=Zf(vt,xt=>{const V=xt.docs.map(P=>({id:P.id,...P.data()})).sort((P,q)=>{const M=P.fechaAtencion?.toMillis?.()||P.createdAt?.toMillis?.()||0;return(q.fechaAtencion?.toMillis?.()||q.createdAt?.toMillis?.()||0)-M}),x=new gv,N=new Map;let j=null;V.forEach((P,q)=>{const M=x.push(P);N.set(P.id,M),q===0&&(j=M)}),l.current=x,h.current=N,_(x.length),r(j),b(x.toArray()),e(!1)});return()=>gt()},[]);const et=Ot.useMemo(()=>{const vt=S.trim().toLowerCase();return v.filter(gt=>D==="todas"||(gt.prioridad||"media")===D?vt?`${gt.pacienteNombre||""} ${gt.pacienteExpediente||gt.pacienteId||""} ${gt.doctorNombre||""} ${gt.area||""}`.toLowerCase().includes(vt):!0:!1)},[v,S,D]);Ot.useEffect(()=>{if(!i)return;const vt=i?.valor?.id;if(!et.some(xt=>xt.id===vt))if(et.length>0){const xt=h.current.get(et[0].id);r(xt||null)}else r(null)},[et,i]);const bt=()=>{i?.prev&&r(i.prev)},lt=()=>{i?.next&&r(i.next)},ut=vt=>{try{const gt=vt?.toDate?vt.toDate():vt instanceof Date?vt:null;return gt?`${gt.toLocaleDateString()} ${gt.toLocaleTimeString()}`:"No disponible"}catch{return"No disponible"}};return R.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[R.jsx("h2",{className:"text-center mb-4",children:"Historial de Pacientes Atendidos"}),R.jsx("div",{className:"card mb-3",children:R.jsxs("div",{className:"card-body d-flex gap-2 flex-wrap align-items-center",children:[R.jsx("input",{type:"text",className:"form-control",placeholder:"Buscar por nombre, expediente, doctor o rea",value:S,onChange:vt=>I(vt.target.value),style:{minWidth:240}}),R.jsxs("select",{className:"form-select",style:{width:180},value:D,onChange:vt=>Q(vt.target.value),children:[R.jsx("option",{value:"todas",children:"Todas las prioridades"}),R.jsx("option",{value:"alta",children:"Alta"}),R.jsx("option",{value:"media",children:"Media"}),R.jsx("option",{value:"baja",children:"Baja"})]}),R.jsxs("span",{className:"ms-auto text-muted small",children:["Mostrando ",et.length," de ",m]})]})}),a?R.jsx("div",{className:"alert alert-secondary text-center",children:"Cargando historial..."}):et.length===0?R.jsxs("div",{className:"alert alert-info text-center",children:[R.jsx("h5",{children:"No hay resultados"}),R.jsx("p",{children:"Ajusta la bsqueda o filtros."})]}):R.jsxs("div",{className:"row g-3",children:[R.jsx("div",{className:"col-md-5",children:R.jsxs("div",{className:"card h-100",children:[R.jsx("div",{className:"card-header bg-secondary text-white",children:R.jsx("strong",{children:"Historial"})}),R.jsx("div",{className:"card-body",style:{maxHeight:"65vh",overflowY:"auto"},children:et.map(vt=>{const gt=i?.valor?.id===vt.id,xt=X(vt.prioridad);return R.jsxs("div",{onClick:()=>r(h.current.get(vt.id)||i),className:`d-flex justify-content-between align-items-center p-3 rounded mb-2 border ${gt?"border-primary bg-light":"border-light"}`,style:{cursor:"pointer"},children:[R.jsxs("div",{children:[R.jsxs("div",{className:"fw-semibold",children:[vt.pacienteNombre,gt&&R.jsx("span",{className:"badge bg-primary ms-2",children:"Seleccionado"})]}),R.jsxs("div",{className:"text-muted small",children:[vt.area||"","  Dr. ",vt.doctorNombre||""]}),R.jsx("div",{className:"text-muted small",children:ut(vt.fechaAtencion)})]}),R.jsx("span",{className:`badge bg-${xt.bg} text-${xt.text}`,children:(vt.prioridad||"media").toUpperCase()})]},vt.id)})})]})}),R.jsx("div",{className:"col-md-7",children:i&&R.jsxs("div",{className:`card ${ot(i.valor.prioridad)} border-3`,children:[R.jsx("div",{className:`card-header bg-${X(i.valor.prioridad).bg} text-${X(i.valor.prioridad).text}`,children:R.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[R.jsx("h4",{className:"mb-0",children:"Detalle del paciente"}),R.jsxs("span",{className:"fs-6",children:["PRIORIDAD ",(i.valor.prioridad||"media").toUpperCase()]})]})}),R.jsx("div",{className:"card-body",children:R.jsx("div",{className:"row",children:R.jsxs("div",{className:"col-12",children:[R.jsx("h5",{className:"text-primary mb-2",children:i.valor.pacienteNombre}),R.jsxs("div",{className:"row g-2",children:[R.jsxs("div",{className:"col-sm-6",children:[R.jsx("strong",{children:"Expediente:"})," ",i.valor.pacienteExpediente||i.valor.pacienteId]}),R.jsxs("div",{className:"col-sm-6",children:[R.jsx("strong",{children:"Doctor:"})," ",i.valor.doctorNombre]}),R.jsxs("div",{className:"col-sm-6",children:[R.jsx("strong",{children:"rea:"})," ",i.valor.area||"No disponible"]}),R.jsxs("div",{className:"col-sm-6",children:[R.jsx("strong",{children:"Atendido:"})," ",ut(i.valor.fechaAtencion)]})]}),i.valor.sintomas&&R.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[R.jsx("strong",{children:"Sntomas:"}),R.jsx("p",{className:"mb-0 mt-1",children:i.valor.sintomas})]}),i.valor.motivo&&R.jsxs("div",{className:"mt-2 p-3 bg-light rounded",children:[R.jsx("strong",{children:"Motivo:"}),R.jsx("p",{className:"mb-0 mt-1",children:i.valor.motivo})]}),R.jsxs("div",{className:"d-flex gap-2 mt-4",children:[R.jsx("button",{className:"btn btn-outline-secondary w-50",onClick:bt,disabled:!i.prev,children:" Anterior"}),R.jsx("button",{className:"btn btn-success w-50",onClick:lt,disabled:!i.next,children:"Siguiente "})]})]})})})]})})]})]})}function rw(){const[a,e]=Ot.useState("inicio"),i="https://international.quironsalud.com/es/hospitales/hospitales-referencia.ficheros/3348740-Hospitals-in-Spain.jpg",r={cursor:"pointer",transition:"transform 0.2s ease, box-shadow 0.2s ease"},l=m=>{m.currentTarget.style.transform="translateY(-3px)",m.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.3)"},h=m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)"};return R.jsxs("div",{style:{minHeight:"100dvh",position:"relative",color:"#fff",display:"flex",flexDirection:"column"},children:[R.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:-1,filter:"brightness(0.65)"}}),R.jsxs("main",{style:{flex:1,display:"grid",placeItems:"center",padding:"32px 20px"},children:[a==="inicio"&&R.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[R.jsx("h1",{className:"mb-4",style:{fontSize:"2.2rem",textShadow:"2px 2px 4px rgba(0,0,0,0.7)"},children:"Hospital Vida"}),R.jsx("div",{className:"container",children:R.jsxs("div",{className:"row justify-content-center g-4",children:[R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("pacientes"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(FE,{size:40,className:"mb-3 text-primary"}),R.jsx("h5",{className:"card-title",children:"Crear Expediente"})]})})}),R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("agendar"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(kE,{size:40,className:"mb-3 text-success"}),R.jsx("h5",{className:"card-title",children:"Agendar Cita"})]})})}),R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("atender"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(Tv,{size:40,className:"mb-3 text-info"}),R.jsx("h5",{className:"card-title",children:"Atender Paciente"})]})})}),R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("historial"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(Ev,{size:40,className:"mb-3 text-success"}),R.jsx("h5",{className:"card-title",children:"Historial"})]})})}),R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("modificar"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(BE,{size:40,className:"mb-3 text-warning"}),R.jsx("h5",{className:"card-title",children:"Editar Citas"})]})})}),R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("listaPacientes"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(qE,{size:40,className:"mb-3 text-secondary"}),R.jsx("h5",{className:"card-title",children:"Lista Espera"})]})})}),R.jsx("div",{className:"col-md-3",children:R.jsx("div",{className:"card text-center h-100 shadow-lg",style:r,onClick:()=>e("listaDoctores"),onMouseEnter:l,onMouseLeave:h,children:R.jsxs("div",{className:"card-body",children:[R.jsx(HE,{size:40,className:"mb-3 text-dark"}),R.jsx("h5",{className:"card-title",children:"Lista Doctores"})]})})})]})})]}),a!=="inicio"&&R.jsxs("div",{style:{width:"100%"},children:[R.jsxs("button",{className:"btn btn-secondary mb-3",onClick:()=>e("inicio"),children:[R.jsx(zE,{className:"me-2"}),"Regresar al men"]}),a==="pacientes"&&R.jsx(JS,{}),a==="modificar"&&R.jsx(WS,{}),a==="listaPacientes"&&R.jsx(GS,{setActiveTab:e}),a==="listaDoctores"&&R.jsx(ZS,{}),a==="agendar"&&R.jsx(ew,{}),a==="atender"&&R.jsx(nw,{}),a==="historial"&&R.jsx(sw,{})]})]}),R.jsxs("footer",{style:{padding:16,textAlign:"center",opacity:.85,fontSize:14,backgroundColor:"rgba(0,0,0,0.6)"},children:[" ",new Date().getFullYear()," Hospital Vida"]})]})}function aw(){return R.jsx(rw,{})}var ff={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ow=ff.exports,_v;function lw(){return _v||(_v=1,(function(a,e){(function(i,r){a.exports=r()})(ow,function(){const i=new Map,r={set(T,f,g){i.has(T)||i.set(T,new Map);const w=i.get(T);w.has(f)||w.size===0?w.set(f,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(w.keys())[0]}.`)},get:(T,f)=>i.has(T)&&i.get(T).get(f)||null,remove(T,f){if(!i.has(T))return;const g=i.get(T);g.delete(f),g.size===0&&i.delete(T)}},l="transitionend",h=T=>(T&&window.CSS&&window.CSS.escape&&(T=T.replace(/#([^\s"#']+)/g,(f,g)=>`#${CSS.escape(g)}`)),T),m=T=>T==null?`${T}`:Object.prototype.toString.call(T).match(/\s([a-z]+)/i)[1].toLowerCase(),_=T=>{T.dispatchEvent(new Event(l))},v=T=>!(!T||typeof T!="object")&&(T.jquery!==void 0&&(T=T[0]),T.nodeType!==void 0),b=T=>v(T)?T.jquery?T[0]:T:typeof T=="string"&&T.length>0?document.querySelector(h(T)):null,S=T=>{if(!v(T)||T.getClientRects().length===0)return!1;const f=getComputedStyle(T).getPropertyValue("visibility")==="visible",g=T.closest("details:not([open])");if(!g)return f;if(g!==T){const w=T.closest("summary");if(w&&w.parentNode!==g||w===null)return!1}return f},I=T=>!T||T.nodeType!==Node.ELEMENT_NODE||!!T.classList.contains("disabled")||(T.disabled!==void 0?T.disabled:T.hasAttribute("disabled")&&T.getAttribute("disabled")!=="false"),D=T=>{if(!document.documentElement.attachShadow)return null;if(typeof T.getRootNode=="function"){const f=T.getRootNode();return f instanceof ShadowRoot?f:null}return T instanceof ShadowRoot?T:T.parentNode?D(T.parentNode):null},Q=()=>{},X=T=>{T.offsetHeight},ot=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,et=[],bt=()=>document.documentElement.dir==="rtl",lt=T=>{var f;f=()=>{const g=ot();if(g){const w=T.NAME,k=g.fn[w];g.fn[w]=T.jQueryInterface,g.fn[w].Constructor=T,g.fn[w].noConflict=()=>(g.fn[w]=k,T.jQueryInterface)}},document.readyState==="loading"?(et.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of et)g()}),et.push(f)):f()},ut=(T,f=[],g=T)=>typeof T=="function"?T.call(...f):g,vt=(T,f,g=!0)=>{if(!g)return void ut(T);const w=(Z=>{if(!Z)return 0;let{transitionDuration:st,transitionDelay:ht}=window.getComputedStyle(Z);const Et=Number.parseFloat(st),Tt=Number.parseFloat(ht);return Et||Tt?(st=st.split(",")[0],ht=ht.split(",")[0],1e3*(Number.parseFloat(st)+Number.parseFloat(ht))):0})(f)+5;let k=!1;const B=({target:Z})=>{Z===f&&(k=!0,f.removeEventListener(l,B),ut(T))};f.addEventListener(l,B),setTimeout(()=>{k||_(f)},w)},gt=(T,f,g,w)=>{const k=T.length;let B=T.indexOf(f);return B===-1?!g&&w?T[k-1]:T[0]:(B+=g?1:-1,w&&(B=(B+k)%k),T[Math.max(0,Math.min(B,k-1))])},xt=/[^.]*(?=\..*)\.|.*/,V=/\..*/,x=/::\d+$/,N={};let j=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},q=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(T,f){return f&&`${f}::${j++}`||T.uidEvent||j++}function Je(T){const f=M(T);return T.uidEvent=f,N[f]=N[f]||{},N[f]}function Le(T,f,g=null){return Object.values(T).find(w=>w.callable===f&&w.delegationSelector===g)}function W(T,f,g){const w=typeof f=="string",k=w?g:f||g;let B=L(T);return q.has(B)||(B=T),[w,k,B]}function dt(T,f,g,w,k){if(typeof f!="string"||!T)return;let[B,Z,st]=W(f,g,w);f in P&&(Z=(Gt=>function(Vt){if(!Vt.relatedTarget||Vt.relatedTarget!==Vt.delegateTarget&&!Vt.delegateTarget.contains(Vt.relatedTarget))return Gt.call(this,Vt)})(Z));const ht=Je(T),Et=ht[st]||(ht[st]={}),Tt=Le(Et,Z,B?g:null);if(Tt)return void(Tt.oneOff=Tt.oneOff&&k);const _t=M(Z,f.replace(xt,"")),Ft=B?(function(Lt,Gt,Vt){return function kt(ve){const Ae=Lt.querySelectorAll(Gt);for(let{target:Yt}=ve;Yt&&Yt!==this;Yt=Yt.parentNode)for(const Kt of Ae)if(Kt===Yt)return mt(ve,{delegateTarget:Yt}),kt.oneOff&&U.off(Lt,ve.type,Gt,Vt),Vt.apply(Yt,[ve])}})(T,g,Z):(function(Lt,Gt){return function Vt(kt){return mt(kt,{delegateTarget:Lt}),Vt.oneOff&&U.off(Lt,kt.type,Gt),Gt.apply(Lt,[kt])}})(T,Z);Ft.delegationSelector=B?g:null,Ft.callable=Z,Ft.oneOff=k,Ft.uidEvent=_t,Et[_t]=Ft,T.addEventListener(st,Ft,B)}function Ct(T,f,g,w,k){const B=Le(f[g],w,k);B&&(T.removeEventListener(g,B,!!k),delete f[g][B.uidEvent])}function fe(T,f,g,w){const k=f[g]||{};for(const[B,Z]of Object.entries(k))B.includes(w)&&Ct(T,f,g,Z.callable,Z.delegationSelector)}function L(T){return T=T.replace(V,""),P[T]||T}const U={on(T,f,g,w){dt(T,f,g,w,!1)},one(T,f,g,w){dt(T,f,g,w,!0)},off(T,f,g,w){if(typeof f!="string"||!T)return;const[k,B,Z]=W(f,g,w),st=Z!==f,ht=Je(T),Et=ht[Z]||{},Tt=f.startsWith(".");if(B===void 0){if(Tt)for(const _t of Object.keys(ht))fe(T,ht,_t,f.slice(1));for(const[_t,Ft]of Object.entries(Et)){const Lt=_t.replace(x,"");st&&!f.includes(Lt)||Ct(T,ht,Z,Ft.callable,Ft.delegationSelector)}}else{if(!Object.keys(Et).length)return;Ct(T,ht,Z,B,k?g:null)}},trigger(T,f,g){if(typeof f!="string"||!T)return null;const w=ot();let k=null,B=!0,Z=!0,st=!1;f!==L(f)&&w&&(k=w.Event(f,g),w(T).trigger(k),B=!k.isPropagationStopped(),Z=!k.isImmediatePropagationStopped(),st=k.isDefaultPrevented());const ht=mt(new Event(f,{bubbles:B,cancelable:!0}),g);return st&&ht.preventDefault(),Z&&T.dispatchEvent(ht),ht.defaultPrevented&&k&&k.preventDefault(),ht}};function mt(T,f={}){for(const[g,w]of Object.entries(f))try{T[g]=w}catch{Object.defineProperty(T,g,{configurable:!0,get:()=>w})}return T}function ct(T){if(T==="true")return!0;if(T==="false")return!1;if(T===Number(T).toString())return Number(T);if(T===""||T==="null")return null;if(typeof T!="string")return T;try{return JSON.parse(decodeURIComponent(T))}catch{return T}}function Dt(T){return T.replace(/[A-Z]/g,f=>`-${f.toLowerCase()}`)}const qt={setDataAttribute(T,f,g){T.setAttribute(`data-bs-${Dt(f)}`,g)},removeDataAttribute(T,f){T.removeAttribute(`data-bs-${Dt(f)}`)},getDataAttributes(T){if(!T)return{};const f={},g=Object.keys(T.dataset).filter(w=>w.startsWith("bs")&&!w.startsWith("bsConfig"));for(const w of g){let k=w.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),f[k]=ct(T.dataset[w])}return f},getDataAttribute:(T,f)=>ct(T.getAttribute(`data-bs-${Dt(f)}`))};class jt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(f){return f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f}_mergeConfigObj(f,g){const w=v(g)?qt.getDataAttribute(g,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...v(g)?qt.getDataAttributes(g):{},...typeof f=="object"?f:{}}}_typeCheckConfig(f,g=this.constructor.DefaultType){for(const[w,k]of Object.entries(g)){const B=f[w],Z=v(B)?"element":m(B);if(!new RegExp(k).test(Z))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${Z}" but expected type "${k}".`)}}}class Ee extends jt{constructor(f,g){super(),(f=b(f))&&(this._element=f,this._config=this._getConfig(g),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),U.off(this._element,this.constructor.EVENT_KEY);for(const f of Object.getOwnPropertyNames(this))this[f]=null}_queueCallback(f,g,w=!0){vt(f,g,w)}_getConfig(f){return f=this._mergeConfigObj(f,this._element),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}static getInstance(f){return r.get(b(f),this.DATA_KEY)}static getOrCreateInstance(f,g={}){return this.getInstance(f)||new this(f,typeof g=="object"?g:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(f){return`${f}${this.EVENT_KEY}`}}const Te=T=>{let f=T.getAttribute("data-bs-target");if(!f||f==="#"){let g=T.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),f=g&&g!=="#"?g.trim():null}return f?f.split(",").map(g=>h(g)).join(","):null},St={find:(T,f=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(f,T)),findOne:(T,f=document.documentElement)=>Element.prototype.querySelector.call(f,T),children:(T,f)=>[].concat(...T.children).filter(g=>g.matches(f)),parents(T,f){const g=[];let w=T.parentNode.closest(f);for(;w;)g.push(w),w=w.parentNode.closest(f);return g},prev(T,f){let g=T.previousElementSibling;for(;g;){if(g.matches(f))return[g];g=g.previousElementSibling}return[]},next(T,f){let g=T.nextElementSibling;for(;g;){if(g.matches(f))return[g];g=g.nextElementSibling}return[]},focusableChildren(T){const f=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(f,T).filter(g=>!I(g)&&S(g))},getSelectorFromElement(T){const f=Te(T);return f&&St.findOne(f)?f:null},getElementFromSelector(T){const f=Te(T);return f?St.findOne(f):null},getMultipleElementsFromSelector(T){const f=Te(T);return f?St.find(f):[]}},xi=(T,f="hide")=>{const g=`click.dismiss${T.EVENT_KEY}`,w=T.NAME;U.on(document,g,`[data-bs-dismiss="${w}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),I(this))return;const B=St.getElementFromSelector(this)||this.closest(`.${w}`);T.getOrCreateInstance(B)[f]()})},Ki=".bs.alert",pr=`close${Ki}`,gr=`closed${Ki}`;class Di extends Ee{static get NAME(){return"alert"}close(){if(U.trigger(this._element,pr).defaultPrevented)return;this._element.classList.remove("show");const f=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,f)}_destroyElement(){this._element.remove(),U.trigger(this._element,gr),this.dispose()}static jQueryInterface(f){return this.each(function(){const g=Di.getOrCreateInstance(this);if(typeof f=="string"){if(g[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);g[f](this)}})}}xi(Di,"close"),lt(Di);const na='[data-bs-toggle="button"]';class Vs extends Ee{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(f){return this.each(function(){const g=Vs.getOrCreateInstance(this);f==="toggle"&&g[f]()})}}U.on(document,"click.bs.button.data-api",na,T=>{T.preventDefault();const f=T.target.closest(na);Vs.getOrCreateInstance(f).toggle()}),lt(Vs);const pn=".bs.swipe",uu=`touchstart${pn}`,go=`touchmove${pn}`,ia=`touchend${pn}`,_r=`pointerdown${pn}`,cu=`pointerup${pn}`,sa={endCallback:null,leftCallback:null,rightCallback:null},_o={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yr extends jt{constructor(f,g){super(),this._element=f,f&&yr.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return sa}static get DefaultType(){return _o}static get NAME(){return"swipe"}dispose(){U.off(this._element,pn)}_start(f){this._supportPointerEvents?this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX):this._deltaX=f.touches[0].clientX}_end(f){this._eventIsPointerPenTouch(f)&&(this._deltaX=f.clientX-this._deltaX),this._handleSwipe(),ut(this._config.endCallback)}_move(f){this._deltaX=f.touches&&f.touches.length>1?0:f.touches[0].clientX-this._deltaX}_handleSwipe(){const f=Math.abs(this._deltaX);if(f<=40)return;const g=f/this._deltaX;this._deltaX=0,g&&ut(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(U.on(this._element,_r,f=>this._start(f)),U.on(this._element,cu,f=>this._end(f)),this._element.classList.add("pointer-event")):(U.on(this._element,uu,f=>this._start(f)),U.on(this._element,go,f=>this._move(f)),U.on(this._element,ia,f=>this._end(f)))}_eventIsPointerPenTouch(f){return this._supportPointerEvents&&(f.pointerType==="pen"||f.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const _e=".bs.carousel",pe=".data-api",Kn="ArrowLeft",vn="ArrowRight",Ms="next",js="prev",oi="left",Xi="right",vr=`slide${_e}`,Xn=`slid${_e}`,ra=`keydown${_e}`,br=`mouseenter${_e}`,yo=`mouseleave${_e}`,vo=`dragstart${_e}`,bo=`load${_e}${pe}`,hs=`click${_e}${pe}`,Zi="carousel",Ls="active",Ni=".active",aa=".carousel-item",Ps=Ni+aa,oa={[Kn]:Xi,[vn]:oi},Us={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Wo={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ye extends Ee{constructor(f,g){super(f,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=St.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Zi&&this.cycle()}static get Default(){return Us}static get DefaultType(){return Wo}static get NAME(){return"carousel"}next(){this._slide(Ms)}nextWhenVisible(){!document.hidden&&S(this._element)&&this.next()}prev(){this._slide(js)}pause(){this._isSliding&&_(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?U.one(this._element,Xn,()=>this.cycle()):this.cycle())}to(f){const g=this._getItems();if(f>g.length-1||f<0)return;if(this._isSliding)return void U.one(this._element,Xn,()=>this.to(f));const w=this._getItemIndex(this._getActive());if(w===f)return;const k=f>w?Ms:js;this._slide(k,g[f])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(f){return f.defaultInterval=f.interval,f}_addEventListeners(){this._config.keyboard&&U.on(this._element,ra,f=>this._keydown(f)),this._config.pause==="hover"&&(U.on(this._element,br,()=>this.pause()),U.on(this._element,yo,()=>this._maybeEnableCycle())),this._config.touch&&yr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of St.find(".carousel-item img",this._element))U.on(g,vo,w=>w.preventDefault());const f={leftCallback:()=>this._slide(this._directionToOrder(oi)),rightCallback:()=>this._slide(this._directionToOrder(Xi)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new yr(this._element,f)}_keydown(f){if(/input|textarea/i.test(f.target.tagName))return;const g=oa[f.key];g&&(f.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(f){return this._getItems().indexOf(f)}_setActiveIndicatorElement(f){if(!this._indicatorsElement)return;const g=St.findOne(Ni,this._indicatorsElement);g.classList.remove(Ls),g.removeAttribute("aria-current");const w=St.findOne(`[data-bs-slide-to="${f}"]`,this._indicatorsElement);w&&(w.classList.add(Ls),w.setAttribute("aria-current","true"))}_updateInterval(){const f=this._activeElement||this._getActive();if(!f)return;const g=Number.parseInt(f.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(f,g=null){if(this._isSliding)return;const w=this._getActive(),k=f===Ms,B=g||gt(this._getItems(),w,k,this._config.wrap);if(B===w)return;const Z=this._getItemIndex(B),st=_t=>U.trigger(this._element,_t,{relatedTarget:B,direction:this._orderToDirection(f),from:this._getItemIndex(w),to:Z});if(st(vr).defaultPrevented||!w||!B)return;const ht=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(Z),this._activeElement=B;const Et=k?"carousel-item-start":"carousel-item-end",Tt=k?"carousel-item-next":"carousel-item-prev";B.classList.add(Tt),X(B),w.classList.add(Et),B.classList.add(Et),this._queueCallback(()=>{B.classList.remove(Et,Tt),B.classList.add(Ls),w.classList.remove(Ls,Tt,Et),this._isSliding=!1,st(Xn)},w,this._isAnimated()),ht&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return St.findOne(Ps,this._element)}_getItems(){return St.find(aa,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(f){return bt()?f===oi?js:Ms:f===oi?Ms:js}_orderToDirection(f){return bt()?f===js?oi:Xi:f===js?Xi:oi}static jQueryInterface(f){return this.each(function(){const g=ye.getOrCreateInstance(this,f);if(typeof f!="number"){if(typeof f=="string"){if(g[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);g[f]()}}else g.to(f)})}}U.on(document,hs,"[data-bs-slide], [data-bs-slide-to]",function(T){const f=St.getElementFromSelector(this);if(!f||!f.classList.contains(Zi))return;T.preventDefault();const g=ye.getOrCreateInstance(f),w=this.getAttribute("data-bs-slide-to");return w?(g.to(w),void g._maybeEnableCycle()):qt.getDataAttribute(this,"slide")==="next"?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),U.on(window,bo,()=>{const T=St.find('[data-bs-ride="carousel"]');for(const f of T)ye.getOrCreateInstance(f)}),lt(ye);const Pe=".bs.collapse",Ke=`show${Pe}`,li=`shown${Pe}`,Eo=`hide${Pe}`,hu=`hidden${Pe}`,zs=`click${Pe}.data-api`,la="show",ui="collapse",Ii="collapsing",fs=`:scope .${ui} .${ui}`,ci='[data-bs-toggle="collapse"]',Ji={parent:null,toggle:!0},Nn={parent:"(null|element)",toggle:"boolean"};class xe extends Ee{constructor(f,g){super(f,g),this._isTransitioning=!1,this._triggerArray=[];const w=St.find(ci);for(const k of w){const B=St.getSelectorFromElement(k),Z=St.find(B).filter(st=>st===this._element);B!==null&&Z.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ji}static get DefaultType(){return Nn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let f=[];if(this._config.parent&&(f=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>xe.getOrCreateInstance(k,{toggle:!1}))),f.length&&f[0]._isTransitioning||U.trigger(this._element,Ke).defaultPrevented)return;for(const k of f)k.hide();const g=this._getDimension();this._element.classList.remove(ui),this._element.classList.add(Ii),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const w=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ii),this._element.classList.add(ui,la),this._element.style[g]="",U.trigger(this._element,li)},this._element,!0),this._element.style[g]=`${this._element[w]}px`}hide(){if(this._isTransitioning||!this._isShown()||U.trigger(this._element,Eo).defaultPrevented)return;const f=this._getDimension();this._element.style[f]=`${this._element.getBoundingClientRect()[f]}px`,X(this._element),this._element.classList.add(Ii),this._element.classList.remove(ui,la);for(const g of this._triggerArray){const w=St.getElementFromSelector(g);w&&!this._isShown(w)&&this._addAriaAndCollapsedClass([g],!1)}this._isTransitioning=!0,this._element.style[f]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ii),this._element.classList.add(ui),U.trigger(this._element,hu)},this._element,!0)}_isShown(f=this._element){return f.classList.contains(la)}_configAfterMerge(f){return f.toggle=!!f.toggle,f.parent=b(f.parent),f}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const f=this._getFirstLevelChildren(ci);for(const g of f){const w=St.getElementFromSelector(g);w&&this._addAriaAndCollapsedClass([g],this._isShown(w))}}_getFirstLevelChildren(f){const g=St.find(fs,this._config.parent);return St.find(f,this._config.parent).filter(w=>!g.includes(w))}_addAriaAndCollapsedClass(f,g){if(f.length)for(const w of f)w.classList.toggle("collapsed",!g),w.setAttribute("aria-expanded",g)}static jQueryInterface(f){const g={};return typeof f=="string"&&/show|hide/.test(f)&&(g.toggle=!1),this.each(function(){const w=xe.getOrCreateInstance(this,g);if(typeof f=="string"){if(w[f]===void 0)throw new TypeError(`No method named "${f}"`);w[f]()}})}}U.on(document,zs,ci,function(T){(T.target.tagName==="A"||T.delegateTarget&&T.delegateTarget.tagName==="A")&&T.preventDefault();for(const f of St.getMultipleElementsFromSelector(this))xe.getOrCreateInstance(f,{toggle:!1}).toggle()}),lt(xe);var We="top",on="bottom",Ue="right",ze="left",Er="auto",ds=[We,on,Ue,ze],Zn="start",ms="end",ps="clippingParents",hi="viewport",qe="popper",ks="reference",ua=ds.reduce(function(T,f){return T.concat([f+"-"+Zn,f+"-"+ms])},[]),Oi=[].concat(ds,[Er]).reduce(function(T,f){return T.concat([f,f+"-"+Zn,f+"-"+ms])},[]),Tr="beforeRead",Ar="read",ca="afterRead",Sr="beforeMain",bn="main",ha="afterMain",tl="beforeWrite",wr="write",fa="afterWrite",Bs=[Tr,Ar,ca,Sr,bn,ha,tl,wr,fa];function fi(T){return T?(T.nodeName||"").toLowerCase():null}function ae(T){if(T==null)return window;if(T.toString()!=="[object Window]"){var f=T.ownerDocument;return f&&f.defaultView||window}return T}function tn(T){return T instanceof ae(T).Element||T instanceof Element}function ln(T){return T instanceof ae(T).HTMLElement||T instanceof HTMLElement}function Wi(T){return typeof ShadowRoot<"u"&&(T instanceof ae(T).ShadowRoot||T instanceof ShadowRoot)}const Vi={name:"applyStyles",enabled:!0,phase:"write",fn:function(T){var f=T.state;Object.keys(f.elements).forEach(function(g){var w=f.styles[g]||{},k=f.attributes[g]||{},B=f.elements[g];ln(B)&&fi(B)&&(Object.assign(B.style,w),Object.keys(k).forEach(function(Z){var st=k[Z];st===!1?B.removeAttribute(Z):B.setAttribute(Z,st===!0?"":st)}))})},effect:function(T){var f=T.state,g={popper:{position:f.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(f.elements.popper.style,g.popper),f.styles=g,f.elements.arrow&&Object.assign(f.elements.arrow.style,g.arrow),function(){Object.keys(f.elements).forEach(function(w){var k=f.elements[w],B=f.attributes[w]||{},Z=Object.keys(f.styles.hasOwnProperty(w)?f.styles[w]:g[w]).reduce(function(st,ht){return st[ht]="",st},{});ln(k)&&fi(k)&&(Object.assign(k.style,Z),Object.keys(B).forEach(function(st){k.removeAttribute(st)}))})}},requires:["computeStyles"]};function Xt(T){return T.split("-")[0]}var Jn=Math.max,In=Math.min,di=Math.round;function da(){var T=navigator.userAgentData;return T!=null&&T.brands&&Array.isArray(T.brands)?T.brands.map(function(f){return f.brand+"/"+f.version}).join(" "):navigator.userAgent}function ma(){return!/^((?!chrome|android).)*safari/i.test(da())}function ts(T,f,g){f===void 0&&(f=!1),g===void 0&&(g=!1);var w=T.getBoundingClientRect(),k=1,B=1;f&&ln(T)&&(k=T.offsetWidth>0&&di(w.width)/T.offsetWidth||1,B=T.offsetHeight>0&&di(w.height)/T.offsetHeight||1);var Z=(tn(T)?ae(T):window).visualViewport,st=!ma()&&g,ht=(w.left+(st&&Z?Z.offsetLeft:0))/k,Et=(w.top+(st&&Z?Z.offsetTop:0))/B,Tt=w.width/k,_t=w.height/B;return{width:Tt,height:_t,top:Et,right:ht+Tt,bottom:Et+_t,left:ht,x:ht,y:Et}}function To(T){var f=ts(T),g=T.offsetWidth,w=T.offsetHeight;return Math.abs(f.width-g)<=1&&(g=f.width),Math.abs(f.height-w)<=1&&(w=f.height),{x:T.offsetLeft,y:T.offsetTop,width:g,height:w}}function el(T,f){var g=f.getRootNode&&f.getRootNode();if(T.contains(f))return!0;if(g&&Wi(g)){var w=f;do{if(w&&T.isSameNode(w))return!0;w=w.parentNode||w.host}while(w)}return!1}function qn(T){return ae(T).getComputedStyle(T)}function gs(T){return["table","td","th"].indexOf(fi(T))>=0}function en(T){return((tn(T)?T.ownerDocument:T.document)||window.document).documentElement}function mi(T){return fi(T)==="html"?T:T.assignedSlot||T.parentNode||(Wi(T)?T.host:null)||en(T)}function es(T){return ln(T)&&qn(T).position!=="fixed"?T.offsetParent:null}function _s(T){for(var f=ae(T),g=es(T);g&&gs(g)&&qn(g).position==="static";)g=es(g);return g&&(fi(g)==="html"||fi(g)==="body"&&qn(g).position==="static")?f:g||(function(w){var k=/firefox/i.test(da());if(/Trident/i.test(da())&&ln(w)&&qn(w).position==="fixed")return null;var B=mi(w);for(Wi(B)&&(B=B.host);ln(B)&&["html","body"].indexOf(fi(B))<0;){var Z=qn(B);if(Z.transform!=="none"||Z.perspective!=="none"||Z.contain==="paint"||["transform","perspective"].indexOf(Z.willChange)!==-1||k&&Z.willChange==="filter"||k&&Z.filter&&Z.filter!=="none")return B;B=B.parentNode}return null})(T)||f}function pi(T){return["top","bottom"].indexOf(T)>=0?"x":"y"}function qs(T,f,g){return Jn(T,In(f,g))}function Hs(T){return Object.assign({},{top:0,right:0,bottom:0,left:0},T)}function gi(T,f){return f.reduce(function(g,w){return g[w]=T,g},{})}const Wn={name:"arrow",enabled:!0,phase:"main",fn:function(T){var f,g=T.state,w=T.name,k=T.options,B=g.elements.arrow,Z=g.modifiersData.popperOffsets,st=Xt(g.placement),ht=pi(st),Et=[ze,Ue].indexOf(st)>=0?"height":"width";if(B&&Z){var Tt=(function(me,ne){return Hs(typeof(me=typeof me=="function"?me(Object.assign({},ne.rects,{placement:ne.placement})):me)!="number"?me:gi(me,ds))})(k.padding,g),_t=To(B),Ft=ht==="y"?We:ze,Lt=ht==="y"?on:Ue,Gt=g.rects.reference[Et]+g.rects.reference[ht]-Z[ht]-g.rects.popper[Et],Vt=Z[ht]-g.rects.reference[ht],kt=_s(B),ve=kt?ht==="y"?kt.clientHeight||0:kt.clientWidth||0:0,Ae=Gt/2-Vt/2,Yt=Tt[Ft],Kt=ve-_t[Et]-Tt[Lt],pt=ve/2-_t[Et]/2+Ae,wt=qs(Yt,pt,Kt),Ut=ht;g.modifiersData[w]=((f={})[Ut]=wt,f.centerOffset=wt-pt,f)}},effect:function(T){var f=T.state,g=T.options.element,w=g===void 0?"[data-popper-arrow]":g;w!=null&&(typeof w!="string"||(w=f.elements.popper.querySelector(w)))&&el(f.elements.popper,w)&&(f.elements.arrow=w)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _i(T){return T.split("-")[1]}var ns={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ys(T){var f,g=T.popper,w=T.popperRect,k=T.placement,B=T.variation,Z=T.offsets,st=T.position,ht=T.gpuAcceleration,Et=T.adaptive,Tt=T.roundOffsets,_t=T.isFixed,Ft=Z.x,Lt=Ft===void 0?0:Ft,Gt=Z.y,Vt=Gt===void 0?0:Gt,kt=typeof Tt=="function"?Tt({x:Lt,y:Vt}):{x:Lt,y:Vt};Lt=kt.x,Vt=kt.y;var ve=Z.hasOwnProperty("x"),Ae=Z.hasOwnProperty("y"),Yt=ze,Kt=We,pt=window;if(Et){var wt=_s(g),Ut="clientHeight",me="clientWidth";wt===ae(g)&&qn(wt=en(g)).position!=="static"&&st==="absolute"&&(Ut="scrollHeight",me="scrollWidth"),(k===We||(k===ze||k===Ue)&&B===ms)&&(Kt=on,Vt-=(_t&&wt===pt&&pt.visualViewport?pt.visualViewport.height:wt[Ut])-w.height,Vt*=ht?1:-1),k!==ze&&(k!==We&&k!==on||B!==ms)||(Yt=Ue,Lt-=(_t&&wt===pt&&pt.visualViewport?pt.visualViewport.width:wt[me])-w.width,Lt*=ht?1:-1)}var ne,we=Object.assign({position:st},Et&&ns),An=Tt===!0?(function(jn,Xe){var Ai=jn.x,oe=jn.y,Me=Xe.devicePixelRatio||1;return{x:di(Ai*Me)/Me||0,y:di(oe*Me)/Me||0}})({x:Lt,y:Vt},ae(g)):{x:Lt,y:Vt};return Lt=An.x,Vt=An.y,ht?Object.assign({},we,((ne={})[Kt]=Ae?"0":"",ne[Yt]=ve?"0":"",ne.transform=(pt.devicePixelRatio||1)<=1?"translate("+Lt+"px, "+Vt+"px)":"translate3d("+Lt+"px, "+Vt+"px, 0)",ne)):Object.assign({},we,((f={})[Kt]=Ae?Vt+"px":"",f[Yt]=ve?Lt+"px":"",f.transform="",f))}const Mi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(T){var f=T.state,g=T.options,w=g.gpuAcceleration,k=w===void 0||w,B=g.adaptive,Z=B===void 0||B,st=g.roundOffsets,ht=st===void 0||st,Et={placement:Xt(f.placement),variation:_i(f.placement),popper:f.elements.popper,popperRect:f.rects.popper,gpuAcceleration:k,isFixed:f.options.strategy==="fixed"};f.modifiersData.popperOffsets!=null&&(f.styles.popper=Object.assign({},f.styles.popper,ys(Object.assign({},Et,{offsets:f.modifiersData.popperOffsets,position:f.options.strategy,adaptive:Z,roundOffsets:ht})))),f.modifiersData.arrow!=null&&(f.styles.arrow=Object.assign({},f.styles.arrow,ys(Object.assign({},Et,{offsets:f.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ht})))),f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-placement":f.placement})},data:{}};var Fs={passive:!0};const yi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(T){var f=T.state,g=T.instance,w=T.options,k=w.scroll,B=k===void 0||k,Z=w.resize,st=Z===void 0||Z,ht=ae(f.elements.popper),Et=[].concat(f.scrollParents.reference,f.scrollParents.popper);return B&&Et.forEach(function(Tt){Tt.addEventListener("scroll",g.update,Fs)}),st&&ht.addEventListener("resize",g.update,Fs),function(){B&&Et.forEach(function(Tt){Tt.removeEventListener("scroll",g.update,Fs)}),st&&ht.removeEventListener("resize",g.update,Fs)}},data:{}};var is={left:"right",right:"left",bottom:"top",top:"bottom"};function Gs(T){return T.replace(/left|right|bottom|top/g,function(f){return is[f]})}var un={start:"end",end:"start"};function de(T){return T.replace(/start|end/g,function(f){return un[f]})}function Qs(T){var f=ae(T);return{scrollLeft:f.pageXOffset,scrollTop:f.pageYOffset}}function vs(T){return ts(en(T)).left+Qs(T).scrollLeft}function pa(T){var f=qn(T),g=f.overflow,w=f.overflowX,k=f.overflowY;return/auto|scroll|overlay|hidden/.test(g+k+w)}function Rr(T){return["html","body","#document"].indexOf(fi(T))>=0?T.ownerDocument.body:ln(T)&&pa(T)?T:Rr(mi(T))}function ss(T,f){var g;f===void 0&&(f=[]);var w=Rr(T),k=w===((g=T.ownerDocument)==null?void 0:g.body),B=ae(w),Z=k?[B].concat(B.visualViewport||[],pa(w)?w:[]):w,st=f.concat(Z);return k?st:st.concat(ss(mi(Z)))}function vi(T){return Object.assign({},T,{left:T.x,top:T.y,right:T.x+T.width,bottom:T.y+T.height})}function Ys(T,f,g){return f===hi?vi((function(w,k){var B=ae(w),Z=en(w),st=B.visualViewport,ht=Z.clientWidth,Et=Z.clientHeight,Tt=0,_t=0;if(st){ht=st.width,Et=st.height;var Ft=ma();(Ft||!Ft&&k==="fixed")&&(Tt=st.offsetLeft,_t=st.offsetTop)}return{width:ht,height:Et,x:Tt+vs(w),y:_t}})(T,g)):tn(f)?(function(w,k){var B=ts(w,!1,k==="fixed");return B.top=B.top+w.clientTop,B.left=B.left+w.clientLeft,B.bottom=B.top+w.clientHeight,B.right=B.left+w.clientWidth,B.width=w.clientWidth,B.height=w.clientHeight,B.x=B.left,B.y=B.top,B})(f,g):vi((function(w){var k,B=en(w),Z=Qs(w),st=(k=w.ownerDocument)==null?void 0:k.body,ht=Jn(B.scrollWidth,B.clientWidth,st?st.scrollWidth:0,st?st.clientWidth:0),Et=Jn(B.scrollHeight,B.clientHeight,st?st.scrollHeight:0,st?st.clientHeight:0),Tt=-Z.scrollLeft+vs(w),_t=-Z.scrollTop;return qn(st||B).direction==="rtl"&&(Tt+=Jn(B.clientWidth,st?st.clientWidth:0)-ht),{width:ht,height:Et,x:Tt,y:_t}})(en(T)))}function ti(T){var f,g=T.reference,w=T.element,k=T.placement,B=k?Xt(k):null,Z=k?_i(k):null,st=g.x+g.width/2-w.width/2,ht=g.y+g.height/2-w.height/2;switch(B){case We:f={x:st,y:g.y-w.height};break;case on:f={x:st,y:g.y+g.height};break;case Ue:f={x:g.x+g.width,y:ht};break;case ze:f={x:g.x-w.width,y:ht};break;default:f={x:g.x,y:g.y}}var Et=B?pi(B):null;if(Et!=null){var Tt=Et==="y"?"height":"width";switch(Z){case Zn:f[Et]=f[Et]-(g[Tt]/2-w[Tt]/2);break;case ms:f[Et]=f[Et]+(g[Tt]/2-w[Tt]/2)}}return f}function bs(T,f){f===void 0&&(f={});var g=f,w=g.placement,k=w===void 0?T.placement:w,B=g.strategy,Z=B===void 0?T.strategy:B,st=g.boundary,ht=st===void 0?ps:st,Et=g.rootBoundary,Tt=Et===void 0?hi:Et,_t=g.elementContext,Ft=_t===void 0?qe:_t,Lt=g.altBoundary,Gt=Lt!==void 0&&Lt,Vt=g.padding,kt=Vt===void 0?0:Vt,ve=Hs(typeof kt!="number"?kt:gi(kt,ds)),Ae=Ft===qe?ks:qe,Yt=T.rects.popper,Kt=T.elements[Gt?Ae:Ft],pt=(function(Xe,Ai,oe,Me){var Si=Ai==="clippingParents"?(function(be){var gn=ss(mi(be)),Gn=["absolute","fixed"].indexOf(qn(be).position)>=0&&ln(be)?_s(be):be;return tn(Gn)?gn.filter(function(Ge){return tn(Ge)&&el(Ge,Gn)&&fi(Ge)!=="body"}):[]})(Xe):[].concat(Ai),zi=[].concat(Si,[oe]),Fr=zi[0],hn=zi.reduce(function(be,gn){var Gn=Ys(Xe,gn,Me);return be.top=Jn(Gn.top,be.top),be.right=In(Gn.right,be.right),be.bottom=In(Gn.bottom,be.bottom),be.left=Jn(Gn.left,be.left),be},Ys(Xe,Fr,Me));return hn.width=hn.right-hn.left,hn.height=hn.bottom-hn.top,hn.x=hn.left,hn.y=hn.top,hn})(tn(Kt)?Kt:Kt.contextElement||en(T.elements.popper),ht,Tt,Z),wt=ts(T.elements.reference),Ut=ti({reference:wt,element:Yt,placement:k}),me=vi(Object.assign({},Yt,Ut)),ne=Ft===qe?me:wt,we={top:pt.top-ne.top+ve.top,bottom:ne.bottom-pt.bottom+ve.bottom,left:pt.left-ne.left+ve.left,right:ne.right-pt.right+ve.right},An=T.modifiersData.offset;if(Ft===qe&&An){var jn=An[k];Object.keys(we).forEach(function(Xe){var Ai=[Ue,on].indexOf(Xe)>=0?1:-1,oe=[We,on].indexOf(Xe)>=0?"y":"x";we[Xe]+=jn[oe]*Ai})}return we}function fu(T,f){f===void 0&&(f={});var g=f,w=g.placement,k=g.boundary,B=g.rootBoundary,Z=g.padding,st=g.flipVariations,ht=g.allowedAutoPlacements,Et=ht===void 0?Oi:ht,Tt=_i(w),_t=Tt?st?ua:ua.filter(function(Gt){return _i(Gt)===Tt}):ds,Ft=_t.filter(function(Gt){return Et.indexOf(Gt)>=0});Ft.length===0&&(Ft=_t);var Lt=Ft.reduce(function(Gt,Vt){return Gt[Vt]=bs(T,{placement:Vt,boundary:k,rootBoundary:B,padding:Z})[Xt(Vt)],Gt},{});return Object.keys(Lt).sort(function(Gt,Vt){return Lt[Gt]-Lt[Vt]})}const $s={name:"flip",enabled:!0,phase:"main",fn:function(T){var f=T.state,g=T.options,w=T.name;if(!f.modifiersData[w]._skip){for(var k=g.mainAxis,B=k===void 0||k,Z=g.altAxis,st=Z===void 0||Z,ht=g.fallbackPlacements,Et=g.padding,Tt=g.boundary,_t=g.rootBoundary,Ft=g.altBoundary,Lt=g.flipVariations,Gt=Lt===void 0||Lt,Vt=g.allowedAutoPlacements,kt=f.options.placement,ve=Xt(kt),Ae=ht||(ve!==kt&&Gt?(function(be){if(Xt(be)===Er)return[];var gn=Gs(be);return[de(be),gn,de(gn)]})(kt):[Gs(kt)]),Yt=[kt].concat(Ae).reduce(function(be,gn){return be.concat(Xt(gn)===Er?fu(f,{placement:gn,boundary:Tt,rootBoundary:_t,padding:Et,flipVariations:Gt,allowedAutoPlacements:Vt}):gn)},[]),Kt=f.rects.reference,pt=f.rects.popper,wt=new Map,Ut=!0,me=Yt[0],ne=0;ne<Yt.length;ne++){var we=Yt[ne],An=Xt(we),jn=_i(we)===Zn,Xe=[We,on].indexOf(An)>=0,Ai=Xe?"width":"height",oe=bs(f,{placement:we,boundary:Tt,rootBoundary:_t,altBoundary:Ft,padding:Et}),Me=Xe?jn?Ue:ze:jn?on:We;Kt[Ai]>pt[Ai]&&(Me=Gs(Me));var Si=Gs(Me),zi=[];if(B&&zi.push(oe[An]<=0),st&&zi.push(oe[Me]<=0,oe[Si]<=0),zi.every(function(be){return be})){me=we,Ut=!1;break}wt.set(we,zi)}if(Ut)for(var Fr=function(be){var gn=Yt.find(function(Gn){var Ge=wt.get(Gn);if(Ge)return Ge.slice(0,be).every(function(ke){return ke})});if(gn)return me=gn,"break"},hn=Gt?3:1;hn>0&&Fr(hn)!=="break";hn--);f.placement!==me&&(f.modifiersData[w]._skip=!0,f.placement=me,f.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Cr(T,f,g){return g===void 0&&(g={x:0,y:0}),{top:T.top-f.height-g.y,right:T.right-f.width+g.x,bottom:T.bottom-f.height+g.y,left:T.left-f.width-g.x}}function ga(T){return[We,Ue,on,ze].some(function(f){return T[f]>=0})}const xr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(T){var f=T.state,g=T.name,w=f.rects.reference,k=f.rects.popper,B=f.modifiersData.preventOverflow,Z=bs(f,{elementContext:"reference"}),st=bs(f,{altBoundary:!0}),ht=Cr(Z,w),Et=Cr(st,k,B),Tt=ga(ht),_t=ga(Et);f.modifiersData[g]={referenceClippingOffsets:ht,popperEscapeOffsets:Et,isReferenceHidden:Tt,hasPopperEscaped:_t},f.attributes.popper=Object.assign({},f.attributes.popper,{"data-popper-reference-hidden":Tt,"data-popper-escaped":_t})}},Ao={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(T){var f=T.state,g=T.options,w=T.name,k=g.offset,B=k===void 0?[0,0]:k,Z=Oi.reduce(function(Tt,_t){return Tt[_t]=(function(Ft,Lt,Gt){var Vt=Xt(Ft),kt=[ze,We].indexOf(Vt)>=0?-1:1,ve=typeof Gt=="function"?Gt(Object.assign({},Lt,{placement:Ft})):Gt,Ae=ve[0],Yt=ve[1];return Ae=Ae||0,Yt=(Yt||0)*kt,[ze,Ue].indexOf(Vt)>=0?{x:Yt,y:Ae}:{x:Ae,y:Yt}})(_t,f.rects,B),Tt},{}),st=Z[f.placement],ht=st.x,Et=st.y;f.modifiersData.popperOffsets!=null&&(f.modifiersData.popperOffsets.x+=ht,f.modifiersData.popperOffsets.y+=Et),f.modifiersData[w]=Z}},Ks={name:"popperOffsets",enabled:!0,phase:"read",fn:function(T){var f=T.state,g=T.name;f.modifiersData[g]=ti({reference:f.rects.reference,element:f.rects.popper,placement:f.placement})},data:{}},nl={name:"preventOverflow",enabled:!0,phase:"main",fn:function(T){var f=T.state,g=T.options,w=T.name,k=g.mainAxis,B=k===void 0||k,Z=g.altAxis,st=Z!==void 0&&Z,ht=g.boundary,Et=g.rootBoundary,Tt=g.altBoundary,_t=g.padding,Ft=g.tether,Lt=Ft===void 0||Ft,Gt=g.tetherOffset,Vt=Gt===void 0?0:Gt,kt=bs(f,{boundary:ht,rootBoundary:Et,padding:_t,altBoundary:Tt}),ve=Xt(f.placement),Ae=_i(f.placement),Yt=!Ae,Kt=pi(ve),pt=Kt==="x"?"y":"x",wt=f.modifiersData.popperOffsets,Ut=f.rects.reference,me=f.rects.popper,ne=typeof Vt=="function"?Vt(Object.assign({},f.rects,{placement:f.placement})):Vt,we=typeof ne=="number"?{mainAxis:ne,altAxis:ne}:Object.assign({mainAxis:0,altAxis:0},ne),An=f.modifiersData.offset?f.modifiersData.offset[f.placement]:null,jn={x:0,y:0};if(wt){if(B){var Xe,Ai=Kt==="y"?We:ze,oe=Kt==="y"?on:Ue,Me=Kt==="y"?"height":"width",Si=wt[Kt],zi=Si+kt[Ai],Fr=Si-kt[oe],hn=Lt?-me[Me]/2:0,be=Ae===Zn?Ut[Me]:me[Me],gn=Ae===Zn?-me[Me]:-Ut[Me],Gn=f.elements.arrow,Ge=Lt&&Gn?To(Gn):{width:0,height:0},ke=f.modifiersData["arrow#persistent"]?f.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Tl=ke[Ai],Oa=ke[oe],Gr=qs(0,Ut[Me],Ge[Me]),Du=Yt?Ut[Me]/2-hn-Gr-Tl-we.mainAxis:be-Gr-Tl-we.mainAxis,Ds=Yt?-Ut[Me]/2+hn+Gr+Oa+we.mainAxis:gn+Gr+Oa+we.mainAxis,Va=f.elements.arrow&&_s(f.elements.arrow),Nu=Va?Kt==="y"?Va.clientTop||0:Va.clientLeft||0:0,Al=(Xe=An?.[Kt])!=null?Xe:0,hh=Si+Ds-Al,Iu=qs(Lt?In(zi,Si+Du-Al-Nu):zi,Si,Lt?Jn(Fr,hh):Fr);wt[Kt]=Iu,jn[Kt]=Iu-Si}if(st){var Ou,fh=Kt==="x"?We:ze,dh=Kt==="x"?on:Ue,ir=wt[pt],Ma=pt==="y"?"height":"width",Vu=ir+kt[fh],mh=ir-kt[dh],Sl=[We,ze].indexOf(ve)!==-1,Mu=(Ou=An?.[pt])!=null?Ou:0,ju=Sl?Vu:ir-Ut[Ma]-me[Ma]-Mu+we.altAxis,wl=Sl?ir+Ut[Ma]+me[Ma]-Mu-we.altAxis:mh,Lu=Lt&&Sl?(function(ph,gh,Rl){var Pu=qs(ph,gh,Rl);return Pu>Rl?Rl:Pu})(ju,ir,wl):qs(Lt?ju:Vu,ir,Lt?wl:mh);wt[pt]=Lu,jn[pt]=Lu-ir}f.modifiersData[w]=jn}},requiresIfExists:["offset"]};function So(T,f,g){g===void 0&&(g=!1);var w,k,B=ln(f),Z=ln(f)&&(function(_t){var Ft=_t.getBoundingClientRect(),Lt=di(Ft.width)/_t.offsetWidth||1,Gt=di(Ft.height)/_t.offsetHeight||1;return Lt!==1||Gt!==1})(f),st=en(f),ht=ts(T,Z,g),Et={scrollLeft:0,scrollTop:0},Tt={x:0,y:0};return(B||!B&&!g)&&((fi(f)!=="body"||pa(st))&&(Et=(w=f)!==ae(w)&&ln(w)?{scrollLeft:(k=w).scrollLeft,scrollTop:k.scrollTop}:Qs(w)),ln(f)?((Tt=ts(f,!0)).x+=f.clientLeft,Tt.y+=f.clientTop):st&&(Tt.x=vs(st))),{x:ht.left+Et.scrollLeft-Tt.x,y:ht.top+Et.scrollTop-Tt.y,width:ht.width,height:ht.height}}function Dr(T){var f=new Map,g=new Set,w=[];function k(B){g.add(B.name),[].concat(B.requires||[],B.requiresIfExists||[]).forEach(function(Z){if(!g.has(Z)){var st=f.get(Z);st&&k(st)}}),w.push(B)}return T.forEach(function(B){f.set(B.name,B)}),T.forEach(function(B){g.has(B.name)||k(B)}),w}var wo={placement:"bottom",modifiers:[],strategy:"absolute"};function Ro(){for(var T=arguments.length,f=new Array(T),g=0;g<T;g++)f[g]=arguments[g];return!f.some(function(w){return!(w&&typeof w.getBoundingClientRect=="function")})}function Xs(T){T===void 0&&(T={});var f=T,g=f.defaultModifiers,w=g===void 0?[]:g,k=f.defaultOptions,B=k===void 0?wo:k;return function(Z,st,ht){ht===void 0&&(ht=B);var Et,Tt,_t={placement:"bottom",orderedModifiers:[],options:Object.assign({},wo,B),modifiersData:{},elements:{reference:Z,popper:st},attributes:{},styles:{}},Ft=[],Lt=!1,Gt={state:_t,setOptions:function(kt){var ve=typeof kt=="function"?kt(_t.options):kt;Vt(),_t.options=Object.assign({},B,_t.options,ve),_t.scrollParents={reference:tn(Z)?ss(Z):Z.contextElement?ss(Z.contextElement):[],popper:ss(st)};var Ae,Yt,Kt=(function(pt){var wt=Dr(pt);return Bs.reduce(function(Ut,me){return Ut.concat(wt.filter(function(ne){return ne.phase===me}))},[])})((Ae=[].concat(w,_t.options.modifiers),Yt=Ae.reduce(function(pt,wt){var Ut=pt[wt.name];return pt[wt.name]=Ut?Object.assign({},Ut,wt,{options:Object.assign({},Ut.options,wt.options),data:Object.assign({},Ut.data,wt.data)}):wt,pt},{}),Object.keys(Yt).map(function(pt){return Yt[pt]})));return _t.orderedModifiers=Kt.filter(function(pt){return pt.enabled}),_t.orderedModifiers.forEach(function(pt){var wt=pt.name,Ut=pt.options,me=Ut===void 0?{}:Ut,ne=pt.effect;if(typeof ne=="function"){var we=ne({state:_t,name:wt,instance:Gt,options:me});Ft.push(we||function(){})}}),Gt.update()},forceUpdate:function(){if(!Lt){var kt=_t.elements,ve=kt.reference,Ae=kt.popper;if(Ro(ve,Ae)){_t.rects={reference:So(ve,_s(Ae),_t.options.strategy==="fixed"),popper:To(Ae)},_t.reset=!1,_t.placement=_t.options.placement,_t.orderedModifiers.forEach(function(ne){return _t.modifiersData[ne.name]=Object.assign({},ne.data)});for(var Yt=0;Yt<_t.orderedModifiers.length;Yt++)if(_t.reset!==!0){var Kt=_t.orderedModifiers[Yt],pt=Kt.fn,wt=Kt.options,Ut=wt===void 0?{}:wt,me=Kt.name;typeof pt=="function"&&(_t=pt({state:_t,options:Ut,name:me,instance:Gt})||_t)}else _t.reset=!1,Yt=-1}}},update:(Et=function(){return new Promise(function(kt){Gt.forceUpdate(),kt(_t)})},function(){return Tt||(Tt=new Promise(function(kt){Promise.resolve().then(function(){Tt=void 0,kt(Et())})})),Tt}),destroy:function(){Vt(),Lt=!0}};if(!Ro(Z,st))return Gt;function Vt(){Ft.forEach(function(kt){return kt()}),Ft=[]}return Gt.setOptions(ht).then(function(kt){!Lt&&ht.onFirstUpdate&&ht.onFirstUpdate(kt)}),Gt}}var Nr=Xs(),il=Xs({defaultModifiers:[yi,Ks,Mi,Vi]}),Zs=Xs({defaultModifiers:[yi,Ks,Mi,Vi,Ao,$s,nl,Wn,xr]});const Co=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ha,afterRead:ca,afterWrite:fa,applyStyles:Vi,arrow:Wn,auto:Er,basePlacements:ds,beforeMain:Sr,beforeRead:Tr,beforeWrite:tl,bottom:on,clippingParents:ps,computeStyles:Mi,createPopper:Zs,createPopperBase:Nr,createPopperLite:il,detectOverflow:bs,end:ms,eventListeners:yi,flip:$s,hide:xr,left:ze,main:bn,modifierPhases:Bs,offset:Ao,placements:Oi,popper:qe,popperGenerator:Xs,popperOffsets:Ks,preventOverflow:nl,read:Ar,reference:ks,right:Ue,start:Zn,top:We,variationPlacements:ua,viewport:hi,write:wr},Symbol.toStringTag,{value:"Module"})),_a="dropdown",On=".bs.dropdown",ya=".data-api",sl="ArrowUp",xo="ArrowDown",rl=`hide${On}`,va=`hidden${On}`,Vn=`show${On}`,al=`shown${On}`,Do=`click${On}${ya}`,ji=`keydown${On}${ya}`,u=`keyup${On}${ya}`,p="show",y='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',C=`${y}.${p}`,F=".dropdown-menu",J=bt()?"top-end":"top-start",ft=bt()?"top-start":"top-end",te=bt()?"bottom-end":"bottom-start",nn=bt()?"bottom-start":"bottom-end",ee=bt()?"left-start":"right-start",cn=bt()?"right-start":"left-start",sn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Es={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Se extends Ee{constructor(f,g){super(f,g),this._popper=null,this._parent=this._element.parentNode,this._menu=St.next(this._element,F)[0]||St.prev(this._element,F)[0]||St.findOne(F,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sn}static get DefaultType(){return Es}static get NAME(){return _a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(I(this._element)||this._isShown())return;const f={relatedTarget:this._element};if(!U.trigger(this._element,Vn,f).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))U.on(g,"mouseover",Q);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(p),this._element.classList.add(p),U.trigger(this._element,al,f)}}hide(){if(I(this._element)||!this._isShown())return;const f={relatedTarget:this._element};this._completeHide(f)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(f){if(!U.trigger(this._element,rl,f).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))U.off(g,"mouseover",Q);this._popper&&this._popper.destroy(),this._menu.classList.remove(p),this._element.classList.remove(p),this._element.setAttribute("aria-expanded","false"),qt.removeDataAttribute(this._menu,"popper"),U.trigger(this._element,va,f)}}_getConfig(f){if(typeof(f=super._getConfig(f)).reference=="object"&&!v(f.reference)&&typeof f.reference.getBoundingClientRect!="function")throw new TypeError(`${_a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return f}_createPopper(){if(Co===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let f=this._element;this._config.reference==="parent"?f=this._parent:v(this._config.reference)?f=b(this._config.reference):typeof this._config.reference=="object"&&(f=this._config.reference);const g=this._getPopperConfig();this._popper=Zs(f,this._menu,g)}_isShown(){return this._menu.classList.contains(p)}_getPlacement(){const f=this._parent;if(f.classList.contains("dropend"))return ee;if(f.classList.contains("dropstart"))return cn;if(f.classList.contains("dropup-center"))return"top";if(f.classList.contains("dropdown-center"))return"bottom";const g=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return f.classList.contains("dropup")?g?ft:J:g?nn:te}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:f}=this._config;return typeof f=="string"?f.split(",").map(g=>Number.parseInt(g,10)):typeof f=="function"?g=>f(g,this._element):f}_getPopperConfig(){const f={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(qt.setDataAttribute(this._menu,"popper","static"),f.modifiers=[{name:"applyStyles",enabled:!1}]),{...f,...ut(this._config.popperConfig,[void 0,f])}}_selectMenuItem({key:f,target:g}){const w=St.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>S(k));w.length&&gt(w,g,f===xo,!w.includes(g)).focus()}static jQueryInterface(f){return this.each(function(){const g=Se.getOrCreateInstance(this,f);if(typeof f=="string"){if(g[f]===void 0)throw new TypeError(`No method named "${f}"`);g[f]()}})}static clearMenus(f){if(f.button===2||f.type==="keyup"&&f.key!=="Tab")return;const g=St.find(C);for(const w of g){const k=Se.getInstance(w);if(!k||k._config.autoClose===!1)continue;const B=f.composedPath(),Z=B.includes(k._menu);if(B.includes(k._element)||k._config.autoClose==="inside"&&!Z||k._config.autoClose==="outside"&&Z||k._menu.contains(f.target)&&(f.type==="keyup"&&f.key==="Tab"||/input|select|option|textarea|form/i.test(f.target.tagName)))continue;const st={relatedTarget:k._element};f.type==="click"&&(st.clickEvent=f),k._completeHide(st)}}static dataApiKeydownHandler(f){const g=/input|textarea/i.test(f.target.tagName),w=f.key==="Escape",k=[sl,xo].includes(f.key);if(!k&&!w||g&&!w)return;f.preventDefault();const B=this.matches(y)?this:St.prev(this,y)[0]||St.next(this,y)[0]||St.findOne(y,f.delegateTarget.parentNode),Z=Se.getOrCreateInstance(B);if(k)return f.stopPropagation(),Z.show(),void Z._selectMenuItem(f);Z._isShown()&&(f.stopPropagation(),Z.hide(),B.focus())}}U.on(document,ji,y,Se.dataApiKeydownHandler),U.on(document,ji,F,Se.dataApiKeydownHandler),U.on(document,Do,Se.clearMenus),U.on(document,u,Se.clearMenus),U.on(document,Do,y,function(T){T.preventDefault(),Se.getOrCreateInstance(this).toggle()}),lt(Se);const Li="backdrop",ba="show",No=`mousedown.bs.${Li}`,Bc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},qc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ol extends jt{constructor(f){super(),this._config=this._getConfig(f),this._isAppended=!1,this._element=null}static get Default(){return Bc}static get DefaultType(){return qc}static get NAME(){return Li}show(f){if(!this._config.isVisible)return void ut(f);this._append();const g=this._getElement();this._config.isAnimated&&X(g),g.classList.add(ba),this._emulateAnimation(()=>{ut(f)})}hide(f){this._config.isVisible?(this._getElement().classList.remove(ba),this._emulateAnimation(()=>{this.dispose(),ut(f)})):ut(f)}dispose(){this._isAppended&&(U.off(this._element,No),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const f=document.createElement("div");f.className=this._config.className,this._config.isAnimated&&f.classList.add("fade"),this._element=f}return this._element}_configAfterMerge(f){return f.rootElement=b(f.rootElement),f}_append(){if(this._isAppended)return;const f=this._getElement();this._config.rootElement.append(f),U.on(f,No,()=>{ut(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(f){vt(f,this._getElement(),this._config.isAnimated)}}const Ea=".bs.focustrap",Hc=`focusin${Ea}`,Fc=`keydown.tab${Ea}`,du="backward",Jf={autofocus:!0,trapElement:null},Wf={autofocus:"boolean",trapElement:"element"};class Gc extends jt{constructor(f){super(),this._config=this._getConfig(f),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Jf}static get DefaultType(){return Wf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),U.off(document,Ea),U.on(document,Hc,f=>this._handleFocusin(f)),U.on(document,Fc,f=>this._handleKeydown(f)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,U.off(document,Ea))}_handleFocusin(f){const{trapElement:g}=this._config;if(f.target===document||f.target===g||g.contains(f.target))return;const w=St.focusableChildren(g);w.length===0?g.focus():this._lastTabNavDirection===du?w[w.length-1].focus():w[0].focus()}_handleKeydown(f){f.key==="Tab"&&(this._lastTabNavDirection=f.shiftKey?du:"forward")}}const Qc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yc=".sticky-top",En="padding-right",Ta="margin-right";class ll{constructor(){this._element=document.body}getWidth(){const f=document.documentElement.clientWidth;return Math.abs(window.innerWidth-f)}hide(){const f=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,En,g=>g+f),this._setElementAttributes(Qc,En,g=>g+f),this._setElementAttributes(Yc,Ta,g=>g-f)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,En),this._resetElementAttributes(Qc,En),this._resetElementAttributes(Yc,Ta)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(f,g,w){const k=this.getWidth();this._applyManipulationCallback(f,B=>{if(B!==this._element&&window.innerWidth>B.clientWidth+k)return;this._saveInitialAttribute(B,g);const Z=window.getComputedStyle(B).getPropertyValue(g);B.style.setProperty(g,`${w(Number.parseFloat(Z))}px`)})}_saveInitialAttribute(f,g){const w=f.style.getPropertyValue(g);w&&qt.setDataAttribute(f,g,w)}_resetElementAttributes(f,g){this._applyManipulationCallback(f,w=>{const k=qt.getDataAttribute(w,g);k!==null?(qt.removeDataAttribute(w,g),w.style.setProperty(g,k)):w.style.removeProperty(g)})}_applyManipulationCallback(f,g){if(v(f))g(f);else for(const w of St.find(f,this._element))g(w)}}const ei=".bs.modal",$c=`hide${ei}`,Kc=`hidePrevented${ei}`,ul=`hidden${ei}`,Xc=`show${ei}`,Aa=`shown${ei}`,mu=`resize${ei}`,Io=`click.dismiss${ei}`,pu=`mousedown.dismiss${ei}`,Zc=`keydown.dismiss${ei}`,Ir=`click${ei}.data-api`,Or="modal-open",cl="show",hl="modal-static",Vr={backdrop:!0,focus:!0,keyboard:!0},Jc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Js extends Ee{constructor(f,g){super(f,g),this._dialog=St.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ll,this._addEventListeners()}static get Default(){return Vr}static get DefaultType(){return Jc}static get NAME(){return"modal"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||this._isTransitioning||U.trigger(this._element,Xc,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Or),this._adjustDialog(),this._backdrop.show(()=>this._showElement(f)))}hide(){this._isShown&&!this._isTransitioning&&(U.trigger(this._element,$c).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(cl),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){U.off(window,ei),U.off(this._dialog,ei),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ol({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Gc({trapElement:this._element})}_showElement(f){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=St.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),X(this._element),this._element.classList.add(cl),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,U.trigger(this._element,Aa,{relatedTarget:f})},this._dialog,this._isAnimated())}_addEventListeners(){U.on(this._element,Zc,f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),U.on(window,mu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),U.on(this._element,pu,f=>{U.one(this._element,Io,g=>{this._element===f.target&&this._element===g.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Or),this._resetAdjustments(),this._scrollBar.reset(),U.trigger(this._element,ul)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(U.trigger(this._element,Kc).defaultPrevented)return;const f=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(hl)||(f||(this._element.style.overflowY="hidden"),this._element.classList.add(hl),this._queueCallback(()=>{this._element.classList.remove(hl),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const f=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),w=g>0;if(w&&!f){const k=bt()?"paddingLeft":"paddingRight";this._element.style[k]=`${g}px`}if(!w&&f){const k=bt()?"paddingRight":"paddingLeft";this._element.style[k]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(f,g){return this.each(function(){const w=Js.getOrCreateInstance(this,f);if(typeof f=="string"){if(w[f]===void 0)throw new TypeError(`No method named "${f}"`);w[f](g)}})}}U.on(document,Ir,'[data-bs-toggle="modal"]',function(T){const f=St.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&T.preventDefault(),U.one(f,Xc,w=>{w.defaultPrevented||U.one(f,ul,()=>{S(this)&&this.focus()})});const g=St.findOne(".modal.show");g&&Js.getInstance(g).hide(),Js.getOrCreateInstance(f).toggle(this)}),xi(Js),lt(Js);const rs=".bs.offcanvas",Wc=".data-api",td=`load${rs}${Wc}`,th="show",gu="showing",_u="hiding",fl=".offcanvas.show",Pi=`show${rs}`,eh=`shown${rs}`,bi=`hide${rs}`,ni=`hidePrevented${rs}`,Mr=`hidden${rs}`,yu=`resize${rs}`,dl=`click${rs}${Wc}`,ml=`keydown.dismiss${rs}`,vu={backdrop:!0,keyboard:!0,scroll:!1},Sa={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class as extends Ee{constructor(f,g){super(f,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vu}static get DefaultType(){return Sa}static get NAME(){return"offcanvas"}toggle(f){return this._isShown?this.hide():this.show(f)}show(f){this._isShown||U.trigger(this._element,Pi,{relatedTarget:f}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ll().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(gu),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(th),this._element.classList.remove(gu),U.trigger(this._element,eh,{relatedTarget:f})},this._element,!0))}hide(){this._isShown&&(U.trigger(this._element,bi).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_u),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(th,_u),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ll().reset(),U.trigger(this._element,Mr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const f=!!this._config.backdrop;return new ol({className:"offcanvas-backdrop",isVisible:f,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:f?()=>{this._config.backdrop!=="static"?this.hide():U.trigger(this._element,ni)}:null})}_initializeFocusTrap(){return new Gc({trapElement:this._element})}_addEventListeners(){U.on(this._element,ml,f=>{f.key==="Escape"&&(this._config.keyboard?this.hide():U.trigger(this._element,ni))})}static jQueryInterface(f){return this.each(function(){const g=as.getOrCreateInstance(this,f);if(typeof f=="string"){if(g[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);g[f](this)}})}}U.on(document,dl,'[data-bs-toggle="offcanvas"]',function(T){const f=St.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&T.preventDefault(),I(this))return;U.one(f,Mr,()=>{S(this)&&this.focus()});const g=St.findOne(fl);g&&g!==f&&as.getInstance(g).hide(),as.getOrCreateInstance(f).toggle(this)}),U.on(window,td,()=>{for(const T of St.find(fl))as.getOrCreateInstance(T).show()}),U.on(window,yu,()=>{for(const T of St.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(T).position!=="fixed"&&as.getOrCreateInstance(T).hide()}),xi(as),lt(as);const Oo={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},wa=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ed=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ii=(T,f)=>{const g=T.nodeName.toLowerCase();return f.includes(g)?!wa.has(g)||!!ed.test(T.nodeValue):f.filter(w=>w instanceof RegExp).some(w=>w.test(g))},bu={allowList:Oo,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ts={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nh={entry:"(string|element|function|null)",selector:"(string|element)"};class pl extends jt{constructor(f){super(),this._config=this._getConfig(f)}static get Default(){return bu}static get DefaultType(){return Ts}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(f=>this._resolvePossibleFunction(f)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(f){return this._checkContent(f),this._config.content={...this._config.content,...f},this}toHtml(){const f=document.createElement("div");f.innerHTML=this._maybeSanitize(this._config.template);for(const[k,B]of Object.entries(this._config.content))this._setContent(f,B,k);const g=f.children[0],w=this._resolvePossibleFunction(this._config.extraClass);return w&&g.classList.add(...w.split(" ")),g}_typeCheckConfig(f){super._typeCheckConfig(f),this._checkContent(f.content)}_checkContent(f){for(const[g,w]of Object.entries(f))super._typeCheckConfig({selector:g,entry:w},nh)}_setContent(f,g,w){const k=St.findOne(w,f);k&&((g=this._resolvePossibleFunction(g))?v(g)?this._putElementInTemplate(b(g),k):this._config.html?k.innerHTML=this._maybeSanitize(g):k.textContent=g:k.remove())}_maybeSanitize(f){return this._config.sanitize?(function(g,w,k){if(!g.length)return g;if(k&&typeof k=="function")return k(g);const B=new window.DOMParser().parseFromString(g,"text/html"),Z=[].concat(...B.body.querySelectorAll("*"));for(const st of Z){const ht=st.nodeName.toLowerCase();if(!Object.keys(w).includes(ht)){st.remove();continue}const Et=[].concat(...st.attributes),Tt=[].concat(w["*"]||[],w[ht]||[]);for(const _t of Et)ii(_t,Tt)||st.removeAttribute(_t.nodeName)}return B.body.innerHTML})(f,this._config.allowList,this._config.sanitizeFn):f}_resolvePossibleFunction(f){return ut(f,[void 0,this])}_putElementInTemplate(f,g){if(this._config.html)return g.innerHTML="",void g.append(f);g.textContent=f.textContent}}const jr=new Set(["sanitize","allowList","sanitizeFn"]),Vo="fade",Ra="show",Ca=".tooltip-inner",Lr=".modal",Mo="hide.bs.modal",Ws="hover",Hn="focus",Fn="click",Pr={AUTO:"auto",TOP:"top",RIGHT:bt()?"left":"right",BOTTOM:"bottom",LEFT:bt()?"right":"left"},As={allowList:Oo,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ss={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class si extends Ee{constructor(f,g){if(Co===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(f,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return As}static get DefaultType(){return Ss}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),U.off(this._element.closest(Lr),Mo,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const f=U.trigger(this._element,this.constructor.eventName("show")),g=(D(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(f.defaultPrevented||!g)return;this._disposePopper();const w=this._getTipElement();this._element.setAttribute("aria-describedby",w.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(w),U.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(w),w.classList.add(Ra),"ontouchstart"in document.documentElement)for(const B of[].concat(...document.body.children))U.on(B,"mouseover",Q);this._queueCallback(()=>{U.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!U.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ra),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))U.off(f,"mouseover",Q);this._activeTrigger[Fn]=!1,this._activeTrigger[Hn]=!1,this._activeTrigger[Ws]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),U.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(f){const g=this._getTemplateFactory(f).toHtml();if(!g)return null;g.classList.remove(Vo,Ra),g.classList.add(`bs-${this.constructor.NAME}-auto`);const w=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return g.setAttribute("id",w),this._isAnimated()&&g.classList.add(Vo),g}setContent(f){this._newContent=f,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(f){return this._templateFactory?this._templateFactory.changeContent(f):this._templateFactory=new pl({...this._config,content:f,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Ca]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(f){return this.constructor.getOrCreateInstance(f.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Vo)}_isShown(){return this.tip&&this.tip.classList.contains(Ra)}_createPopper(f){const g=ut(this._config.placement,[this,f,this._element]),w=Pr[g.toUpperCase()];return Zs(this._element,f,this._getPopperConfig(w))}_getOffset(){const{offset:f}=this._config;return typeof f=="string"?f.split(",").map(g=>Number.parseInt(g,10)):typeof f=="function"?g=>f(g,this._element):f}_resolvePossibleFunction(f){return ut(f,[this._element,this._element])}_getPopperConfig(f){const g={placement:f,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:w=>{this._getTipElement().setAttribute("data-popper-placement",w.state.placement)}}]};return{...g,...ut(this._config.popperConfig,[void 0,g])}}_setListeners(){const f=this._config.trigger.split(" ");for(const g of f)if(g==="click")U.on(this._element,this.constructor.eventName("click"),this._config.selector,w=>{const k=this._initializeOnDelegatedTarget(w);k._activeTrigger[Fn]=!(k._isShown()&&k._activeTrigger[Fn]),k.toggle()});else if(g!=="manual"){const w=g===Ws?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=g===Ws?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");U.on(this._element,w,this._config.selector,B=>{const Z=this._initializeOnDelegatedTarget(B);Z._activeTrigger[B.type==="focusin"?Hn:Ws]=!0,Z._enter()}),U.on(this._element,k,this._config.selector,B=>{const Z=this._initializeOnDelegatedTarget(B);Z._activeTrigger[B.type==="focusout"?Hn:Ws]=Z._element.contains(B.relatedTarget),Z._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},U.on(this._element.closest(Lr),Mo,this._hideModalHandler)}_fixTitle(){const f=this._element.getAttribute("title");f&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",f),this._element.setAttribute("data-bs-original-title",f),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(f,g){clearTimeout(this._timeout),this._timeout=setTimeout(f,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(f){const g=qt.getDataAttributes(this._element);for(const w of Object.keys(g))jr.has(w)&&delete g[w];return f={...g,...typeof f=="object"&&f?f:{}},f=this._mergeConfigObj(f),f=this._configAfterMerge(f),this._typeCheckConfig(f),f}_configAfterMerge(f){return f.container=f.container===!1?document.body:b(f.container),typeof f.delay=="number"&&(f.delay={show:f.delay,hide:f.delay}),typeof f.title=="number"&&(f.title=f.title.toString()),typeof f.content=="number"&&(f.content=f.content.toString()),f}_getDelegateConfig(){const f={};for(const[g,w]of Object.entries(this._config))this.constructor.Default[g]!==w&&(f[g]=w);return f.selector=!1,f.trigger="manual",f}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(f){return this.each(function(){const g=si.getOrCreateInstance(this,f);if(typeof f=="string"){if(g[f]===void 0)throw new TypeError(`No method named "${f}"`);g[f]()}})}}lt(si);const ih=".popover-header",Eu=".popover-body",Tu={...si.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Mn={...si.DefaultType,content:"(null|string|element|function)"};class Oe extends si{static get Default(){return Tu}static get DefaultType(){return Mn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ih]:this._getTitle(),[Eu]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(f){return this.each(function(){const g=Oe.getOrCreateInstance(this,f);if(typeof f=="string"){if(g[f]===void 0)throw new TypeError(`No method named "${f}"`);g[f]()}})}}lt(Oe);const re=".bs.scrollspy",Ur=`activate${re}`,Ui=`click${re}`,Au=`load${re}.data-api`,Ei="active",gl="[href]",Su=".nav-link",jo=`${Su}, .nav-item > ${Su}, .list-group-item`,Lo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},sh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ws extends Ee{constructor(f,g){super(f,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Lo}static get DefaultType(){return sh}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const f of this._observableSections.values())this._observer.observe(f)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(f){return f.target=b(f.target)||document.body,f.rootMargin=f.offset?`${f.offset}px 0px -30%`:f.rootMargin,typeof f.threshold=="string"&&(f.threshold=f.threshold.split(",").map(g=>Number.parseFloat(g))),f}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(U.off(this._config.target,Ui),U.on(this._config.target,Ui,gl,f=>{const g=this._observableSections.get(f.target.hash);if(g){f.preventDefault();const w=this._rootElement||window,k=g.offsetTop-this._element.offsetTop;if(w.scrollTo)return void w.scrollTo({top:k,behavior:"smooth"});w.scrollTop=k}}))}_getNewObserver(){const f={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(g=>this._observerCallback(g),f)}_observerCallback(f){const g=Z=>this._targetLinks.get(`#${Z.target.id}`),w=Z=>{this._previousScrollData.visibleEntryTop=Z.target.offsetTop,this._process(g(Z))},k=(this._rootElement||document.documentElement).scrollTop,B=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const Z of f){if(!Z.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(Z));continue}const st=Z.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(B&&st){if(w(Z),!k)return}else B||st||w(Z)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const f=St.find(gl,this._config.target);for(const g of f){if(!g.hash||I(g))continue;const w=St.findOne(decodeURI(g.hash),this._element);S(w)&&(this._targetLinks.set(decodeURI(g.hash),g),this._observableSections.set(g.hash,w))}}_process(f){this._activeTarget!==f&&(this._clearActiveClass(this._config.target),this._activeTarget=f,f.classList.add(Ei),this._activateParents(f),U.trigger(this._element,Ur,{relatedTarget:f}))}_activateParents(f){if(f.classList.contains("dropdown-item"))St.findOne(".dropdown-toggle",f.closest(".dropdown")).classList.add(Ei);else for(const g of St.parents(f,".nav, .list-group"))for(const w of St.prev(g,jo))w.classList.add(Ei)}_clearActiveClass(f){f.classList.remove(Ei);const g=St.find(`${gl}.${Ei}`,f);for(const w of g)w.classList.remove(Ei)}static jQueryInterface(f){return this.each(function(){const g=ws.getOrCreateInstance(this,f);if(typeof f=="string"){if(g[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);g[f]()}})}}U.on(window,Au,()=>{for(const T of St.find('[data-bs-spy="scroll"]'))ws.getOrCreateInstance(T)}),lt(ws);const Rs=".bs.tab",zr=`hide${Rs}`,Cs=`hidden${Rs}`,tr=`show${Rs}`,xs=`shown${Rs}`,wu=`click${Rs}`,Ru=`keydown${Rs}`,Po=`load${Rs}`,_l="ArrowLeft",er="ArrowRight",Tn="ArrowUp",Uo="ArrowDown",yl="Home",rh="End",kr="active",ah="fade",Fe="show",vl=".dropdown-toggle",Br=`:not(${vl})`,xa='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zo=`.nav-link${Br}, .list-group-item${Br}, [role="tab"]${Br}, ${xa}`,Da=`.${kr}[data-bs-toggle="tab"], .${kr}[data-bs-toggle="pill"], .${kr}[data-bs-toggle="list"]`;class Ti extends Ee{constructor(f){super(f),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),U.on(this._element,Ru,g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const f=this._element;if(this._elemIsActive(f))return;const g=this._getActiveElem(),w=g?U.trigger(g,zr,{relatedTarget:f}):null;U.trigger(f,tr,{relatedTarget:g}).defaultPrevented||w&&w.defaultPrevented||(this._deactivate(g,f),this._activate(f,g))}_activate(f,g){f&&(f.classList.add(kr),this._activate(St.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.removeAttribute("tabindex"),f.setAttribute("aria-selected",!0),this._toggleDropDown(f,!0),U.trigger(f,xs,{relatedTarget:g})):f.classList.add(Fe)},f,f.classList.contains(ah)))}_deactivate(f,g){f&&(f.classList.remove(kr),f.blur(),this._deactivate(St.getElementFromSelector(f)),this._queueCallback(()=>{f.getAttribute("role")==="tab"?(f.setAttribute("aria-selected",!1),f.setAttribute("tabindex","-1"),this._toggleDropDown(f,!1),U.trigger(f,Cs,{relatedTarget:g})):f.classList.remove(Fe)},f,f.classList.contains(ah)))}_keydown(f){if(![_l,er,Tn,Uo,yl,rh].includes(f.key))return;f.stopPropagation(),f.preventDefault();const g=this._getChildren().filter(k=>!I(k));let w;if([yl,rh].includes(f.key))w=g[f.key===yl?0:g.length-1];else{const k=[er,Uo].includes(f.key);w=gt(g,f.target,k,!0)}w&&(w.focus({preventScroll:!0}),Ti.getOrCreateInstance(w).show())}_getChildren(){return St.find(zo,this._parent)}_getActiveElem(){return this._getChildren().find(f=>this._elemIsActive(f))||null}_setInitialAttributes(f,g){this._setAttributeIfNotExists(f,"role","tablist");for(const w of g)this._setInitialAttributesOnChild(w)}_setInitialAttributesOnChild(f){f=this._getInnerElement(f);const g=this._elemIsActive(f),w=this._getOuterElement(f);f.setAttribute("aria-selected",g),w!==f&&this._setAttributeIfNotExists(w,"role","presentation"),g||f.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(f,"role","tab"),this._setInitialAttributesOnTargetPanel(f)}_setInitialAttributesOnTargetPanel(f){const g=St.getElementFromSelector(f);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),f.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`${f.id}`))}_toggleDropDown(f,g){const w=this._getOuterElement(f);if(!w.classList.contains("dropdown"))return;const k=(B,Z)=>{const st=St.findOne(B,w);st&&st.classList.toggle(Z,g)};k(vl,kr),k(".dropdown-menu",Fe),w.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(f,g,w){f.hasAttribute(g)||f.setAttribute(g,w)}_elemIsActive(f){return f.classList.contains(kr)}_getInnerElement(f){return f.matches(zo)?f:St.findOne(zo,f)}_getOuterElement(f){return f.closest(".nav-item, .list-group-item")||f}static jQueryInterface(f){return this.each(function(){const g=Ti.getOrCreateInstance(this);if(typeof f=="string"){if(g[f]===void 0||f.startsWith("_")||f==="constructor")throw new TypeError(`No method named "${f}"`);g[f]()}})}}U.on(document,wu,xa,function(T){["A","AREA"].includes(this.tagName)&&T.preventDefault(),I(this)||Ti.getOrCreateInstance(this).show()}),U.on(window,Po,()=>{for(const T of St.find(Da))Ti.getOrCreateInstance(T)}),lt(Ti);const nr=".bs.toast",oh=`mouseover${nr}`,nd=`mouseout${nr}`,lh=`focusin${nr}`,qr=`focusout${nr}`,Cu=`hide${nr}`,bl=`hidden${nr}`,uh=`show${nr}`,ko=`shown${nr}`,xu="hide",Hr="show",Na="showing",ch={animation:"boolean",autohide:"boolean",delay:"number"},El={animation:!0,autohide:!0,delay:5e3};class Ia extends Ee{constructor(f,g){super(f,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return El}static get DefaultType(){return ch}static get NAME(){return"toast"}show(){U.trigger(this._element,uh).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(xu),X(this._element),this._element.classList.add(Hr,Na),this._queueCallback(()=>{this._element.classList.remove(Na),U.trigger(this._element,ko),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(U.trigger(this._element,Cu).defaultPrevented||(this._element.classList.add(Na),this._queueCallback(()=>{this._element.classList.add(xu),this._element.classList.remove(Na,Hr),U.trigger(this._element,bl)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Hr),super.dispose()}isShown(){return this._element.classList.contains(Hr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(f,g){switch(f.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const w=f.relatedTarget;this._element===w||this._element.contains(w)||this._maybeScheduleHide()}_setListeners(){U.on(this._element,oh,f=>this._onInteraction(f,!0)),U.on(this._element,nd,f=>this._onInteraction(f,!1)),U.on(this._element,lh,f=>this._onInteraction(f,!0)),U.on(this._element,qr,f=>this._onInteraction(f,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(f){return this.each(function(){const g=Ia.getOrCreateInstance(this,f);if(typeof f=="string"){if(g[f]===void 0)throw new TypeError(`No method named "${f}"`);g[f](this)}})}}return xi(Ia),lt(Ia),{Alert:Di,Button:Vs,Carousel:ye,Collapse:xe,Dropdown:Se,Modal:Js,Offcanvas:as,Popover:Oe,ScrollSpy:ws,Tab:Ti,Toast:Ia,Tooltip:si}})})(ff)),ff.exports}lw();IE.createRoot(document.getElementById("root")).render(R.jsx(Ja.StrictMode,{children:R.jsx(aw,{})}));
